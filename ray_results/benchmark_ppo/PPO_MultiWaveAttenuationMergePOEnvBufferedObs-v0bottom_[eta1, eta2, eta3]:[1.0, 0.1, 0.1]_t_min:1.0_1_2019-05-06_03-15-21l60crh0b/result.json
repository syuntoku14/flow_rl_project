{"episode_len_mean": 700.0, "time_this_iter_s": 39.842713356018066, "node_ip": "10.138.0.2", "episodes_total": 7, "time_since_restore": 39.842713356018066, "episode_reward_mean": 307.21922306735206, "timesteps_total": 39803, "timesteps_since_restore": 39803, "timesteps_this_iter": 39803, "hostname": "flow-main", "pid": 24598, "time_total_s": 39.842713356018066, "info": {"sample_time_ms": 29677.003, "num_steps_sampled": 39803, "num_steps_trained": 39803, "grad_time_ms": 9075.958, "default": {"total_loss": 1.3942900896072388, "entropy": 1.4201860427856445, "vf_explained_var": 0.8793728947639465, "cur_kl_coeff": 0.20000003278255463, "cur_lr": 0.0005000000237487257, "vf_loss": 1.3944345712661743, "policy_loss": -0.0003485078632365912, "kl": 0.001020359224639833}, "update_time_ms": 849.666, "load_time_ms": 108.32}, "done": false, "iterations_since_restore": 1, "episode_reward_min": 283.7434673814759, "episode_reward_max": 381.28927526003093, "training_iteration": 1, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-16-22", "timestamp": 1557112582, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 7, "custom_metrics": {"system_level_velocity_min": 6.638361405672146, "cost2_max": 0.0, "cost1_mean": 182.84924967364444, "system_level_velocity_mean": 7.251665306614994, "cost1_min": 169.17590813842003, "outflow_rate_min": 555.7858397400178, "system_level_velocity_max": 8.205038554610606, "cost2_min": 0.0, "cost1_max": 204.81386395288916, "outflow_rate_mean": 572.1767751247443, "cost2_mean": 0.0, "outflow_rate_max": 600.8970657571313}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976829470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976829438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768294a8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.270081758499146, "node_ip": "10.138.0.2", "episodes_total": 27, "time_since_restore": 61.11279511451721, "episode_reward_mean": 382.0490532791995, "timesteps_total": 80637, "timesteps_since_restore": 80637, "timesteps_this_iter": 40834, "hostname": "flow-main", "pid": 24598, "time_total_s": 61.11279511451721, "info": {"sample_time_ms": 21879.859, "num_steps_sampled": 80637, "num_steps_trained": 80637, "grad_time_ms": 8088.302, "default": {"total_loss": 2.011165142059326, "entropy": 1.403120994567871, "vf_explained_var": 0.8892313241958618, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 2.0158450603485107, "policy_loss": -0.005979278590530157, "kl": 0.012993414886295795}, "update_time_ms": 428.226, "load_time_ms": 59.543}, "done": false, "iterations_since_restore": 2, "episode_reward_min": 240.95620352242375, "episode_reward_max": 606.0873332886234, "training_iteration": 2, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-16-44", "timestamp": 1557112604, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "custom_metrics": {"system_level_velocity_min": 5.608162481395977, "cost2_max": 0.0, "cost1_mean": 195.84877301046586, "system_level_velocity_mean": 7.588247807307057, "cost1_min": 145.71371447039076, "outflow_rate_min": 498.3630651412413, "system_level_velocity_max": 9.156316610706632, "cost2_min": -0.04996391546641539, "cost1_max": 241.90600194065647, "outflow_rate_mean": 609.4621948883905, "cost2_mean": -0.0018505153876450145, "outflow_rate_max": 797.1757149574534}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768415f8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.076083660125732, "node_ip": "10.138.0.2", "episodes_total": 42, "time_since_restore": 81.18887877464294, "episode_reward_mean": 437.25150183843755, "timesteps_total": 121561, "timesteps_since_restore": 121561, "timesteps_this_iter": 40924, "hostname": "flow-main", "pid": 24598, "time_total_s": 81.18887877464294, "info": {"sample_time_ms": 18607.264, "num_steps_sampled": 121561, "num_steps_trained": 121561, "grad_time_ms": 8032.305, "default": {"total_loss": 4.719919204711914, "entropy": 1.3869773149490356, "vf_explained_var": 0.9027050137519836, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 4.721684455871582, "policy_loss": -0.002345058601349592, "kl": 0.005799644626677036}, "update_time_ms": 287.897, "load_time_ms": 42.777}, "done": false, "iterations_since_restore": 3, "episode_reward_min": 240.95620352242375, "episode_reward_max": 752.5268981835229, "training_iteration": 3, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-17-04", "timestamp": 1557112624, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 5.608162481395977, "cost2_max": 0.0, "cost1_mean": 205.06467485933467, "system_level_velocity_mean": 7.917203651941649, "cost1_min": 145.71371447039076, "outflow_rate_min": 498.3630651412413, "system_level_velocity_max": 10.15070459231663, "cost2_min": -0.04996391546641539, "cost1_max": 267.1559270147619, "outflow_rate_mean": 640.9941073922636, "cost2_mean": -0.0011896170349146521, "outflow_rate_max": 876.3136409078263}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9c18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 19.524884700775146, "node_ip": "10.138.0.2", "episodes_total": 61, "time_since_restore": 100.71376347541809, "episode_reward_mean": 570.3994216866336, "timesteps_total": 162783, "timesteps_since_restore": 162783, "timesteps_this_iter": 41222, "hostname": "flow-main", "pid": 24598, "time_total_s": 100.71376347541809, "info": {"sample_time_ms": 17095.642, "num_steps_sampled": 162783, "num_steps_trained": 162783, "grad_time_ms": 7741.825, "default": {"total_loss": 5.494264125823975, "entropy": 1.383630394935608, "vf_explained_var": 0.9233245849609375, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 5.496738433837891, "policy_loss": -0.003081436036154628, "kl": 0.006074537988752127}, "update_time_ms": 217.439, "load_time_ms": 34.972}, "done": false, "iterations_since_restore": 4, "episode_reward_min": 240.95620352242375, "episode_reward_max": 1030.1816019649755, "training_iteration": 4, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-17-23", "timestamp": 1557112643, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 5.608162481395977, "cost2_max": 0.0, "cost1_mean": 228.77346254560535, "system_level_velocity_mean": 8.759541480428771, "cost1_min": 145.71371447039076, "outflow_rate_min": 498.3630651412413, "system_level_velocity_max": 13.637207861497211, "cost2_min": -0.08596541411839266, "cost1_max": 364.6259750582588, "outflow_rate_mean": 730.4315153471839, "cost2_mean": -0.006934552914888684, "outflow_rate_max": 1149.7707132608657}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841f28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841f98>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.19756507873535, "node_ip": "10.138.0.2", "episodes_total": 79, "time_since_restore": 121.91132855415344, "episode_reward_mean": 653.8616694657896, "timesteps_total": 205022, "timesteps_since_restore": 205022, "timesteps_this_iter": 42239, "hostname": "flow-main", "pid": 24598, "time_total_s": 121.91132855415344, "info": {"sample_time_ms": 16157.394, "num_steps_sampled": 205022, "num_steps_trained": 205022, "grad_time_ms": 7931.22, "default": {"total_loss": 6.826323986053467, "entropy": 1.3739196062088013, "vf_explained_var": 0.8803143501281738, "cur_kl_coeff": 0.10000000149011612, "cur_lr": 0.0005000000237487257, "vf_loss": 6.827092170715332, "policy_loss": -0.001210578135214746, "kl": 0.00442017987370491}, "update_time_ms": 175.192, "load_time_ms": 30.955}, "done": false, "iterations_since_restore": 5, "episode_reward_min": 240.95620352242375, "episode_reward_max": 1072.522938262056, "training_iteration": 5, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-17-45", "timestamp": 1557112665, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 5.022530571868308, "cost2_max": 0.0, "cost1_mean": 241.8752449498327, "system_level_velocity_mean": 9.232561744883633, "cost1_min": 127.22805992961027, "outflow_rate_min": 498.3630651412413, "system_level_velocity_max": 13.637207861497211, "cost2_min": -0.32665826831972483, "cost1_max": 364.6259750582588, "outflow_rate_mean": 783.873319839459, "cost2_mean": -0.01815883728339522, "outflow_rate_max": 1149.7707132608657}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768412e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768417f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841048>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 19.484976053237915, "node_ip": "10.138.0.2", "episodes_total": 85, "time_since_restore": 141.39630460739136, "episode_reward_mean": 674.9732947917715, "timesteps_total": 246801, "timesteps_since_restore": 246801, "timesteps_this_iter": 41779, "hostname": "flow-main", "pid": 24598, "time_total_s": 141.39630460739136, "info": {"sample_time_ms": 15284.904, "num_steps_sampled": 246801, "num_steps_trained": 246801, "grad_time_ms": 8021.977, "default": {"total_loss": 4.712889671325684, "entropy": 1.3673259019851685, "vf_explained_var": 0.9366843700408936, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 4.71497106552124, "policy_loss": -0.0024459578562527895, "kl": 0.007297214586287737}, "update_time_ms": 147.142, "load_time_ms": 27.753}, "done": false, "iterations_since_restore": 6, "episode_reward_min": 240.95620352242375, "episode_reward_max": 1072.522938262056, "training_iteration": 6, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-18-04", "timestamp": 1557112684, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 6, "custom_metrics": {"system_level_velocity_min": 5.022530571868308, "cost2_max": 0.0, "cost1_mean": 246.36260593291786, "system_level_velocity_mean": 9.398897560156556, "cost1_min": 127.22805992961027, "outflow_rate_min": 498.3630651412413, "system_level_velocity_max": 13.637207861497211, "cost2_min": -0.32665826831972483, "cost1_max": 364.6259750582588, "outflow_rate_mean": 800.9129055369033, "cost2_mean": -0.017965492022036948, "outflow_rate_max": 1149.7707132608657}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9da0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9c18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.34443950653076, "node_ip": "10.138.0.2", "episodes_total": 104, "time_since_restore": 162.74074411392212, "episode_reward_mean": 737.142180436629, "timesteps_total": 290845, "timesteps_since_restore": 290845, "timesteps_this_iter": 44044, "hostname": "flow-main", "pid": 24598, "time_total_s": 162.74074411392212, "info": {"sample_time_ms": 14829.032, "num_steps_sampled": 290845, "num_steps_trained": 290845, "grad_time_ms": 8182.858, "default": {"total_loss": 7.170110702514648, "entropy": 1.3724453449249268, "vf_explained_var": 0.8997189998626709, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 7.171095848083496, "policy_loss": -0.0012884846655651927, "kl": 0.006080384831875563}, "update_time_ms": 126.96, "load_time_ms": 25.489}, "done": false, "iterations_since_restore": 7, "episode_reward_min": 240.95620352242375, "episode_reward_max": 1072.522938262056, "training_iteration": 7, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-18-26", "timestamp": 1557112706, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 5.022530571868308, "cost2_max": 0.0, "cost1_mean": 257.58884014636385, "system_level_velocity_mean": 9.805679938357821, "cost1_min": 127.22805992961027, "outflow_rate_min": 498.3630651412413, "system_level_velocity_max": 13.637207861497211, "cost2_min": -0.32665826831972483, "cost1_max": 364.6259750582588, "outflow_rate_mean": 844.7977879118445, "cost2_mean": -0.030945878253192463, "outflow_rate_max": 1149.7707132608657}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9048>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.67768907546997, "node_ip": "10.138.0.2", "episodes_total": 121, "time_since_restore": 184.4184331893921, "episode_reward_mean": 812.4279424921906, "timesteps_total": 332251, "timesteps_since_restore": 332251, "timesteps_this_iter": 41406, "hostname": "flow-main", "pid": 24598, "time_total_s": 184.4184331893921, "info": {"sample_time_ms": 14443.937, "num_steps_sampled": 332251, "num_steps_trained": 332251, "grad_time_ms": 8389.309, "default": {"total_loss": 6.436324119567871, "entropy": 1.3607312440872192, "vf_explained_var": 0.9305547475814819, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "vf_loss": 6.437828063964844, "policy_loss": -0.001826419960707426, "kl": 0.006424671970307827}, "update_time_ms": 111.961, "load_time_ms": 23.834}, "done": false, "iterations_since_restore": 8, "episode_reward_min": 248.74525165106667, "episode_reward_max": 1072.522938262056, "training_iteration": 8, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-18-47", "timestamp": 1557112727, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 5.022530571868308, "cost2_max": 0.0, "cost1_mean": 269.31154655591627, "system_level_velocity_mean": 10.224375450256696, "cost1_min": 127.22805992961027, "outflow_rate_min": 498.3630651412413, "system_level_velocity_max": 13.637207861497211, "cost2_min": -0.43013378870642, "cost1_max": 364.6259750582588, "outflow_rate_mean": 895.8508993019443, "cost2_mean": -0.042396396679508286, "outflow_rate_max": 1149.7707132608657}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841358>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.469672679901123, "node_ip": "10.138.0.2", "episodes_total": 139, "time_since_restore": 205.8881058692932, "episode_reward_mean": 890.1185545373903, "timesteps_total": 373333, "timesteps_since_restore": 373333, "timesteps_this_iter": 41082, "hostname": "flow-main", "pid": 24598, "time_total_s": 205.8881058692932, "info": {"sample_time_ms": 14111.335, "num_steps_sampled": 373333, "num_steps_trained": 373333, "grad_time_ms": 8559.663, "default": {"total_loss": 7.298120021820068, "entropy": 1.3602731227874756, "vf_explained_var": 0.9041516184806824, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "vf_loss": 7.299206733703613, "policy_loss": -0.0014239773154258728, "kl": 0.006746815051883459}, "update_time_ms": 100.294, "load_time_ms": 22.687}, "done": false, "iterations_since_restore": 9, "episode_reward_min": 461.50771207251864, "episode_reward_max": 1077.1968647151546, "training_iteration": 9, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-19-09", "timestamp": 1557112749, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 5.022530571868308, "cost2_max": 0.0, "cost1_mean": 281.73289144956675, "system_level_velocity_mean": 10.677912225355294, "cost1_min": 127.22805992961027, "outflow_rate_min": 534.1296128070843, "system_level_velocity_max": 13.637207861497211, "cost2_min": -0.5892439409358818, "cost1_max": 364.6259750582588, "outflow_rate_mean": 949.5424266851181, "cost2_mean": -0.0632653389366618, "outflow_rate_max": 1149.7707132608657}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c97f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9a58>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.933629512786865, "node_ip": "10.138.0.2", "episodes_total": 154, "time_since_restore": 227.82173538208008, "episode_reward_mean": 913.630642892457, "timesteps_total": 416189, "timesteps_since_restore": 416189, "timesteps_this_iter": 42856, "hostname": "flow-main", "pid": 24598, "time_total_s": 227.82173538208008, "info": {"sample_time_ms": 13834.754, "num_steps_sampled": 416189, "num_steps_trained": 416189, "grad_time_ms": 8753.86, "default": {"total_loss": 6.338720798492432, "entropy": 1.3510435819625854, "vf_explained_var": 0.8607857823371887, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "vf_loss": 6.339905738830566, "policy_loss": -0.001518567674793303, "kl": 0.006668270565569401}, "update_time_ms": 90.901, "load_time_ms": 21.522}, "done": false, "iterations_since_restore": 10, "episode_reward_min": 601.0187203329453, "episode_reward_max": 1077.1968647151546, "training_iteration": 10, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-19-31", "timestamp": 1557112771, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 5.022530571868308, "cost2_max": 0.0, "cost1_mean": 284.2277767363908, "system_level_velocity_mean": 10.77824138735218, "cost1_min": 127.22805992961027, "outflow_rate_min": 534.1296128070843, "system_level_velocity_max": 13.31783671110856, "cost2_min": -0.5892439409358818, "cost1_max": 352.65943474694103, "outflow_rate_mean": 962.0662926859236, "cost2_mean": -0.0656328008364414, "outflow_rate_max": 1132.784864376585}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841b38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768418d0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.310741186141968, "node_ip": "10.138.0.2", "episodes_total": 161, "time_since_restore": 248.13247656822205, "episode_reward_mean": 910.9771136202503, "timesteps_total": 458184, "timesteps_since_restore": 458184, "timesteps_this_iter": 41995, "hostname": "flow-main", "pid": 24598, "time_total_s": 248.13247656822205, "info": {"sample_time_ms": 11836.761, "num_steps_sampled": 458184, "num_steps_trained": 458184, "grad_time_ms": 8898.186, "default": {"total_loss": 4.176383972167969, "entropy": 1.3412816524505615, "vf_explained_var": 0.9456662535667419, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "vf_loss": 4.177401542663574, "policy_loss": -0.001330390339717269, "kl": 0.006257672794163227}, "update_time_ms": 6.585, "load_time_ms": 11.882}, "done": false, "iterations_since_restore": 11, "episode_reward_min": 601.0187203329453, "episode_reward_max": 1077.1968647151546, "training_iteration": 11, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-19-51", "timestamp": 1557112791, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 7, "custom_metrics": {"system_level_velocity_min": 5.022530571868308, "cost2_max": 0.0, "cost1_mean": 281.3957436716834, "system_level_velocity_mean": 10.676932182894983, "cost1_min": 127.22805992961027, "outflow_rate_min": 534.1296128070843, "system_level_velocity_max": 13.31783671110856, "cost2_min": -0.6727112027914811, "cost1_max": 352.65943474694103, "outflow_rate_mean": 958.7354823756142, "cost2_mean": -0.07494976324209239, "outflow_rate_max": 1132.784864376585}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841358>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841390>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.4, "time_this_iter_s": 21.737661838531494, "node_ip": "10.138.0.2", "episodes_total": 180, "time_since_restore": 269.87013840675354, "episode_reward_mean": 891.6112806165102, "timesteps_total": 501060, "timesteps_since_restore": 501060, "timesteps_this_iter": 42876, "hostname": "flow-main", "pid": 24598, "time_total_s": 269.87013840675354, "info": {"sample_time_ms": 11551.576, "num_steps_sampled": 501060, "num_steps_trained": 501060, "grad_time_ms": 9229.571, "default": {"total_loss": 9.884760856628418, "entropy": 1.3044301271438599, "vf_explained_var": 0.8792300820350647, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "vf_loss": 9.886850357055664, "policy_loss": -0.0025532746221870184, "kl": 0.009264297783374786}, "update_time_ms": 6.717, "load_time_ms": 11.875}, "done": false, "iterations_since_restore": 12, "episode_reward_min": 58.716817717305844, "episode_reward_max": 1077.1968647151546, "training_iteration": 12, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-20-13", "timestamp": 1557112813, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 7.403475832442396, "cost2_max": 0.0, "cost1_mean": 274.2074910136951, "system_level_velocity_mean": 10.605265322561408, "cost1_min": 26.63999803799406, "outflow_rate_min": 516.4474998085375, "system_level_velocity_max": 18.95034449807389, "cost2_min": -1.1416785950787958, "cost1_max": 351.5954369461971, "outflow_rate_mean": 945.0461158045972, "cost2_mean": -0.09782808744567015, "outflow_rate_max": 1132.784864376585}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c92b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9518>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c98d0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 680.09, "time_this_iter_s": 22.565808534622192, "node_ip": "10.138.0.2", "episodes_total": 201, "time_since_restore": 292.43594694137573, "episode_reward_mean": 875.3110709425305, "timesteps_total": 542936, "timesteps_since_restore": 542936, "timesteps_this_iter": 41876, "hostname": "flow-main", "pid": 24598, "time_total_s": 292.43594694137573, "info": {"sample_time_ms": 11553.286, "num_steps_sampled": 542936, "num_steps_trained": 542936, "grad_time_ms": 9476.678, "default": {"total_loss": 11.347551345825195, "entropy": 1.3134959936141968, "vf_explained_var": 0.8513995409011841, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 11.348430633544922, "policy_loss": -0.001219079946167767, "kl": 0.0068280939012765884}, "update_time_ms": 6.685, "load_time_ms": 12.094}, "done": false, "iterations_since_restore": 13, "episode_reward_min": 45.81259158758269, "episode_reward_max": 1077.8410107386626, "training_iteration": 13, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-20-35", "timestamp": 1557112835, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 21, "custom_metrics": {"system_level_velocity_min": 7.0588759971517305, "cost2_max": 0.0, "cost1_mean": 265.53269605408127, "system_level_velocity_mean": 10.644782569100522, "cost1_min": 18.49443084841236, "outflow_rate_min": 486.0819572473539, "system_level_velocity_max": 18.95034449807389, "cost2_min": -1.1416785950787958, "cost1_max": 331.13972050354914, "outflow_rate_mean": 930.5833891593679, "cost2_mean": -0.09410668337347036, "outflow_rate_max": 1104.5802882468865}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768412b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832b38>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 680.09, "time_this_iter_s": 21.339176177978516, "node_ip": "10.138.0.2", "episodes_total": 215, "time_since_restore": 313.77512311935425, "episode_reward_mean": 889.7296997394208, "timesteps_total": 583751, "timesteps_since_restore": 583751, "timesteps_this_iter": 40815, "hostname": "flow-main", "pid": 24598, "time_total_s": 313.77512311935425, "info": {"sample_time_ms": 11412.715, "num_steps_sampled": 583751, "num_steps_trained": 583751, "grad_time_ms": 9798.44, "default": {"total_loss": 8.038773536682129, "entropy": 1.304663896560669, "vf_explained_var": 0.9052906036376953, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "vf_loss": 8.042041778564453, "policy_loss": -0.0036604730412364006, "kl": 0.00785103254020214}, "update_time_ms": 6.876, "load_time_ms": 12.217}, "done": false, "iterations_since_restore": 14, "episode_reward_min": 45.81259158758269, "episode_reward_max": 1085.6503031842115, "training_iteration": 14, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-20-57", "timestamp": 1557112857, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "custom_metrics": {"system_level_velocity_min": 7.0588759971517305, "cost2_max": 0.0, "cost1_mean": 269.33889504764124, "system_level_velocity_mean": 10.79359988577597, "cost1_min": 18.49443084841236, "outflow_rate_min": 486.0819572473539, "system_level_velocity_max": 18.95034449807389, "cost2_min": -1.1416785950787958, "cost1_max": 378.8176612397376, "outflow_rate_mean": 942.2600549112394, "cost2_mean": -0.08866023780858866, "outflow_rate_max": 1207.6035734746688}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976809e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832a58>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 680.09, "time_this_iter_s": 22.041098833084106, "node_ip": "10.138.0.2", "episodes_total": 232, "time_since_restore": 335.81622195243835, "episode_reward_mean": 892.3629553536931, "timesteps_total": 624764, "timesteps_since_restore": 624764, "timesteps_this_iter": 41013, "hostname": "flow-main", "pid": 24598, "time_total_s": 335.81622195243835, "info": {"sample_time_ms": 11341.584, "num_steps_sampled": 624764, "num_steps_trained": 624764, "grad_time_ms": 9955.354, "default": {"total_loss": 9.15461540222168, "entropy": 1.2846412658691406, "vf_explained_var": 0.8964564204216003, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "vf_loss": 9.155817985534668, "policy_loss": -0.0015851048519834876, "kl": 0.007655399385839701}, "update_time_ms": 7.102, "load_time_ms": 11.795}, "done": false, "iterations_since_restore": 15, "episode_reward_min": 45.81259158758269, "episode_reward_max": 1085.6503031842115, "training_iteration": 15, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-21-19", "timestamp": 1557112879, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 7.0588759971517305, "cost2_max": 0.0, "cost1_mean": 270.2971324174775, "system_level_velocity_mean": 10.852242031795582, "cost1_min": 18.49443084841236, "outflow_rate_min": 486.0819572473539, "system_level_velocity_max": 18.95034449807389, "cost2_min": -1.1416785950787958, "cost1_max": 378.8176612397376, "outflow_rate_mean": 946.738467575025, "cost2_mean": -0.0872740860900269, "outflow_rate_max": 1207.6035734746688}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c97b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9b00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9048>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 673.37, "time_this_iter_s": 22.058501958847046, "node_ip": "10.138.0.2", "episodes_total": 245, "time_since_restore": 357.8747239112854, "episode_reward_mean": 892.317090517668, "timesteps_total": 668613, "timesteps_since_restore": 668613, "timesteps_this_iter": 43849, "hostname": "flow-main", "pid": 24598, "time_total_s": 357.8747239112854, "info": {"sample_time_ms": 11305.501, "num_steps_sampled": 668613, "num_steps_trained": 668613, "grad_time_ms": 10247.672, "default": {"total_loss": 7.421066761016846, "entropy": 1.28704035282135, "vf_explained_var": 0.9250994920730591, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "vf_loss": 7.423912525177002, "policy_loss": -0.0032661505974829197, "kl": 0.008435647003352642}, "update_time_ms": 7.111, "load_time_ms": 11.828}, "done": false, "iterations_since_restore": 16, "episode_reward_min": 37.97763141440055, "episode_reward_max": 1218.4278196734917, "training_iteration": 16, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-21-41", "timestamp": 1557112901, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 13, "custom_metrics": {"system_level_velocity_min": 7.0588759971517305, "cost2_max": 0.0, "cost1_mean": 272.6627982313076, "system_level_velocity_mean": 11.120056238198716, "cost1_min": 18.49443084841236, "outflow_rate_min": 486.0819572473539, "system_level_velocity_max": 18.95034449807389, "cost2_min": -1.1416785950787958, "cost1_max": 437.4660041308051, "outflow_rate_mean": 954.963097116424, "cost2_mean": -0.10117168072242794, "outflow_rate_max": 1236.321366445109}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768326d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832cc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832198>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 673.37, "time_this_iter_s": 22.674649000167847, "node_ip": "10.138.0.2", "episodes_total": 260, "time_since_restore": 380.54937291145325, "episode_reward_mean": 890.8990577053484, "timesteps_total": 710332, "timesteps_since_restore": 710332, "timesteps_this_iter": 41719, "hostname": "flow-main", "pid": 24598, "time_total_s": 380.54937291145325, "info": {"sample_time_ms": 11322.249, "num_steps_sampled": 710332, "num_steps_trained": 710332, "grad_time_ms": 10364.765, "default": {"total_loss": 7.997596263885498, "entropy": 1.2831616401672363, "vf_explained_var": 0.921046793460846, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "vf_loss": 7.998691558837891, "policy_loss": -0.0014711483381688595, "kl": 0.00751093914732337}, "update_time_ms": 7.226, "load_time_ms": 11.961}, "done": false, "iterations_since_restore": 17, "episode_reward_min": 37.97763141440055, "episode_reward_max": 1218.4278196734917, "training_iteration": 17, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-22-04", "timestamp": 1557112924, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 4.710428143968981, "cost2_max": 0.0, "cost1_mean": 270.71070274560867, "system_level_velocity_mean": 11.059734155625872, "cost1_min": 18.49443084841236, "outflow_rate_min": 486.0819572473539, "system_level_velocity_max": 18.95034449807389, "cost2_min": -1.1416785950787958, "cost1_max": 437.4660041308051, "outflow_rate_mean": 953.351770336702, "cost2_mean": -0.10009022108559845, "outflow_rate_max": 1236.321366445109}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841128>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c99e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 679.97, "time_this_iter_s": 21.59432554244995, "node_ip": "10.138.0.2", "episodes_total": 277, "time_since_restore": 402.1436984539032, "episode_reward_mean": 910.1943072609849, "timesteps_total": 751585, "timesteps_since_restore": 751585, "timesteps_this_iter": 41253, "hostname": "flow-main", "pid": 24598, "time_total_s": 402.1436984539032, "info": {"sample_time_ms": 11274.39, "num_steps_sampled": 751585, "num_steps_trained": 751585, "grad_time_ms": 10403.828, "default": {"total_loss": 9.627388954162598, "entropy": 1.2733092308044434, "vf_explained_var": 0.890400767326355, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 9.629396438598633, "policy_loss": -0.0024641016498208046, "kl": 0.009143115021288395}, "update_time_ms": 7.187, "load_time_ms": 12.206}, "done": false, "iterations_since_restore": 18, "episode_reward_min": 37.97763141440055, "episode_reward_max": 1218.4278196734917, "training_iteration": 18, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-22-25", "timestamp": 1557112945, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 4.710428143968981, "cost2_max": 0.0, "cost1_mean": 275.56081084101044, "system_level_velocity_mean": 11.07601961804544, "cost1_min": 18.49443084841236, "outflow_rate_min": 486.0819572473539, "system_level_velocity_max": 18.33347787747994, "cost2_min": -0.8222503804358796, "cost1_max": 437.4660041308051, "outflow_rate_mean": 965.4488630232865, "cost2_mean": -0.07675433092904824, "outflow_rate_max": 1236.321366445109}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9f98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9438>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 680.12, "time_this_iter_s": 20.81931209564209, "node_ip": "10.138.0.2", "episodes_total": 294, "time_since_restore": 422.9630105495453, "episode_reward_mean": 912.5645651069041, "timesteps_total": 791664, "timesteps_since_restore": 791664, "timesteps_this_iter": 40079, "hostname": "flow-main", "pid": 24598, "time_total_s": 422.9630105495453, "info": {"sample_time_ms": 11198.943, "num_steps_sampled": 791664, "num_steps_trained": 791664, "grad_time_ms": 10415.359, "default": {"total_loss": 11.128401756286621, "entropy": 1.259393334388733, "vf_explained_var": 0.8822301030158997, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "vf_loss": 11.130987167358398, "policy_loss": -0.0031270941253751516, "kl": 0.01081845536828041}, "update_time_ms": 7.205, "load_time_ms": 11.934}, "done": false, "iterations_since_restore": 19, "episode_reward_min": 37.97763141440055, "episode_reward_max": 1218.4278196734917, "training_iteration": 19, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-22-46", "timestamp": 1557112966, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 4.710428143968981, "cost2_max": 0.0, "cost1_mean": 277.0717680099456, "system_level_velocity_mean": 11.12263503376988, "cost1_min": 18.5765521067113, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 18.20457619829905, "cost2_min": -0.8222503804358796, "cost1_max": 437.4660041308051, "outflow_rate_mean": 970.2704181640521, "cost2_mean": -0.0756576852800746, "outflow_rate_max": 1236.321366445109}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768320b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832cc0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.72, "time_this_iter_s": 22.526222229003906, "node_ip": "10.138.0.2", "episodes_total": 311, "time_since_restore": 445.4892327785492, "episode_reward_mean": 922.6181791042593, "timesteps_total": 834232, "timesteps_since_restore": 834232, "timesteps_this_iter": 42568, "hostname": "flow-main", "pid": 24598, "time_total_s": 445.4892327785492, "info": {"sample_time_ms": 11237.973, "num_steps_sampled": 834232, "num_steps_trained": 834232, "grad_time_ms": 10434.409, "default": {"total_loss": 9.584802627563477, "entropy": 1.2695235013961792, "vf_explained_var": 0.892362117767334, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 9.586726188659668, "policy_loss": -0.002321187173947692, "kl": 0.007953338325023651}, "update_time_ms": 7.178, "load_time_ms": 12.193}, "done": false, "iterations_since_restore": 20, "episode_reward_min": 37.97763141440055, "episode_reward_max": 1218.4278196734917, "training_iteration": 20, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-23-09", "timestamp": 1557112989, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 4.710428143968981, "cost2_max": 0.0, "cost1_mean": 280.0430280957694, "system_level_velocity_mean": 11.075321909864314, "cost1_min": 18.5765521067113, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 18.20457619829905, "cost2_min": -0.9269172368041255, "cost1_max": 437.4660041308051, "outflow_rate_mean": 976.0371970175214, "cost2_mean": -0.09412846581698286, "outflow_rate_max": 1236.321366445109}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768320f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832dd8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.72, "time_this_iter_s": 21.887386322021484, "node_ip": "10.138.0.2", "episodes_total": 323, "time_since_restore": 467.3766191005707, "episode_reward_mean": 926.8121621688058, "timesteps_total": 876242, "timesteps_since_restore": 876242, "timesteps_this_iter": 42010, "hostname": "flow-main", "pid": 24598, "time_total_s": 467.3766191005707, "info": {"sample_time_ms": 11365.829, "num_steps_sampled": 876242, "num_steps_trained": 876242, "grad_time_ms": 10464.567, "default": {"total_loss": 8.497786521911621, "entropy": 1.2525266408920288, "vf_explained_var": 0.8906620144844055, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "vf_loss": 8.500154495239258, "policy_loss": -0.00283468677662313, "kl": 0.009314656257629395}, "update_time_ms": 7.134, "load_time_ms": 12.211}, "done": false, "iterations_since_restore": 21, "episode_reward_min": 37.97763141440055, "episode_reward_max": 1218.4278196734917, "training_iteration": 21, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-23-30", "timestamp": 1557113010, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 12, "custom_metrics": {"system_level_velocity_min": 4.710428143968981, "cost2_max": 0.0, "cost1_mean": 280.0745257469757, "system_level_velocity_mean": 11.07349272683553, "cost1_min": 18.5765521067113, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 18.20457619829905, "cost2_min": -0.9269172368041255, "cost1_max": 437.4660041308051, "outflow_rate_mean": 977.1719881285513, "cost2_mean": -0.0876714621524016, "outflow_rate_max": 1236.321366445109}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9b38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768412b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.73, "time_this_iter_s": 21.757489442825317, "node_ip": "10.138.0.2", "episodes_total": 340, "time_since_restore": 489.134108543396, "episode_reward_mean": 925.4298343544443, "timesteps_total": 918572, "timesteps_since_restore": 918572, "timesteps_this_iter": 42330, "hostname": "flow-main", "pid": 24598, "time_total_s": 489.134108543396, "info": {"sample_time_ms": 11336.758, "num_steps_sampled": 918572, "num_steps_trained": 918572, "grad_time_ms": 10494.978, "default": {"total_loss": 11.186673164367676, "entropy": 1.2691848278045654, "vf_explained_var": 0.8745670318603516, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "vf_loss": 11.189740180969238, "policy_loss": -0.0035957712680101395, "kl": 0.010594185441732407}, "update_time_ms": 6.991, "load_time_ms": 12.486}, "done": false, "iterations_since_restore": 22, "episode_reward_min": 41.85318968465749, "episode_reward_max": 1213.2526134787993, "training_iteration": 22, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-23-52", "timestamp": 1557113032, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 4.710428143968981, "cost2_max": 0.0, "cost1_mean": 276.35663402055025, "system_level_velocity_mean": 10.946840756704765, "cost1_min": 18.685219480331458, "outflow_rate_min": 451.4556264535105, "system_level_velocity_max": 18.37085201575234, "cost2_min": -0.9269172368041255, "cost1_max": 414.5364810927972, "outflow_rate_mean": 970.9956117603884, "cost2_mean": -0.07049540211883096, "outflow_rate_max": 1235.8490071836607}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832828>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ef0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.73, "time_this_iter_s": 21.852036237716675, "node_ip": "10.138.0.2", "episodes_total": 359, "time_since_restore": 510.98614478111267, "episode_reward_mean": 927.4076215850882, "timesteps_total": 960264, "timesteps_since_restore": 960264, "timesteps_this_iter": 41692, "hostname": "flow-main", "pid": 24598, "time_total_s": 510.98614478111267, "info": {"sample_time_ms": 11265.886, "num_steps_sampled": 960264, "num_steps_trained": 960264, "grad_time_ms": 10494.859, "default": {"total_loss": 11.414470672607422, "entropy": 1.2510846853256226, "vf_explained_var": 0.8651449084281921, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "vf_loss": 11.417640686035156, "policy_loss": -0.0036553977988660336, "kl": 0.009702662006020546}, "update_time_ms": 7.058, "load_time_ms": 12.614}, "done": false, "iterations_since_restore": 23, "episode_reward_min": 41.85318968465749, "episode_reward_max": 1213.2526134787993, "training_iteration": 23, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-24-14", "timestamp": 1557113054, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 4.710428143968981, "cost2_max": 0.0, "cost1_mean": 276.73493737930426, "system_level_velocity_mean": 10.96624664294847, "cost1_min": 18.685219480331458, "outflow_rate_min": 451.4556264535105, "system_level_velocity_max": 18.37085201575234, "cost2_min": -0.9269172368041255, "cost1_max": 414.5364810927972, "outflow_rate_mean": 972.6604283703804, "cost2_mean": -0.07101653197252633, "outflow_rate_max": 1235.8490071836607}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841828>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832278>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.73, "time_this_iter_s": 21.928922414779663, "node_ip": "10.138.0.2", "episodes_total": 375, "time_since_restore": 532.9150671958923, "episode_reward_mean": 931.740277633824, "timesteps_total": 1000784, "timesteps_since_restore": 1000784, "timesteps_this_iter": 40520, "hostname": "flow-main", "pid": 24598, "time_total_s": 532.9150671958923, "info": {"sample_time_ms": 11308.932, "num_steps_sampled": 1000784, "num_steps_trained": 1000784, "grad_time_ms": 10510.79, "default": {"total_loss": 9.280538558959961, "entropy": 1.241593360900879, "vf_explained_var": 0.9051095247268677, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 9.281842231750488, "policy_loss": -0.0017583832377567887, "kl": 0.009119500406086445}, "update_time_ms": 6.852, "load_time_ms": 12.581}, "done": false, "iterations_since_restore": 24, "episode_reward_min": 41.85318968465749, "episode_reward_max": 1213.2526134787993, "training_iteration": 24, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-24-36", "timestamp": 1557113076, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 7.980088680215919, "cost2_max": 0.0, "cost1_mean": 278.52103079261786, "system_level_velocity_mean": 11.02877173195865, "cost1_min": 18.685219480331458, "outflow_rate_min": 451.4556264535105, "system_level_velocity_max": 18.37085201575234, "cost2_min": -0.9269172368041255, "cost1_max": 414.5364810927972, "outflow_rate_mean": 978.430304127472, "cost2_mean": -0.07607178663724852, "outflow_rate_max": 1235.8490071836607}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832da0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768322e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.29, "time_this_iter_s": 22.22834801673889, "node_ip": "10.138.0.2", "episodes_total": 392, "time_since_restore": 555.1434152126312, "episode_reward_mean": 943.5888810642608, "timesteps_total": 1042525, "timesteps_since_restore": 1042525, "timesteps_this_iter": 41741, "hostname": "flow-main", "pid": 24598, "time_total_s": 555.1434152126312, "info": {"sample_time_ms": 11285.416, "num_steps_sampled": 1042525, "num_steps_trained": 1042525, "grad_time_ms": 10552.422, "default": {"total_loss": 12.392352104187012, "entropy": 1.237395167350769, "vf_explained_var": 0.8381892442703247, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 12.395118713378906, "policy_loss": -0.0033430117182433605, "kl": 0.011549080722033978}, "update_time_ms": 6.634, "load_time_ms": 12.976}, "done": false, "iterations_since_restore": 25, "episode_reward_min": 41.85318968465749, "episode_reward_max": 1213.2526134787993, "training_iteration": 25, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-24-58", "timestamp": 1557113098, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 7.980088680215919, "cost2_max": 0.0, "cost1_mean": 281.67606513207403, "system_level_velocity_mean": 10.98183390387051, "cost1_min": 18.685219480331458, "outflow_rate_min": 451.4556264535105, "system_level_velocity_max": 18.37085201575234, "cost2_min": -0.9269172368041255, "cost1_max": 414.5364810927972, "outflow_rate_mean": 985.6358935221381, "cost2_mean": -0.0719632891488308, "outflow_rate_max": 1235.8490071836607}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768324e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ac8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.29, "time_this_iter_s": 22.125877141952515, "node_ip": "10.138.0.2", "episodes_total": 405, "time_since_restore": 577.2692923545837, "episode_reward_mean": 941.4104059871532, "timesteps_total": 1083650, "timesteps_since_restore": 1083650, "timesteps_this_iter": 41125, "hostname": "flow-main", "pid": 24598, "time_total_s": 577.2692923545837, "info": {"sample_time_ms": 11414.783, "num_steps_sampled": 1083650, "num_steps_trained": 1083650, "grad_time_ms": 10430.133, "default": {"total_loss": 9.46931266784668, "entropy": 1.221154808998108, "vf_explained_var": 0.8955241441726685, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 9.472026824951172, "policy_loss": -0.0031780984718352556, "kl": 0.009288540109992027}, "update_time_ms": 6.621, "load_time_ms": 13.098}, "done": false, "iterations_since_restore": 26, "episode_reward_min": 41.85318968465749, "episode_reward_max": 1147.3827244332706, "training_iteration": 26, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-25-21", "timestamp": 1557113121, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 13, "custom_metrics": {"system_level_velocity_min": 7.980088680215919, "cost2_max": 0.0, "cost1_mean": 279.7180700973473, "system_level_velocity_mean": 10.910647548716053, "cost1_min": 18.685219480331458, "outflow_rate_min": 451.4556264535105, "system_level_velocity_max": 18.37085201575234, "cost2_min": -0.9269172368041255, "cost1_max": 363.320456610139, "outflow_rate_mean": 983.3020167715655, "cost2_mean": -0.06646995716686897, "outflow_rate_max": 1181.5042535144185}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832b00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832588>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.29, "time_this_iter_s": 20.466891050338745, "node_ip": "10.138.0.2", "episodes_total": 419, "time_since_restore": 597.7361834049225, "episode_reward_mean": 946.3663001778201, "timesteps_total": 1124361, "timesteps_since_restore": 1124361, "timesteps_this_iter": 40711, "hostname": "flow-main", "pid": 24598, "time_total_s": 597.7361834049225, "info": {"sample_time_ms": 11296.504, "num_steps_sampled": 1124361, "num_steps_trained": 1124361, "grad_time_ms": 10327.696, "default": {"total_loss": 8.798689842224121, "entropy": 1.2397328615188599, "vf_explained_var": 0.9108371138572693, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "vf_loss": 8.80202579498291, "policy_loss": -0.0038883183151483536, "kl": 0.011060677468776703}, "update_time_ms": 6.626, "load_time_ms": 13.146}, "done": false, "iterations_since_restore": 27, "episode_reward_min": 41.85318968465749, "episode_reward_max": 1175.479008622526, "training_iteration": 27, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-25-41", "timestamp": 1557113141, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "custom_metrics": {"system_level_velocity_min": 7.980088680215919, "cost2_max": 0.0, "cost1_mean": 281.73682325553904, "system_level_velocity_mean": 10.985876519713191, "cost1_min": 18.685219480331458, "outflow_rate_min": 451.4556264535105, "system_level_velocity_max": 18.37085201575234, "cost2_min": -0.7627495472328586, "cost1_max": 363.320456610139, "outflow_rate_mean": 987.4561058213652, "cost2_mean": -0.06745646015129773, "outflow_rate_max": 1181.5042535144185}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d84a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8160>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8be0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.248294353485107, "node_ip": "10.138.0.2", "episodes_total": 438, "time_since_restore": 619.9844777584076, "episode_reward_mean": 963.28597999205, "timesteps_total": 1166324, "timesteps_since_restore": 1166324, "timesteps_this_iter": 41963, "hostname": "flow-main", "pid": 24598, "time_total_s": 619.9844777584076, "info": {"sample_time_ms": 11319.316, "num_steps_sampled": 1166324, "num_steps_trained": 1166324, "grad_time_ms": 10369.606, "default": {"total_loss": 11.177633285522461, "entropy": 1.216436743736267, "vf_explained_var": 0.886683464050293, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 11.181015968322754, "policy_loss": -0.003931905142962933, "kl": 0.01100278738886118}, "update_time_ms": 6.684, "load_time_ms": 13.228}, "done": false, "iterations_since_restore": 28, "episode_reward_min": 773.2992027759549, "episode_reward_max": 1175.479008622526, "training_iteration": 28, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-26-03", "timestamp": 1557113163, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 7.980088680215919, "cost2_max": 0.0, "cost1_mean": 288.5563903217209, "system_level_velocity_mean": 11.060713195657591, "cost1_min": 204.14003268562544, "outflow_rate_min": 854.8087341701724, "system_level_velocity_max": 13.665416915896115, "cost2_min": -0.7627495472328586, "cost1_max": 363.320456610139, "outflow_rate_mean": 1000.1347747262226, "cost2_mean": -0.07639859216228238, "outflow_rate_max": 1181.5042535144185}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832d68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832b70>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.894391775131226, "node_ip": "10.138.0.2", "episodes_total": 455, "time_since_restore": 641.8788695335388, "episode_reward_mean": 957.1893222311118, "timesteps_total": 1206918, "timesteps_since_restore": 1206918, "timesteps_this_iter": 40594, "hostname": "flow-main", "pid": 24598, "time_total_s": 641.8788695335388, "info": {"sample_time_ms": 11460.076, "num_steps_sampled": 1206918, "num_steps_trained": 1206918, "grad_time_ms": 10334.894, "default": {"total_loss": 11.630166053771973, "entropy": 1.2029685974121094, "vf_explained_var": 0.8863717913627625, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 11.632621765136719, "policy_loss": -0.003056136192753911, "kl": 0.012010174803435802}, "update_time_ms": 6.743, "load_time_ms": 13.538}, "done": false, "iterations_since_restore": 29, "episode_reward_min": 785.0889074374555, "episode_reward_max": 1175.479008622526, "training_iteration": 29, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-26-25", "timestamp": 1557113185, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 8.687247537145481, "cost2_max": 0.0, "cost1_mean": 288.807657701123, "system_level_velocity_mean": 11.074286665518967, "cost1_min": 221.98167474655995, "outflow_rate_min": 867.3165805925065, "system_level_velocity_max": 13.665416915896115, "cost2_min": -0.7627495472328586, "cost1_max": 363.320456610139, "outflow_rate_mean": 1001.8706070014351, "cost2_mean": -0.0854826779252837, "outflow_rate_max": 1181.5042535144185}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841cf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768419e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.29369306564331, "node_ip": "10.138.0.2", "episodes_total": 472, "time_since_restore": 663.1725625991821, "episode_reward_mean": 964.8008535759059, "timesteps_total": 1246828, "timesteps_since_restore": 1246828, "timesteps_this_iter": 39910, "hostname": "flow-main", "pid": 24598, "time_total_s": 663.1725625991821, "info": {"sample_time_ms": 11395.317, "num_steps_sampled": 1246828, "num_steps_trained": 1246828, "grad_time_ms": 10276.591, "default": {"total_loss": 12.014167785644531, "entropy": 1.182916522026062, "vf_explained_var": 0.903362512588501, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 12.017038345336914, "policy_loss": -0.003462717402726412, "kl": 0.011860552243888378}, "update_time_ms": 6.81, "load_time_ms": 13.363}, "done": false, "iterations_since_restore": 30, "episode_reward_min": 799.3720750187391, "episode_reward_max": 1175.479008622526, "training_iteration": 30, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-26-47", "timestamp": 1557113207, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 8.687247537145481, "cost2_max": 0.0, "cost1_mean": 294.20520290390954, "system_level_velocity_mean": 11.275948045666178, "cost1_min": 221.98167474655995, "outflow_rate_min": 867.3165805925065, "system_level_velocity_max": 14.180367131353368, "cost2_min": -0.7627495472328586, "cost1_max": 372.573739617951, "outflow_rate_mean": 1014.287693458087, "cost2_mean": -0.07990303402993279, "outflow_rate_max": 1175.3259135455787}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8160>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8940>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.81324338912964, "node_ip": "10.138.0.2", "episodes_total": 489, "time_since_restore": 684.9858059883118, "episode_reward_mean": 969.7384551809959, "timesteps_total": 1287144, "timesteps_since_restore": 1287144, "timesteps_this_iter": 40316, "hostname": "flow-main", "pid": 24598, "time_total_s": 684.9858059883118, "info": {"sample_time_ms": 11476.199, "num_steps_sampled": 1287144, "num_steps_trained": 1287144, "grad_time_ms": 10187.976, "default": {"total_loss": 13.41492748260498, "entropy": 1.190755844116211, "vf_explained_var": 0.8820304274559021, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 13.419010162353516, "policy_loss": -0.004767962731420994, "kl": 0.013696148060262203}, "update_time_ms": 6.84, "load_time_ms": 13.342}, "done": false, "iterations_since_restore": 31, "episode_reward_min": 817.3009966399228, "episode_reward_max": 1175.479008622526, "training_iteration": 31, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-27-08", "timestamp": 1557113228, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 8.687247537145481, "cost2_max": 0.0, "cost1_mean": 297.72949294645906, "system_level_velocity_mean": 11.4112361798778, "cost1_min": 221.98167474655995, "outflow_rate_min": 867.3165805925065, "system_level_velocity_max": 15.243192141231084, "cost2_min": -0.7627495472328586, "cost1_max": 402.2448169496987, "outflow_rate_mean": 1021.8024952682773, "cost2_mean": -0.08515580929050197, "outflow_rate_max": 1266.796040524635}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832940>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768326a0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.627830982208252, "node_ip": "10.138.0.2", "episodes_total": 503, "time_since_restore": 706.61363697052, "episode_reward_mean": 973.3746053928792, "timesteps_total": 1328744, "timesteps_since_restore": 1328744, "timesteps_this_iter": 41600, "hostname": "flow-main", "pid": 24598, "time_total_s": 706.61363697052, "info": {"sample_time_ms": 11517.681, "num_steps_sampled": 1328744, "num_steps_trained": 1328744, "grad_time_ms": 10133.188, "default": {"total_loss": 10.608539581298828, "entropy": 1.1715551614761353, "vf_explained_var": 0.8879725337028503, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "vf_loss": 10.611563682556152, "policy_loss": -0.0036612628027796745, "kl": 0.012741056270897388}, "update_time_ms": 6.887, "load_time_ms": 13.239}, "done": false, "iterations_since_restore": 32, "episode_reward_min": 824.4570425465075, "episode_reward_max": 1175.479008622526, "training_iteration": 32, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-27-30", "timestamp": 1557113250, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "custom_metrics": {"system_level_velocity_min": 9.721401865426982, "cost2_max": 0.0, "cost1_mean": 301.3854931512952, "system_level_velocity_mean": 11.548010002543377, "cost1_min": 253.13984267715648, "outflow_rate_min": 902.1811744506118, "system_level_velocity_max": 15.243192141231084, "cost2_min": -0.7627495472328586, "cost1_max": 402.2448169496987, "outflow_rate_mean": 1029.805374435005, "cost2_mean": -0.09580790741468548, "outflow_rate_max": 1266.796040524635}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d83c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976829fd0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.371556043624878, "node_ip": "10.138.0.2", "episodes_total": 518, "time_since_restore": 728.9851930141449, "episode_reward_mean": 967.9085434778717, "timesteps_total": 1370563, "timesteps_since_restore": 1370563, "timesteps_this_iter": 41819, "hostname": "flow-main", "pid": 24598, "time_total_s": 728.9851930141449, "info": {"sample_time_ms": 11556.45, "num_steps_sampled": 1370563, "num_steps_trained": 1370563, "grad_time_ms": 10145.852, "default": {"total_loss": 11.606342315673828, "entropy": 1.1734102964401245, "vf_explained_var": 0.8958823680877686, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 11.609354972839355, "policy_loss": -0.003648386336863041, "kl": 0.0126982806250453}, "update_time_ms": 6.817, "load_time_ms": 13.228}, "done": false, "iterations_since_restore": 33, "episode_reward_min": 824.4570425465075, "episode_reward_max": 1130.7315393953538, "training_iteration": 33, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-27-52", "timestamp": 1557113272, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 7.503658288500883, "cost2_max": 0.0, "cost1_mean": 298.8158612615491, "system_level_velocity_mean": 11.461412820096903, "cost1_min": 189.80002039975292, "outflow_rate_min": 824.9617639998943, "system_level_velocity_max": 15.243192141231084, "cost2_min": -0.7627495472328586, "cost1_max": 402.2448169496987, "outflow_rate_mean": 1025.0177932427682, "cost2_mean": -0.10353407604640977, "outflow_rate_max": 1266.796040524635}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8a58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8f98>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.117777824401855, "node_ip": "10.138.0.2", "episodes_total": 533, "time_since_restore": 751.1029708385468, "episode_reward_mean": 971.6359918483303, "timesteps_total": 1412089, "timesteps_since_restore": 1412089, "timesteps_this_iter": 41526, "hostname": "flow-main", "pid": 24598, "time_total_s": 751.1029708385468, "info": {"sample_time_ms": 11572.11, "num_steps_sampled": 1412089, "num_steps_trained": 1412089, "grad_time_ms": 10148.674, "default": {"total_loss": 11.553092956542969, "entropy": 1.1604143381118774, "vf_explained_var": 0.9121074080467224, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 11.557977676391602, "policy_loss": -0.00568705890327692, "kl": 0.016069073230028152}, "update_time_ms": 6.934, "load_time_ms": 13.292}, "done": false, "iterations_since_restore": 34, "episode_reward_min": 824.4570425465075, "episode_reward_max": 1143.7398098007525, "training_iteration": 34, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-28-15", "timestamp": 1557113295, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 7.503658288500883, "cost2_max": 0.0, "cost1_mean": 301.18370190116167, "system_level_velocity_mean": 11.555678378592882, "cost1_min": 189.80002039975292, "outflow_rate_min": 824.9617639998943, "system_level_velocity_max": 15.243192141231084, "cost2_min": -0.6229651228071569, "cost1_max": 402.2448169496987, "outflow_rate_mean": 1032.5036955011306, "cost2_mean": -0.08823179630338591, "outflow_rate_max": 1266.796040524635}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832668>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.970874309539795, "node_ip": "10.138.0.2", "episodes_total": 550, "time_since_restore": 772.0738451480865, "episode_reward_mean": 986.5280571611445, "timesteps_total": 1452870, "timesteps_since_restore": 1452870, "timesteps_this_iter": 40781, "hostname": "flow-main", "pid": 24598, "time_total_s": 772.0738451480865, "info": {"sample_time_ms": 11523.283, "num_steps_sampled": 1452870, "num_steps_trained": 1452870, "grad_time_ms": 10072.087, "default": {"total_loss": 13.00943374633789, "entropy": 1.1638479232788086, "vf_explained_var": 0.9125972986221313, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "vf_loss": 13.013294219970703, "policy_loss": -0.004622281063348055, "kl": 0.01526457816362381}, "update_time_ms": 6.974, "load_time_ms": 13.203}, "done": false, "iterations_since_restore": 35, "episode_reward_min": 831.5983137335918, "episode_reward_max": 1217.0728977226486, "training_iteration": 35, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-28-36", "timestamp": 1557113316, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 7.503658288500883, "cost2_max": 0.0, "cost1_mean": 309.1245526871164, "system_level_velocity_mean": 11.852329288836325, "cost1_min": 189.80002039975292, "outflow_rate_min": 824.9617639998943, "system_level_velocity_max": 15.955501479524516, "cost2_min": -0.7459079486555089, "cost1_max": 422.21489265095386, "outflow_rate_mean": 1050.6744529486493, "cost2_mean": -0.09276350523321086, "outflow_rate_max": 1284.925761585529}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8358>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f60>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.041024684906006, "node_ip": "10.138.0.2", "episodes_total": 569, "time_since_restore": 793.1148698329926, "episode_reward_mean": 997.0352579112717, "timesteps_total": 1493086, "timesteps_since_restore": 1493086, "timesteps_this_iter": 40216, "hostname": "flow-main", "pid": 24598, "time_total_s": 793.1148698329926, "info": {"sample_time_ms": 11407.547, "num_steps_sampled": 1493086, "num_steps_trained": 1493086, "grad_time_ms": 10078.986, "default": {"total_loss": 15.374543190002441, "entropy": 1.1579346656799316, "vf_explained_var": 0.8841938376426697, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 15.377914428710938, "policy_loss": -0.004045255482196808, "kl": 0.013460958376526833}, "update_time_ms": 6.902, "load_time_ms": 13.181}, "done": false, "iterations_since_restore": 36, "episode_reward_min": 831.5983137335918, "episode_reward_max": 1217.0728977226486, "training_iteration": 36, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-28-57", "timestamp": 1557113337, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 7.503658288500883, "cost2_max": 0.0, "cost1_mean": 313.70363395577283, "system_level_velocity_mean": 12.020753275507818, "cost1_min": 189.80002039975292, "outflow_rate_min": 824.9617639998943, "system_level_velocity_max": 15.955501479524516, "cost2_min": -0.7459079486555089, "cost1_max": 422.21489265095386, "outflow_rate_mean": 1058.9760866282168, "cost2_mean": -0.09415087015377849, "outflow_rate_max": 1284.925761585529}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d86d8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.3848397731781, "node_ip": "10.138.0.2", "episodes_total": 586, "time_since_restore": 814.4997096061707, "episode_reward_mean": 997.1493202576996, "timesteps_total": 1532427, "timesteps_since_restore": 1532427, "timesteps_this_iter": 39341, "hostname": "flow-main", "pid": 24598, "time_total_s": 814.4997096061707, "info": {"sample_time_ms": 11430.808, "num_steps_sampled": 1532427, "num_steps_trained": 1532427, "grad_time_ms": 10147.799, "default": {"total_loss": 15.47030258178711, "entropy": 1.170371413230896, "vf_explained_var": 0.8815774917602539, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 15.47270679473877, "policy_loss": -0.0029793663416057825, "kl": 0.01145297009497881}, "update_time_ms": 7.048, "load_time_ms": 13.05}, "done": false, "iterations_since_restore": 37, "episode_reward_min": 831.5983137335918, "episode_reward_max": 1217.0728977226486, "training_iteration": 37, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-29-18", "timestamp": 1557113358, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 7.503658288500883, "cost2_max": 0.0, "cost1_mean": 318.14079317093024, "system_level_velocity_mean": 12.191236638832912, "cost1_min": 189.80002039975292, "outflow_rate_min": 824.9617639998943, "system_level_velocity_max": 15.955501479524516, "cost2_min": -0.7459079486555089, "cost1_max": 422.21489265095386, "outflow_rate_mean": 1068.5088196189615, "cost2_mean": -0.08560725741870918, "outflow_rate_max": 1284.925761585529}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768325c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832860>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.465550422668457, "node_ip": "10.138.0.2", "episodes_total": 603, "time_since_restore": 835.9652600288391, "episode_reward_mean": 997.6941883765384, "timesteps_total": 1572668, "timesteps_since_restore": 1572668, "timesteps_this_iter": 40241, "hostname": "flow-main", "pid": 24598, "time_total_s": 835.9652600288391, "info": {"sample_time_ms": 11400.214, "num_steps_sampled": 1572668, "num_steps_trained": 1572668, "grad_time_ms": 10101.462, "default": {"total_loss": 13.183357238769531, "entropy": 1.177071452140808, "vf_explained_var": 0.8727530837059021, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 13.186700820922852, "policy_loss": -0.003940958995372057, "kl": 0.011991415172815323}, "update_time_ms": 7.021, "load_time_ms": 12.65}, "done": false, "iterations_since_restore": 38, "episode_reward_min": 816.0676717117838, "episode_reward_max": 1217.0728977226486, "training_iteration": 38, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-29-40", "timestamp": 1557113380, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 7.503658288500883, "cost2_max": 0.0, "cost1_mean": 318.5805571517484, "system_level_velocity_mean": 12.212726648887754, "cost1_min": 189.80002039975292, "outflow_rate_min": 824.9617639998943, "system_level_velocity_max": 15.955501479524516, "cost2_min": -0.7459079486555089, "cost1_max": 422.21489265095386, "outflow_rate_mean": 1068.0830777512392, "cost2_mean": -0.08119716432461949, "outflow_rate_max": 1284.925761585529}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768415f8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832c50>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.67921495437622, "node_ip": "10.138.0.2", "episodes_total": 617, "time_since_restore": 857.6444749832153, "episode_reward_mean": 1000.3468034036301, "timesteps_total": 1613336, "timesteps_since_restore": 1613336, "timesteps_this_iter": 40668, "hostname": "flow-main", "pid": 24598, "time_total_s": 857.6444749832153, "info": {"sample_time_ms": 11294.415, "num_steps_sampled": 1613336, "num_steps_trained": 1613336, "grad_time_ms": 10186.602, "default": {"total_loss": 12.129148483276367, "entropy": 1.1822446584701538, "vf_explained_var": 0.8917047381401062, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 12.133183479309082, "policy_loss": -0.00466228136792779, "kl": 0.012545316480100155}, "update_time_ms": 6.953, "load_time_ms": 12.464}, "done": false, "iterations_since_restore": 39, "episode_reward_min": 816.0676717117838, "episode_reward_max": 1217.0728977226486, "training_iteration": 39, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-30-01", "timestamp": 1557113401, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "custom_metrics": {"system_level_velocity_min": 9.012995969210767, "cost2_max": 0.0, "cost1_mean": 322.49920657598494, "system_level_velocity_mean": 12.361444415462158, "cost1_min": 230.63021674089381, "outflow_rate_min": 898.4424364132399, "system_level_velocity_max": 15.955501479524516, "cost2_min": -0.7459079486555089, "cost1_max": 422.21489265095386, "outflow_rate_mean": 1075.026589852988, "cost2_mean": -0.06881824751681226, "outflow_rate_max": 1284.925761585529}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8f28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8f60>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.32303786277771, "node_ip": "10.138.0.2", "episodes_total": 633, "time_since_restore": 878.967512845993, "episode_reward_mean": 993.2599185854567, "timesteps_total": 1654383, "timesteps_since_restore": 1654383, "timesteps_this_iter": 41047, "hostname": "flow-main", "pid": 24598, "time_total_s": 878.967512845993, "info": {"sample_time_ms": 11269.426, "num_steps_sampled": 1654383, "num_steps_trained": 1654383, "grad_time_ms": 10215.179, "default": {"total_loss": 13.291112899780273, "entropy": 1.1716327667236328, "vf_explained_var": 0.900490403175354, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "vf_loss": 13.295343399047852, "policy_loss": -0.004889200441539288, "kl": 0.013197680003941059}, "update_time_ms": 6.937, "load_time_ms": 12.6}, "done": false, "iterations_since_restore": 40, "episode_reward_min": 816.0676717117838, "episode_reward_max": 1217.0728977226486, "training_iteration": 40, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-30-23", "timestamp": 1557113423, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.012995969210767, "cost2_max": 0.0, "cost1_mean": 322.9030571128619, "system_level_velocity_mean": 12.383610463036614, "cost1_min": 230.63021674089381, "outflow_rate_min": 898.4424364132399, "system_level_velocity_max": 15.955501479524516, "cost2_min": -0.7459079486555089, "cost1_max": 422.21489265095386, "outflow_rate_mean": 1073.8673085252858, "cost2_mean": -0.07764861559346539, "outflow_rate_max": 1284.925761585529}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc978>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcbe0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.879089832305908, "node_ip": "10.138.0.2", "episodes_total": 650, "time_since_restore": 899.846602678299, "episode_reward_mean": 994.2114739576095, "timesteps_total": 1694661, "timesteps_since_restore": 1694661, "timesteps_this_iter": 40278, "hostname": "flow-main", "pid": 24598, "time_total_s": 899.846602678299, "info": {"sample_time_ms": 11165.089, "num_steps_sampled": 1694661, "num_steps_trained": 1694661, "grad_time_ms": 10225.722, "default": {"total_loss": 15.137394905090332, "entropy": 1.1787059307098389, "vf_explained_var": 0.8812633752822876, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 15.140273094177246, "policy_loss": -0.003520483383908868, "kl": 0.012836422771215439}, "update_time_ms": 6.936, "load_time_ms": 12.663}, "done": false, "iterations_since_restore": 41, "episode_reward_min": 816.0676717117838, "episode_reward_max": 1171.4072881952288, "training_iteration": 41, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-30-43", "timestamp": 1557113443, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.012995969210767, "cost2_max": 0.0, "cost1_mean": 322.45337863956115, "system_level_velocity_mean": 12.368728553786275, "cost1_min": 230.63021674089381, "outflow_rate_min": 898.4424364132399, "system_level_velocity_max": 15.41857018548328, "cost2_min": -0.3838605357912157, "cost1_max": 406.4504640117719, "outflow_rate_mean": 1069.7981216001747, "cost2_mean": -0.06734406440502061, "outflow_rate_max": 1263.423716465485}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768417f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841128>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.42638087272644, "node_ip": "10.138.0.2", "episodes_total": 668, "time_since_restore": 920.2729835510254, "episode_reward_mean": 985.4736588872416, "timesteps_total": 1734039, "timesteps_since_restore": 1734039, "timesteps_this_iter": 39378, "hostname": "flow-main", "pid": 24598, "time_total_s": 920.2729835510254, "info": {"sample_time_ms": 11067.853, "num_steps_sampled": 1734039, "num_steps_trained": 1734039, "grad_time_ms": 10203.578, "default": {"total_loss": 16.924331665039062, "entropy": 1.1714911460876465, "vf_explained_var": 0.8600501418113708, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 16.929298400878906, "policy_loss": -0.005790746305137873, "kl": 0.01652620919048786}, "update_time_ms": 6.93, "load_time_ms": 12.643}, "done": false, "iterations_since_restore": 42, "episode_reward_min": 816.0676717117838, "episode_reward_max": 1200.8523160342495, "training_iteration": 42, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-31-04", "timestamp": 1557113464, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.197519113624939, "cost2_max": 0.0, "cost1_mean": 321.64736438768466, "system_level_velocity_mean": 12.329826434263357, "cost1_min": 235.5168084223045, "outflow_rate_min": 909.1615949952021, "system_level_velocity_max": 15.41857018548328, "cost2_min": -0.3838605357912157, "cost1_max": 406.4504640117719, "outflow_rate_mean": 1064.1674827825243, "cost2_mean": -0.06085525669877753, "outflow_rate_max": 1263.423716465485}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d88d0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.61733078956604, "node_ip": "10.138.0.2", "episodes_total": 688, "time_since_restore": 940.8903143405914, "episode_reward_mean": 976.8766091838733, "timesteps_total": 1772358, "timesteps_since_restore": 1772358, "timesteps_this_iter": 38319, "hostname": "flow-main", "pid": 24598, "time_total_s": 940.8903143405914, "info": {"sample_time_ms": 10988.371, "num_steps_sampled": 1772358, "num_steps_trained": 1772358, "grad_time_ms": 10107.743, "default": {"total_loss": 18.765573501586914, "entropy": 1.1786772012710571, "vf_explained_var": 0.8406939506530762, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 18.771623611450195, "policy_loss": -0.006929691880941391, "kl": 0.017577368766069412}, "update_time_ms": 7.129, "load_time_ms": 12.44}, "done": false, "iterations_since_restore": 43, "episode_reward_min": 816.0676717117838, "episode_reward_max": 1200.8523160342495, "training_iteration": 43, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-31-25", "timestamp": 1557113485, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "custom_metrics": {"system_level_velocity_min": 9.197519113624939, "cost2_max": 0.0, "cost1_mean": 319.2891017409229, "system_level_velocity_mean": 12.222448013933796, "cost1_min": 235.5168084223045, "outflow_rate_min": 909.1615949952021, "system_level_velocity_max": 15.336854007217365, "cost2_min": -0.4290657656921366, "cost1_max": 404.50219241759686, "outflow_rate_mean": 1055.3862384788065, "cost2_mean": -0.06509889887289455, "outflow_rate_max": 1244.8403908799569}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc7b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc630>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcbe0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.30045509338379, "node_ip": "10.138.0.2", "episodes_total": 703, "time_since_restore": 961.1907694339752, "episode_reward_mean": 980.0285910565606, "timesteps_total": 1810882, "timesteps_since_restore": 1810882, "timesteps_this_iter": 38524, "hostname": "flow-main", "pid": 24598, "time_total_s": 961.1907694339752, "info": {"sample_time_ms": 10853.234, "num_steps_sampled": 1810882, "num_steps_trained": 1810882, "grad_time_ms": 10059.608, "default": {"total_loss": 14.585797309875488, "entropy": 1.1828625202178955, "vf_explained_var": 0.8753928542137146, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 14.591796875, "policy_loss": -0.006892298813909292, "kl": 0.01784851960837841}, "update_time_ms": 7.15, "load_time_ms": 12.279}, "done": false, "iterations_since_restore": 44, "episode_reward_min": 814.0611024794142, "episode_reward_max": 1200.8523160342495, "training_iteration": 44, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-31-45", "timestamp": 1557113505, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.790543070629397, "cost2_max": 0.0, "cost1_mean": 322.3159548836677, "system_level_velocity_mean": 12.325112537031735, "cost1_min": 253.6367180117357, "outflow_rate_min": 909.1615949952021, "system_level_velocity_max": 15.404486088159205, "cost2_min": -0.4290657656921366, "cost1_max": 408.47392558028855, "outflow_rate_mean": 1056.625597251895, "cost2_mean": -0.054212891699927275, "outflow_rate_max": 1244.8403908799569}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832d30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc320>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.519091606140137, "node_ip": "10.138.0.2", "episodes_total": 720, "time_since_restore": 982.7098610401154, "episode_reward_mean": 974.1088024592004, "timesteps_total": 1848797, "timesteps_since_restore": 1848797, "timesteps_this_iter": 37915, "hostname": "flow-main", "pid": 24598, "time_total_s": 982.7098610401154, "info": {"sample_time_ms": 10850.865, "num_steps_sampled": 1848797, "num_steps_trained": 1848797, "grad_time_ms": 10117.249, "default": {"total_loss": 19.554943084716797, "entropy": 1.1861038208007812, "vf_explained_var": 0.8669056296348572, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "vf_loss": 19.561132431030273, "policy_loss": -0.00715478602796793, "kl": 0.01931152492761612}, "update_time_ms": 7.214, "load_time_ms": 12.079}, "done": false, "iterations_since_restore": 45, "episode_reward_min": 814.0611024794142, "episode_reward_max": 1200.8523160342495, "training_iteration": 45, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-32-06", "timestamp": 1557113526, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.790543070629397, "cost2_max": 0.0, "cost1_mean": 325.6979667391251, "system_level_velocity_mean": 12.433095496824292, "cost1_min": 253.6367180117357, "outflow_rate_min": 927.2881718942194, "system_level_velocity_max": 15.404486088159205, "cost2_min": -0.9196217512904719, "cost1_max": 408.47392558028855, "outflow_rate_mean": 1056.2228423339513, "cost2_mean": -0.05648213288245303, "outflow_rate_max": 1244.8403908799569}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dceb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976829fd0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc2b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.33, "time_this_iter_s": 21.87432312965393, "node_ip": "10.138.0.2", "episodes_total": 741, "time_since_restore": 1004.5841841697693, "episode_reward_mean": 960.0287860548556, "timesteps_total": 1887236, "timesteps_since_restore": 1887236, "timesteps_this_iter": 38439, "hostname": "flow-main", "pid": 24598, "time_total_s": 1004.5841841697693, "info": {"sample_time_ms": 10980.079, "num_steps_sampled": 1887236, "num_steps_trained": 1887236, "grad_time_ms": 10071.631, "default": {"total_loss": 20.106487274169922, "entropy": 1.1689274311065674, "vf_explained_var": 0.8515587449073792, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 20.11077880859375, "policy_loss": -0.005021300632506609, "kl": 0.014612852595746517}, "update_time_ms": 7.443, "load_time_ms": 11.893}, "done": false, "iterations_since_restore": 46, "episode_reward_min": 52.703386757358274, "episode_reward_max": 1217.2796192391595, "training_iteration": 46, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-32-28", "timestamp": 1557113548, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 21, "custom_metrics": {"system_level_velocity_min": 9.790543070629397, "cost2_max": 0.0, "cost1_mean": 326.191853434427, "system_level_velocity_mean": 12.606746913564873, "cost1_min": 22.213618769983114, "outflow_rate_min": 500.73415127394753, "system_level_velocity_max": 18.28283835228161, "cost2_min": -0.9196217512904719, "cost1_max": 428.64479949813114, "outflow_rate_mean": 1047.7891743746445, "cost2_mean": -0.04890077386992065, "outflow_rate_max": 1229.9042127566754}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d83c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8a90>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.33, "time_this_iter_s": 20.697509050369263, "node_ip": "10.138.0.2", "episodes_total": 756, "time_since_restore": 1025.2816932201385, "episode_reward_mean": 951.8546838678969, "timesteps_total": 1926476, "timesteps_since_restore": 1926476, "timesteps_this_iter": 39240, "hostname": "flow-main", "pid": 24598, "time_total_s": 1025.2816932201385, "info": {"sample_time_ms": 10935.321, "num_steps_sampled": 1926476, "num_steps_trained": 1926476, "grad_time_ms": 10047.742, "default": {"total_loss": 16.677099227905273, "entropy": 1.1802135705947876, "vf_explained_var": 0.8520848751068115, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 16.682231903076172, "policy_loss": -0.005905741360038519, "kl": 0.01546764187514782}, "update_time_ms": 7.21, "load_time_ms": 11.924}, "done": false, "iterations_since_restore": 47, "episode_reward_min": 52.703386757358274, "episode_reward_max": 1217.2796192391595, "training_iteration": 47, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-32-49", "timestamp": 1557113569, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.55653653905686, "cost2_max": 0.0, "cost1_mean": 324.60317483229227, "system_level_velocity_mean": 12.553487315605945, "cost1_min": 22.213618769983114, "outflow_rate_min": 500.73415127394753, "system_level_velocity_max": 18.28283835228161, "cost2_min": -0.9196217512904719, "cost1_max": 428.64479949813114, "outflow_rate_mean": 1040.6205141979488, "cost2_mean": -0.05406407081963227, "outflow_rate_max": 1222.6799146456694}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcfd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dccf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc8d0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.33, "time_this_iter_s": 21.351058959960938, "node_ip": "10.138.0.2", "episodes_total": 772, "time_since_restore": 1046.6327521800995, "episode_reward_mean": 949.9539369001625, "timesteps_total": 1965637, "timesteps_since_restore": 1965637, "timesteps_this_iter": 39161, "hostname": "flow-main", "pid": 24598, "time_total_s": 1046.6327521800995, "info": {"sample_time_ms": 10949.989, "num_steps_sampled": 1965637, "num_steps_trained": 1965637, "grad_time_ms": 10021.848, "default": {"total_loss": 17.35352897644043, "entropy": 1.1812410354614258, "vf_explained_var": 0.8543134927749634, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "vf_loss": 17.361181259155273, "policy_loss": -0.008518810383975506, "kl": 0.017343388870358467}, "update_time_ms": 7.188, "load_time_ms": 11.849}, "done": false, "iterations_since_restore": 48, "episode_reward_min": 52.703386757358274, "episode_reward_max": 1217.2796192391595, "training_iteration": 48, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-33-10", "timestamp": 1557113590, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.55653653905686, "cost2_max": 0.0, "cost1_mean": 324.1513104429715, "system_level_velocity_mean": 12.544979156958377, "cost1_min": 22.213618769983114, "outflow_rate_min": 500.73415127394753, "system_level_velocity_max": 18.28283835228161, "cost2_min": -0.9196217512904719, "cost1_max": 428.64479949813114, "outflow_rate_mean": 1038.9565541604413, "cost2_mean": -0.05951656447538833, "outflow_rate_max": 1247.607557936633}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcd68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcbe0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.33, "time_this_iter_s": 20.528135776519775, "node_ip": "10.138.0.2", "episodes_total": 789, "time_since_restore": 1067.1608879566193, "episode_reward_mean": 957.2343860529177, "timesteps_total": 2005252, "timesteps_since_restore": 2005252, "timesteps_this_iter": 39615, "hostname": "flow-main", "pid": 24598, "time_total_s": 1067.1608879566193, "info": {"sample_time_ms": 10895.967, "num_steps_sampled": 2005252, "num_steps_trained": 2005252, "grad_time_ms": 9960.784, "default": {"total_loss": 18.05055046081543, "entropy": 1.1465423107147217, "vf_explained_var": 0.8730157613754272, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 18.055938720703125, "policy_loss": -0.006182917393743992, "kl": 0.015870412811636925}, "update_time_ms": 7.099, "load_time_ms": 11.779}, "done": false, "iterations_since_restore": 49, "episode_reward_min": 52.703386757358274, "episode_reward_max": 1217.2796192391595, "training_iteration": 49, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-33-31", "timestamp": 1557113611, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.55653653905686, "cost2_max": 0.0, "cost1_mean": 325.23321445816373, "system_level_velocity_mean": 12.597990898025644, "cost1_min": 22.213618769983114, "outflow_rate_min": 500.73415127394753, "system_level_velocity_max": 18.28283835228161, "cost2_min": -0.9196217512904719, "cost1_max": 428.64479949813114, "outflow_rate_mean": 1039.2596839451853, "cost2_mean": -0.06256889119775984, "outflow_rate_max": 1248.6540288837678}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d83c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8128>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8978>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.33, "time_this_iter_s": 20.117478609085083, "node_ip": "10.138.0.2", "episodes_total": 807, "time_since_restore": 1087.2783665657043, "episode_reward_mean": 956.6661519428194, "timesteps_total": 2045092, "timesteps_since_restore": 2045092, "timesteps_this_iter": 39840, "hostname": "flow-main", "pid": 24598, "time_total_s": 1087.2783665657043, "info": {"sample_time_ms": 10888.427, "num_steps_sampled": 2045092, "num_steps_trained": 2045092, "grad_time_ms": 9847.619, "default": {"total_loss": 17.36110496520996, "entropy": 1.1589674949645996, "vf_explained_var": 0.8730092644691467, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 17.366182327270508, "policy_loss": -0.005986823700368404, "kl": 0.018161945044994354}, "update_time_ms": 7.102, "load_time_ms": 11.424}, "done": false, "iterations_since_restore": 50, "episode_reward_min": 52.703386757358274, "episode_reward_max": 1217.2796192391595, "training_iteration": 50, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-33-51", "timestamp": 1557113631, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.55653653905686, "cost2_max": 0.0, "cost1_mean": 325.4083753650209, "system_level_velocity_mean": 12.616420349856496, "cost1_min": 22.213618769983114, "outflow_rate_min": 500.73415127394753, "system_level_velocity_max": 18.28283835228161, "cost2_min": -0.9196217512904719, "cost1_max": 428.64479949813114, "outflow_rate_mean": 1042.7614022605937, "cost2_mean": -0.07009805935878441, "outflow_rate_max": 1248.6540288837678}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcfd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc4a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce80>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.33, "time_this_iter_s": 20.3980073928833, "node_ip": "10.138.0.2", "episodes_total": 823, "time_since_restore": 1107.6763739585876, "episode_reward_mean": 970.0546773517972, "timesteps_total": 2084625, "timesteps_since_restore": 2084625, "timesteps_this_iter": 39533, "hostname": "flow-main", "pid": 24598, "time_total_s": 1107.6763739585876, "info": {"sample_time_ms": 10889.943, "num_steps_sampled": 2084625, "num_steps_trained": 2084625, "grad_time_ms": 9798.19, "default": {"total_loss": 15.626565933227539, "entropy": 1.1636003255844116, "vf_explained_var": 0.8720446228981018, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 15.630902290344238, "policy_loss": -0.005039353854954243, "kl": 0.014089596457779408}, "update_time_ms": 7.266, "load_time_ms": 11.796}, "done": false, "iterations_since_restore": 51, "episode_reward_min": 52.703386757358274, "episode_reward_max": 1217.2796192391595, "training_iteration": 51, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-34-12", "timestamp": 1557113652, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.527421582678615, "cost2_max": 0.0, "cost1_mean": 323.38503119887093, "system_level_velocity_mean": 12.554239925004703, "cost1_min": 22.213618769983114, "outflow_rate_min": 500.73415127394753, "system_level_velocity_max": 18.28283835228161, "cost2_min": -0.607770316134819, "cost1_max": 428.64479949813114, "outflow_rate_mean": 1044.8980649813989, "cost2_mean": -0.0665363030117466, "outflow_rate_max": 1248.6540288837678}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c93c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c94e0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.076102018356323, "node_ip": "10.138.0.2", "episodes_total": 837, "time_since_restore": 1127.752475976944, "episode_reward_mean": 983.9158804383965, "timesteps_total": 2124173, "timesteps_since_restore": 2124173, "timesteps_this_iter": 39548, "hostname": "flow-main", "pid": 24598, "time_total_s": 1127.752475976944, "info": {"sample_time_ms": 10893.118, "num_steps_sampled": 2124173, "num_steps_trained": 2124173, "grad_time_ms": 9760.207, "default": {"total_loss": 13.431906700134277, "entropy": 1.1511598825454712, "vf_explained_var": 0.8956066966056824, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 13.437535285949707, "policy_loss": -0.006461918819695711, "kl": 0.016744406893849373}, "update_time_ms": 7.274, "load_time_ms": 11.786}, "done": false, "iterations_since_restore": 52, "episode_reward_min": 719.0670188603468, "episode_reward_max": 1268.6383339208342, "training_iteration": 52, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-34-32", "timestamp": 1557113672, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "custom_metrics": {"system_level_velocity_min": 9.527421582678615, "cost2_max": 0.0, "cost1_mean": 324.7492769955893, "system_level_velocity_mean": 12.442647831404113, "cost1_min": 247.09629133409055, "outflow_rate_min": 894.4043253497676, "system_level_velocity_max": 16.480459883565022, "cost2_min": -0.607770316134819, "cost1_max": 433.99134529531204, "outflow_rate_mean": 1053.3793963162168, "cost2_mean": -0.07222999464981776, "outflow_rate_max": 1311.2687594595063}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc550>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.168461561203003, "node_ip": "10.138.0.2", "episodes_total": 856, "time_since_restore": 1148.920937538147, "episode_reward_mean": 985.5083028532082, "timesteps_total": 2164542, "timesteps_since_restore": 2164542, "timesteps_this_iter": 40369, "hostname": "flow-main", "pid": 24598, "time_total_s": 1148.920937538147, "info": {"sample_time_ms": 10904.699, "num_steps_sampled": 2164542, "num_steps_trained": 2164542, "grad_time_ms": 9804.391, "default": {"total_loss": 19.669876098632812, "entropy": 1.1534109115600586, "vf_explained_var": 0.8650875091552734, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "vf_loss": 19.67441177368164, "policy_loss": -0.005436237435787916, "kl": 0.017966408282518387}, "update_time_ms": 7.068, "load_time_ms": 12.084}, "done": false, "iterations_since_restore": 53, "episode_reward_min": 719.0670188603468, "episode_reward_max": 1268.6383339208342, "training_iteration": 53, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-34-53", "timestamp": 1557113693, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.196444278562765, "cost2_max": 0.0, "cost1_mean": 322.09172474120265, "system_level_velocity_mean": 12.351666590699114, "cost1_min": 233.76286906231255, "outflow_rate_min": 873.7527073826312, "system_level_velocity_max": 16.480459883565022, "cost2_min": -0.607770316134819, "cost1_max": 433.99134529531204, "outflow_rate_mean": 1054.3326773058056, "cost2_mean": -0.07448113358434648, "outflow_rate_max": 1311.2687594595063}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832e10>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.557631015777588, "node_ip": "10.138.0.2", "episodes_total": 872, "time_since_restore": 1169.4785685539246, "episode_reward_mean": 990.9931678336064, "timesteps_total": 2204437, "timesteps_since_restore": 2204437, "timesteps_this_iter": 39895, "hostname": "flow-main", "pid": 24598, "time_total_s": 1169.4785685539246, "info": {"sample_time_ms": 10916.128, "num_steps_sampled": 2204437, "num_steps_trained": 2204437, "grad_time_ms": 9821.119, "default": {"total_loss": 15.114485740661621, "entropy": 1.1581634283065796, "vf_explained_var": 0.8920052647590637, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 15.120465278625488, "policy_loss": -0.006882744375616312, "kl": 0.01803704723715782}, "update_time_ms": 7.02, "load_time_ms": 12.243}, "done": false, "iterations_since_restore": 54, "episode_reward_min": 777.955254832292, "episode_reward_max": 1268.6383339208342, "training_iteration": 54, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-35-13", "timestamp": 1557113713, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.196444278562765, "cost2_max": 0.0, "cost1_mean": 322.5854055429425, "system_level_velocity_mean": 12.369706735598513, "cost1_min": 233.76286906231255, "outflow_rate_min": 873.7527073826312, "system_level_velocity_max": 16.480459883565022, "cost2_min": -0.607770316134819, "cost1_max": 433.99134529531204, "outflow_rate_mean": 1057.8605705324887, "cost2_mean": -0.07640160424033285, "outflow_rate_max": 1311.2687594595063}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dca58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc4e0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.466431140899658, "node_ip": "10.138.0.2", "episodes_total": 889, "time_since_restore": 1190.9449996948242, "episode_reward_mean": 996.0004677531957, "timesteps_total": 2244556, "timesteps_since_restore": 2244556, "timesteps_this_iter": 40119, "hostname": "flow-main", "pid": 24598, "time_total_s": 1190.9449996948242, "info": {"sample_time_ms": 10938.474, "num_steps_sampled": 2244556, "num_steps_trained": 2244556, "grad_time_ms": 9793.513, "default": {"total_loss": 16.452274322509766, "entropy": 1.1632460355758667, "vf_explained_var": 0.9008871912956238, "cur_kl_coeff": 0.05000000447034836, "cur_lr": 0.0005000000237487257, "vf_loss": 16.45734977722168, "policy_loss": -0.005901094991713762, "kl": 0.016520369797945023}, "update_time_ms": 6.937, "load_time_ms": 12.228}, "done": false, "iterations_since_restore": 55, "episode_reward_min": 777.955254832292, "episode_reward_max": 1268.6383339208342, "training_iteration": 55, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-35-35", "timestamp": 1557113735, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.196444278562765, "cost2_max": 0.0, "cost1_mean": 322.5264145766329, "system_level_velocity_mean": 12.36991685649158, "cost1_min": 233.76286906231255, "outflow_rate_min": 873.7527073826312, "system_level_velocity_max": 16.60178435818523, "cost2_min": -0.607770316134819, "cost1_max": 436.0773681329216, "outflow_rate_mean": 1062.0156500240003, "cost2_mean": -0.07222184011582435, "outflow_rate_max": 1311.2687594595063}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc828>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcb00>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.400941610336304, "node_ip": "10.138.0.2", "episodes_total": 906, "time_since_restore": 1211.3459413051605, "episode_reward_mean": 996.4354443692458, "timesteps_total": 2283789, "timesteps_since_restore": 2283789, "timesteps_this_iter": 39233, "hostname": "flow-main", "pid": 24598, "time_total_s": 1211.3459413051605, "info": {"sample_time_ms": 10779.072, "num_steps_sampled": 2283789, "num_steps_trained": 2283789, "grad_time_ms": 9805.845, "default": {"total_loss": 17.0394287109375, "entropy": 1.1371110677719116, "vf_explained_var": 0.8957645297050476, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 17.046167373657227, "policy_loss": -0.0075871641747653484, "kl": 0.01700897514820099}, "update_time_ms": 6.886, "load_time_ms": 12.718}, "done": false, "iterations_since_restore": 56, "episode_reward_min": 777.955254832292, "episode_reward_max": 1268.6383339208342, "training_iteration": 56, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-35-55", "timestamp": 1557113755, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.196444278562765, "cost2_max": 0.0, "cost1_mean": 320.0765497244666, "system_level_velocity_mean": 12.283455266294975, "cost1_min": 233.76286906231255, "outflow_rate_min": 873.7527073826312, "system_level_velocity_max": 16.60178435818523, "cost2_min": -0.607770316134819, "cost1_max": 436.0773681329216, "outflow_rate_mean": 1058.300895997117, "cost2_mean": -0.06810174550991993, "outflow_rate_max": 1311.2687594595063}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832320>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.557613372802734, "node_ip": "10.138.0.2", "episodes_total": 921, "time_since_restore": 1231.9035546779633, "episode_reward_mean": 990.0813540996367, "timesteps_total": 2323367, "timesteps_since_restore": 2323367, "timesteps_this_iter": 39578, "hostname": "flow-main", "pid": 24598, "time_total_s": 1231.9035546779633, "info": {"sample_time_ms": 10743.795, "num_steps_sampled": 2323367, "num_steps_trained": 2323367, "grad_time_ms": 9826.301, "default": {"total_loss": 15.922858238220215, "entropy": 1.138555884361267, "vf_explained_var": 0.8997488617897034, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 15.92745304107666, "policy_loss": -0.005317307077348232, "kl": 0.014440417289733887}, "update_time_ms": 6.96, "load_time_ms": 12.981}, "done": false, "iterations_since_restore": 57, "episode_reward_min": 777.955254832292, "episode_reward_max": 1268.6383339208342, "training_iteration": 57, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-36-16", "timestamp": 1557113776, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.196444278562765, "cost2_max": 0.0, "cost1_mean": 320.7531717404209, "system_level_velocity_mean": 12.31990019083829, "cost1_min": 233.76286906231255, "outflow_rate_min": 873.7527073826312, "system_level_velocity_max": 16.60178435818523, "cost2_min": -0.6806341740718538, "cost1_max": 436.0773681329216, "outflow_rate_mean": 1060.648023251368, "cost2_mean": -0.07680574262009388, "outflow_rate_max": 1311.2687594595063}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc6a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dca58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc3c8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.34611463546753, "node_ip": "10.138.0.2", "episodes_total": 940, "time_since_restore": 1252.2496693134308, "episode_reward_mean": 996.654510457117, "timesteps_total": 2362277, "timesteps_since_restore": 2362277, "timesteps_this_iter": 38910, "hostname": "flow-main", "pid": 24598, "time_total_s": 1252.2496693134308, "info": {"sample_time_ms": 10658.98, "num_steps_sampled": 2362277, "num_steps_trained": 2362277, "grad_time_ms": 9809.921, "default": {"total_loss": 21.113262176513672, "entropy": 1.1337568759918213, "vf_explained_var": 0.8863135576248169, "cur_kl_coeff": 0.050000011920928955, "cur_lr": 0.0005000000237487257, "vf_loss": 21.118408203125, "policy_loss": -0.005961718037724495, "kl": 0.016305705532431602}, "update_time_ms": 6.966, "load_time_ms": 13.569}, "done": false, "iterations_since_restore": 58, "episode_reward_min": 838.1499318942239, "episode_reward_max": 1212.4254324564533, "training_iteration": 58, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-36-36", "timestamp": 1557113796, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.196444278562765, "cost2_max": 0.0, "cost1_mean": 322.95814231802586, "system_level_velocity_mean": 12.406226488801535, "cost1_min": 233.76286906231255, "outflow_rate_min": 873.7527073826312, "system_level_velocity_max": 16.60178435818523, "cost2_min": -0.6806341740718538, "cost1_max": 436.0773681329216, "outflow_rate_mean": 1063.0041871824778, "cost2_mean": -0.07039041006970335, "outflow_rate_max": 1297.7710137281083}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dca90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9080>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.746658086776733, "node_ip": "10.138.0.2", "episodes_total": 956, "time_since_restore": 1272.9963274002075, "episode_reward_mean": 1004.0911178501029, "timesteps_total": 2402244, "timesteps_since_restore": 2402244, "timesteps_this_iter": 39967, "hostname": "flow-main", "pid": 24598, "time_total_s": 1272.9963274002075, "info": {"sample_time_ms": 10694.812, "num_steps_sampled": 2402244, "num_steps_trained": 2402244, "grad_time_ms": 9794.593, "default": {"total_loss": 16.444934844970703, "entropy": 1.1446423530578613, "vf_explained_var": 0.8964247107505798, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 16.450342178344727, "policy_loss": -0.006205640267580748, "kl": 0.015994016081094742}, "update_time_ms": 6.99, "load_time_ms": 15.169}, "done": false, "iterations_since_restore": 59, "episode_reward_min": 838.1499318942239, "episode_reward_max": 1212.4254324564533, "training_iteration": 59, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-36-57", "timestamp": 1557113817, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.876663315713898, "cost2_max": 0.0, "cost1_mean": 325.89660261014063, "system_level_velocity_mean": 12.513572493005185, "cost1_min": 253.88621808687128, "outflow_rate_min": 928.2542234597648, "system_level_velocity_max": 16.60178435818523, "cost2_min": -0.6806341740718538, "cost1_max": 436.0773681329216, "outflow_rate_mean": 1068.5173088764552, "cost2_mean": -0.07740074831746559, "outflow_rate_max": 1297.7710137281083}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832898>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.181267499923706, "node_ip": "10.138.0.2", "episodes_total": 973, "time_since_restore": 1295.1775949001312, "episode_reward_mean": 1005.238758350188, "timesteps_total": 2442269, "timesteps_since_restore": 2442269, "timesteps_this_iter": 40025, "hostname": "flow-main", "pid": 24598, "time_total_s": 1295.1775949001312, "info": {"sample_time_ms": 10684.365, "num_steps_sampled": 2442269, "num_steps_trained": 2442269, "grad_time_ms": 10011.681, "default": {"total_loss": 18.606914520263672, "entropy": 1.128100037574768, "vf_explained_var": 0.8927070498466492, "cur_kl_coeff": 0.05000000819563866, "cur_lr": 0.0005000000237487257, "vf_loss": 18.613075256347656, "policy_loss": -0.007263734005391598, "kl": 0.0221030842512846}, "update_time_ms": 6.951, "load_time_ms": 15.086}, "done": false, "iterations_since_restore": 60, "episode_reward_min": 807.5809939010827, "episode_reward_max": 1212.4254324564533, "training_iteration": 60, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-37-19", "timestamp": 1557113839, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 8.949737323747007, "cost2_max": 0.0, "cost1_mean": 326.5043567090807, "system_level_velocity_mean": 12.539478487311246, "cost1_min": 231.72610098931645, "outflow_rate_min": 890.3179522947718, "system_level_velocity_max": 16.60178435818523, "cost2_min": -0.6806341740718538, "cost1_max": 436.0773681329216, "outflow_rate_mean": 1068.8602120861083, "cost2_mean": -0.0787908640875921, "outflow_rate_max": 1297.7710137281083}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832c18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.18010926246643, "node_ip": "10.138.0.2", "episodes_total": 988, "time_since_restore": 1315.3577041625977, "episode_reward_mean": 1004.4243859960268, "timesteps_total": 2481596, "timesteps_since_restore": 2481596, "timesteps_this_iter": 39327, "hostname": "flow-main", "pid": 24598, "time_total_s": 1315.3577041625977, "info": {"sample_time_ms": 10645.76, "num_steps_sampled": 2481596, "num_steps_trained": 2481596, "grad_time_ms": 10027.908, "default": {"total_loss": 18.829692840576172, "entropy": 1.1303012371063232, "vf_explained_var": 0.8851081728935242, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "vf_loss": 18.835575103759766, "policy_loss": -0.0071551622822880745, "kl": 0.016982341185212135}, "update_time_ms": 6.808, "load_time_ms": 16.143}, "done": false, "iterations_since_restore": 61, "episode_reward_min": 807.5809939010827, "episode_reward_max": 1212.4254324564533, "training_iteration": 61, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-37-40", "timestamp": 1557113860, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 8.949737323747007, "cost2_max": 0.0, "cost1_mean": 326.6452878467776, "system_level_velocity_mean": 12.549721302210209, "cost1_min": 231.72610098931645, "outflow_rate_min": 890.3179522947718, "system_level_velocity_max": 16.531235430323864, "cost2_min": -0.6806341740718538, "cost1_max": 435.0213354869772, "outflow_rate_mean": 1068.7046906333399, "cost2_mean": -0.08281535607986033, "outflow_rate_max": 1297.7710137281083}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc128>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.29, "time_this_iter_s": 21.73999786376953, "node_ip": "10.138.0.2", "episodes_total": 1006, "time_since_restore": 1337.0977020263672, "episode_reward_mean": 982.3912956049795, "timesteps_total": 2521831, "timesteps_since_restore": 2521831, "timesteps_this_iter": 40235, "hostname": "flow-main", "pid": 24598, "time_total_s": 1337.0977020263672, "info": {"sample_time_ms": 10760.702, "num_steps_sampled": 2521831, "num_steps_trained": 2521831, "grad_time_ms": 10078.171, "default": {"total_loss": 20.95699691772461, "entropy": 1.1354303359985352, "vf_explained_var": 0.8453706502914429, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "vf_loss": 20.961393356323242, "policy_loss": -0.005796453449875116, "kl": 0.018680183216929436}, "update_time_ms": 6.711, "load_time_ms": 17.046}, "done": false, "iterations_since_restore": 62, "episode_reward_min": 51.505378007374155, "episode_reward_max": 1212.4254324564533, "training_iteration": 62, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-38-01", "timestamp": 1557113881, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 8.949737323747007, "cost2_max": 0.0, "cost1_mean": 325.0197201546947, "system_level_velocity_mean": 12.662309880548543, "cost1_min": 19.539919410362128, "outflow_rate_min": 487.90790141812573, "system_level_velocity_max": 18.190172208143082, "cost2_min": -0.6806341740718538, "cost1_max": 435.0213354869772, "outflow_rate_mean": 1065.857542080842, "cost2_mean": -0.08584488962034056, "outflow_rate_max": 1297.7710137281083}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768329e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832630>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.29, "time_this_iter_s": 21.022120475769043, "node_ip": "10.138.0.2", "episodes_total": 1025, "time_since_restore": 1358.1198225021362, "episode_reward_mean": 982.4995113714707, "timesteps_total": 2561993, "timesteps_since_restore": 2561993, "timesteps_this_iter": 40162, "hostname": "flow-main", "pid": 24598, "time_total_s": 1358.1198225021362, "info": {"sample_time_ms": 10730.01, "num_steps_sampled": 2561993, "num_steps_trained": 2561993, "grad_time_ms": 10093.323, "default": {"total_loss": 19.467130661010742, "entropy": 1.1239608526229858, "vf_explained_var": 0.8697821497917175, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "vf_loss": 19.472814559936523, "policy_loss": -0.006849844940006733, "kl": 0.015536317601799965}, "update_time_ms": 6.729, "load_time_ms": 17.91}, "done": false, "iterations_since_restore": 63, "episode_reward_min": 51.505378007374155, "episode_reward_max": 1211.1373089201074, "training_iteration": 63, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-38-22", "timestamp": 1557113902, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 8.949737323747007, "cost2_max": 0.0, "cost1_mean": 321.2149395258586, "system_level_velocity_mean": 12.51539500234764, "cost1_min": 19.539919410362128, "outflow_rate_min": 487.90790141812573, "system_level_velocity_max": 18.190172208143082, "cost2_min": -1.1650771886209847, "cost1_max": 435.0213354869772, "outflow_rate_mean": 1058.350213886058, "cost2_mean": -0.08690314312594141, "outflow_rate_max": 1267.504340504963}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc668>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.29, "time_this_iter_s": 20.077407360076904, "node_ip": "10.138.0.2", "episodes_total": 1039, "time_since_restore": 1378.1972298622131, "episode_reward_mean": 971.6191947359113, "timesteps_total": 2600953, "timesteps_since_restore": 2600953, "timesteps_this_iter": 38960, "hostname": "flow-main", "pid": 24598, "time_total_s": 1378.1972298622131, "info": {"sample_time_ms": 10681.343, "num_steps_sampled": 2600953, "num_steps_trained": 2600953, "grad_time_ms": 10093.367, "default": {"total_loss": 16.811864852905273, "entropy": 1.113729476928711, "vf_explained_var": 0.9002569317817688, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "vf_loss": 16.81476402282715, "policy_loss": -0.00415002042427659, "kl": 0.016638340428471565}, "update_time_ms": 6.668, "load_time_ms": 18.597}, "done": false, "iterations_since_restore": 64, "episode_reward_min": 51.505378007374155, "episode_reward_max": 1206.7648589843243, "training_iteration": 64, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-38-42", "timestamp": 1557113922, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "custom_metrics": {"system_level_velocity_min": 8.949737323747007, "cost2_max": 0.0, "cost1_mean": 317.5999779938838, "system_level_velocity_mean": 12.38896026453805, "cost1_min": 19.539919410362128, "outflow_rate_min": 487.90790141812573, "system_level_velocity_max": 18.190172208143082, "cost2_min": -1.1650771886209847, "cost1_max": 421.7266051480067, "outflow_rate_mean": 1051.614967258444, "cost2_mean": -0.0826304238300879, "outflow_rate_max": 1260.8265983033093}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768320b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9b38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768324e0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.29, "time_this_iter_s": 19.784592628479004, "node_ip": "10.138.0.2", "episodes_total": 1058, "time_since_restore": 1397.9818224906921, "episode_reward_mean": 969.3494961944415, "timesteps_total": 2639776, "timesteps_since_restore": 2639776, "timesteps_this_iter": 38823, "hostname": "flow-main", "pid": 24598, "time_total_s": 1397.9818224906921, "info": {"sample_time_ms": 10578.95, "num_steps_sampled": 2639776, "num_steps_trained": 2639776, "grad_time_ms": 10026.845, "default": {"total_loss": 22.368467330932617, "entropy": 1.1326122283935547, "vf_explained_var": 0.8632726073265076, "cur_kl_coeff": 0.07499998807907104, "cur_lr": 0.0005000000237487257, "vf_loss": 22.3730525970459, "policy_loss": -0.005688796751201153, "kl": 0.014692108146846294}, "update_time_ms": 6.676, "load_time_ms": 18.907}, "done": false, "iterations_since_restore": 65, "episode_reward_min": 51.505378007374155, "episode_reward_max": 1206.7648589843243, "training_iteration": 65, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-39-02", "timestamp": 1557113942, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 8.949737323747007, "cost2_max": 0.0, "cost1_mean": 318.62069892763594, "system_level_velocity_mean": 12.431144169068105, "cost1_min": 19.539919410362128, "outflow_rate_min": 487.90790141812573, "system_level_velocity_max": 18.190172208143082, "cost2_min": -1.1650771886209847, "cost1_max": 424.2192255187591, "outflow_rate_mean": 1053.4840469785747, "cost2_mean": -0.07331915773800901, "outflow_rate_max": 1267.0385474075924}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832748>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.76, "time_this_iter_s": 19.936357736587524, "node_ip": "10.138.0.2", "episodes_total": 1076, "time_since_restore": 1417.9181802272797, "episode_reward_mean": 957.0648888863418, "timesteps_total": 2679487, "timesteps_since_restore": 2679487, "timesteps_this_iter": 39711, "hostname": "flow-main", "pid": 24598, "time_total_s": 1417.9181802272797, "info": {"sample_time_ms": 10614.398, "num_steps_sampled": 2679487, "num_steps_trained": 2679487, "grad_time_ms": 9944.254, "default": {"total_loss": 20.507789611816406, "entropy": 1.1403920650482178, "vf_explained_var": 0.8904399275779724, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "vf_loss": 20.511964797973633, "policy_loss": -0.0053919958882033825, "kl": 0.016246994957327843}, "update_time_ms": 6.55, "load_time_ms": 18.935}, "done": false, "iterations_since_restore": 66, "episode_reward_min": 51.505378007374155, "episode_reward_max": 1172.9198554726172, "training_iteration": 66, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-39-22", "timestamp": 1557113962, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.01324217669268, "cost2_max": 0.0, "cost1_mean": 314.4533348047925, "system_level_velocity_mean": 12.45233978518167, "cost1_min": 19.539919410362128, "outflow_rate_min": 487.90790141812573, "system_level_velocity_max": 18.728470471710022, "cost2_min": -1.1650771886209847, "cost1_max": 424.2192255187591, "outflow_rate_mean": 1044.4060810049887, "cost2_mean": -0.0741748057323653, "outflow_rate_max": 1267.0385474075924}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768329b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.47, "time_this_iter_s": 20.825661659240723, "node_ip": "10.138.0.2", "episodes_total": 1092, "time_since_restore": 1438.7438418865204, "episode_reward_mean": 962.213886807835, "timesteps_total": 2718911, "timesteps_since_restore": 2718911, "timesteps_this_iter": 39424, "hostname": "flow-main", "pid": 24598, "time_total_s": 1438.7438418865204, "info": {"sample_time_ms": 10654.565, "num_steps_sampled": 2718911, "num_steps_trained": 2718911, "grad_time_ms": 9931.378, "default": {"total_loss": 19.997827529907227, "entropy": 1.137803554534912, "vf_explained_var": 0.8999916315078735, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "vf_loss": 20.002605438232422, "policy_loss": -0.0061521828174591064, "kl": 0.01834121346473694}, "update_time_ms": 6.658, "load_time_ms": 18.755}, "done": false, "iterations_since_restore": 67, "episode_reward_min": 79.16726866953825, "episode_reward_max": 1168.3212618810571, "training_iteration": 67, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-39-43", "timestamp": 1557113983, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.01324217669268, "cost2_max": 0.0, "cost1_mean": 319.143116357384, "system_level_velocity_mean": 12.456180578306984, "cost1_min": 31.341229680589112, "outflow_rate_min": 530.4296774327756, "system_level_velocity_max": 18.728470471710022, "cost2_min": -1.1650771886209847, "cost1_max": 424.2192255187591, "outflow_rate_mean": 1052.9319732921886, "cost2_mean": -0.06839941846387142, "outflow_rate_max": 1267.0385474075924}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768324e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832198>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.47, "time_this_iter_s": 21.174509525299072, "node_ip": "10.138.0.2", "episodes_total": 1109, "time_since_restore": 1459.9183514118195, "episode_reward_mean": 973.9951486199009, "timesteps_total": 2758141, "timesteps_since_restore": 2758141, "timesteps_this_iter": 39230, "hostname": "flow-main", "pid": 24598, "time_total_s": 1459.9183514118195, "info": {"sample_time_ms": 10730.851, "num_steps_sampled": 2758141, "num_steps_trained": 2758141, "grad_time_ms": 9935.88, "default": {"total_loss": 19.572582244873047, "entropy": 1.1223886013031006, "vf_explained_var": 0.9097767472267151, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "vf_loss": 19.576251983642578, "policy_loss": -0.0048749628476798534, "kl": 0.01607021875679493}, "update_time_ms": 6.668, "load_time_ms": 18.301}, "done": false, "iterations_since_restore": 68, "episode_reward_min": 79.16726866953825, "episode_reward_max": 1235.1332620098199, "training_iteration": 68, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-40-04", "timestamp": 1557114004, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.278399197350483, "cost2_max": 0.0, "cost1_mean": 323.3320557636702, "system_level_velocity_mean": 12.61265273133008, "cost1_min": 31.341229680589112, "outflow_rate_min": 530.4296774327756, "system_level_velocity_max": 18.728470471710022, "cost2_min": -0.6718540778829478, "cost1_max": 452.246910518895, "outflow_rate_mean": 1058.7545085560146, "cost2_mean": -0.07380315435802573, "outflow_rate_max": 1298.0695241354442}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832278>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.47, "time_this_iter_s": 20.204224109649658, "node_ip": "10.138.0.2", "episodes_total": 1126, "time_since_restore": 1480.1225755214691, "episode_reward_mean": 977.0266776436748, "timesteps_total": 2797833, "timesteps_since_restore": 2797833, "timesteps_this_iter": 39692, "hostname": "flow-main", "pid": 24598, "time_total_s": 1480.1225755214691, "info": {"sample_time_ms": 10662.579, "num_steps_sampled": 2797833, "num_steps_trained": 2797833, "grad_time_ms": 9950.414, "default": {"total_loss": 20.32964515686035, "entropy": 1.1273179054260254, "vf_explained_var": 0.8927214741706848, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "vf_loss": 20.334692001342773, "policy_loss": -0.006335685960948467, "kl": 0.017174357548356056}, "update_time_ms": 6.915, "load_time_ms": 16.971}, "done": false, "iterations_since_restore": 69, "episode_reward_min": 79.16726866953825, "episode_reward_max": 1235.1332620098199, "training_iteration": 69, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-40-24", "timestamp": 1557114024, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.278399197350483, "cost2_max": 0.0, "cost1_mean": 326.34280980185713, "system_level_velocity_mean": 12.723346491736551, "cost1_min": 31.341229680589112, "outflow_rate_min": 530.4296774327756, "system_level_velocity_max": 18.728470471710022, "cost2_min": -1.2968590026061266, "cost1_max": 452.246910518895, "outflow_rate_mean": 1063.1198052085126, "cost2_mean": -0.08527269840111476, "outflow_rate_max": 1298.0695241354442}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976829fd0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e10b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.47, "time_this_iter_s": 20.430028200149536, "node_ip": "10.138.0.2", "episodes_total": 1143, "time_since_restore": 1500.5526037216187, "episode_reward_mean": 975.6413405207902, "timesteps_total": 2837437, "timesteps_since_restore": 2837437, "timesteps_this_iter": 39604, "hostname": "flow-main", "pid": 24598, "time_total_s": 1500.5526037216187, "info": {"sample_time_ms": 10632.784, "num_steps_sampled": 2837437, "num_steps_trained": 2837437, "grad_time_ms": 9803.757, "default": {"total_loss": 21.688949584960938, "entropy": 1.149606704711914, "vf_explained_var": 0.8655270934104919, "cur_kl_coeff": 0.07499998807907104, "cur_lr": 0.0005000000237487257, "vf_loss": 21.694076538085938, "policy_loss": -0.006451048888266087, "kl": 0.01763019524514675}, "update_time_ms": 7.016, "load_time_ms": 18.023}, "done": false, "iterations_since_restore": 70, "episode_reward_min": 79.16726866953825, "episode_reward_max": 1235.1332620098199, "training_iteration": 70, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-40-45", "timestamp": 1557114045, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.278399197350483, "cost2_max": 0.0, "cost1_mean": 328.4913598627954, "system_level_velocity_mean": 12.78552513279718, "cost1_min": 31.341229680589112, "outflow_rate_min": 530.4296774327756, "system_level_velocity_max": 18.728470471710022, "cost2_min": -1.2968590026061266, "cost1_max": 452.246910518895, "outflow_rate_mean": 1066.1754194774787, "cost2_mean": -0.08926484533748108, "outflow_rate_max": 1298.0695241354442}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768323c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f60>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832320>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.47, "time_this_iter_s": 21.227768659591675, "node_ip": "10.138.0.2", "episodes_total": 1159, "time_since_restore": 1521.7803723812103, "episode_reward_mean": 978.1465490860346, "timesteps_total": 2877683, "timesteps_since_restore": 2877683, "timesteps_this_iter": 40246, "hostname": "flow-main", "pid": 24598, "time_total_s": 1521.7803723812103, "info": {"sample_time_ms": 10705.458, "num_steps_sampled": 2877683, "num_steps_trained": 2877683, "grad_time_ms": 9834.635, "default": {"total_loss": 18.573287963867188, "entropy": 1.1756646633148193, "vf_explained_var": 0.8603895902633667, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "vf_loss": 18.578983306884766, "policy_loss": -0.007003756705671549, "kl": 0.017477722838521004}, "update_time_ms": 7.235, "load_time_ms": 17.231}, "done": false, "iterations_since_restore": 71, "episode_reward_min": 79.16726866953825, "episode_reward_max": 1235.1332620098199, "training_iteration": 71, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-41-06", "timestamp": 1557114066, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.278399197350483, "cost2_max": 0.0, "cost1_mean": 327.5659250938224, "system_level_velocity_mean": 12.743177421903916, "cost1_min": 31.341229680589112, "outflow_rate_min": 530.4296774327756, "system_level_velocity_max": 18.728470471710022, "cost2_min": -1.2968590026061266, "cost1_max": 452.246910518895, "outflow_rate_mean": 1063.0557262065913, "cost2_mean": -0.08851827615582578, "outflow_rate_max": 1298.0695241354442}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d88d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8e80>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.98958706855774, "node_ip": "10.138.0.2", "episodes_total": 1176, "time_since_restore": 1543.769959449768, "episode_reward_mean": 981.6635760039736, "timesteps_total": 2918025, "timesteps_since_restore": 2918025, "timesteps_this_iter": 40342, "hostname": "flow-main", "pid": 24598, "time_total_s": 1543.769959449768, "info": {"sample_time_ms": 10618.702, "num_steps_sampled": 2918025, "num_steps_trained": 2918025, "grad_time_ms": 9946.088, "default": {"total_loss": 18.03508186340332, "entropy": 1.1689777374267578, "vf_explained_var": 0.8748354911804199, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "vf_loss": 18.040538787841797, "policy_loss": -0.006886339746415615, "kl": 0.019096815958619118}, "update_time_ms": 7.3, "load_time_ms": 17.062}, "done": false, "iterations_since_restore": 72, "episode_reward_min": 821.4184748210777, "episode_reward_max": 1235.1332620098199, "training_iteration": 72, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-41-28", "timestamp": 1557114088, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.25856502009465, "cost2_max": 0.0, "cost1_mean": 326.7766246341607, "system_level_velocity_mean": 12.534839804748309, "cost1_min": 238.144881664868, "outflow_rate_min": 884.1373062643266, "system_level_velocity_max": 17.23342238441451, "cost2_min": -1.2968590026061266, "cost1_max": 452.246910518895, "outflow_rate_mean": 1062.7108822712007, "cost2_mean": -0.07826868775233876, "outflow_rate_max": 1298.0695241354442}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841b00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e10f0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.287805557250977, "node_ip": "10.138.0.2", "episodes_total": 1191, "time_since_restore": 1564.057765007019, "episode_reward_mean": 980.8358225222925, "timesteps_total": 2958500, "timesteps_since_restore": 2958500, "timesteps_this_iter": 40475, "hostname": "flow-main", "pid": 24598, "time_total_s": 1564.057765007019, "info": {"sample_time_ms": 10552.416, "num_steps_sampled": 2958500, "num_steps_trained": 2958500, "grad_time_ms": 9937.569, "default": {"total_loss": 15.92763900756836, "entropy": 1.1421364545822144, "vf_explained_var": 0.9053539037704468, "cur_kl_coeff": 0.07499998807907104, "cur_lr": 0.0005000000237487257, "vf_loss": 15.933195114135742, "policy_loss": -0.006879933178424835, "kl": 0.017645275220274925}, "update_time_ms": 7.311, "load_time_ms": 16.604}, "done": false, "iterations_since_restore": 73, "episode_reward_min": 765.2492902647696, "episode_reward_max": 1235.1332620098199, "training_iteration": 73, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-41-49", "timestamp": 1557114109, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 8.266074711225155, "cost2_max": 0.0, "cost1_mean": 322.80164662434777, "system_level_velocity_mean": 12.382593243623692, "cost1_min": 212.16558651771717, "outflow_rate_min": 842.5588130232836, "system_level_velocity_max": 17.23342238441451, "cost2_min": -1.2968590026061266, "cost1_max": 452.246910518895, "outflow_rate_mean": 1055.1922963312686, "cost2_mean": -0.08633403809137215, "outflow_rate_max": 1298.0695241354442}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9780>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.36, "time_this_iter_s": 20.495458602905273, "node_ip": "10.138.0.2", "episodes_total": 1209, "time_since_restore": 1584.5532236099243, "episode_reward_mean": 972.9888207711514, "timesteps_total": 2997589, "timesteps_since_restore": 2997589, "timesteps_this_iter": 39089, "hostname": "flow-main", "pid": 24598, "time_total_s": 1584.5532236099243, "info": {"sample_time_ms": 10633.556, "num_steps_sampled": 2997589, "num_steps_trained": 2997589, "grad_time_ms": 9898.755, "default": {"total_loss": 19.636356353759766, "entropy": 1.1400730609893799, "vf_explained_var": 0.8969810605049133, "cur_kl_coeff": 0.07499999552965164, "cur_lr": 0.0005000000237487257, "vf_loss": 19.64389419555664, "policy_loss": -0.00924980640411377, "kl": 0.02283993363380432}, "update_time_ms": 7.47, "load_time_ms": 16.035}, "done": false, "iterations_since_restore": 74, "episode_reward_min": 61.52078579612287, "episode_reward_max": 1219.4961588674707, "training_iteration": 74, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-42-09", "timestamp": 1557114129, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 8.266074711225155, "cost2_max": 0.0, "cost1_mean": 316.03358564895996, "system_level_velocity_mean": 12.29700411627655, "cost1_min": 23.74937800644097, "outflow_rate_min": 493.0169407337448, "system_level_velocity_max": 18.765511462099386, "cost2_min": -1.2968590026061266, "cost1_max": 415.6001579769783, "outflow_rate_mean": 1043.3507438903735, "cost2_mean": -0.07546883408187913, "outflow_rate_max": 1249.845250509621}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832630>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832470>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.36, "time_this_iter_s": 22.24072289466858, "node_ip": "10.138.0.2", "episodes_total": 1228, "time_since_restore": 1606.793946504593, "episode_reward_mean": 977.9267373536821, "timesteps_total": 3036527, "timesteps_since_restore": 3036527, "timesteps_this_iter": 38938, "hostname": "flow-main", "pid": 24598, "time_total_s": 1606.793946504593, "info": {"sample_time_ms": 10794.153, "num_steps_sampled": 3036527, "num_steps_trained": 3036527, "grad_time_ms": 9983.656, "default": {"total_loss": 22.70892333984375, "entropy": 1.1162958145141602, "vf_explained_var": 0.8902961611747742, "cur_kl_coeff": 0.11250000447034836, "cur_lr": 0.0005000000237487257, "vf_loss": 22.715728759765625, "policy_loss": -0.009117362089455128, "kl": 0.020559037104249}, "update_time_ms": 7.511, "load_time_ms": 15.699}, "done": false, "iterations_since_restore": 75, "episode_reward_min": 61.52078579612287, "episode_reward_max": 1273.1142041112644, "training_iteration": 75, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-42-31", "timestamp": 1557114151, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 8.266074711225155, "cost2_max": 0.0, "cost1_mean": 318.6034219123827, "system_level_velocity_mean": 12.39010299211294, "cost1_min": 23.74937800644097, "outflow_rate_min": 493.0169407337448, "system_level_velocity_max": 18.765511462099386, "cost2_min": -0.7565966585003454, "cost1_max": 456.94127038416565, "outflow_rate_mean": 1047.969425675186, "cost2_mean": -0.062013356682904364, "outflow_rate_max": 1264.8345870861542}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1860>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1080>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.36, "time_this_iter_s": 20.00759768486023, "node_ip": "10.138.0.2", "episodes_total": 1246, "time_since_restore": 1626.8015441894531, "episode_reward_mean": 976.0846040713401, "timesteps_total": 3076239, "timesteps_since_restore": 3076239, "timesteps_this_iter": 39712, "hostname": "flow-main", "pid": 24598, "time_total_s": 1626.8015441894531, "info": {"sample_time_ms": 10742.796, "num_steps_sampled": 3076239, "num_steps_trained": 3076239, "grad_time_ms": 10042.159, "default": {"total_loss": 18.863086700439453, "entropy": 1.1366921663284302, "vf_explained_var": 0.8850304484367371, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 18.867897033691406, "policy_loss": -0.007299110293388367, "kl": 0.01473125908523798}, "update_time_ms": 7.513, "load_time_ms": 16.261}, "done": false, "iterations_since_restore": 76, "episode_reward_min": 61.52078579612287, "episode_reward_max": 1273.1142041112644, "training_iteration": 76, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-42-51", "timestamp": 1557114171, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 8.266074711225155, "cost2_max": 0.0, "cost1_mean": 316.58350515315124, "system_level_velocity_mean": 12.319085848218322, "cost1_min": 23.74937800644097, "outflow_rate_min": 493.0169407337448, "system_level_velocity_max": 18.765511462099386, "cost2_min": -0.7565966585003454, "cost1_max": 456.94127038416565, "outflow_rate_mean": 1045.5319259783685, "cost2_mean": -0.06971318216438573, "outflow_rate_max": 1264.8345870861542}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768414a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841e10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841470>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 680.08, "time_this_iter_s": 21.501327753067017, "node_ip": "10.138.0.2", "episodes_total": 1263, "time_since_restore": 1648.3028719425201, "episode_reward_mean": 954.2698906074432, "timesteps_total": 3115669, "timesteps_since_restore": 3115669, "timesteps_this_iter": 39430, "hostname": "flow-main", "pid": 24598, "time_total_s": 1648.3028719425201, "info": {"sample_time_ms": 10813.779, "num_steps_sampled": 3115669, "num_steps_trained": 3115669, "grad_time_ms": 10037.87, "default": {"total_loss": 21.288454055786133, "entropy": 1.157651662826538, "vf_explained_var": 0.8560758233070374, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 21.29392433166504, "policy_loss": -0.008359011262655258, "kl": 0.01712207682430744}, "update_time_ms": 7.418, "load_time_ms": 17.542}, "done": false, "iterations_since_restore": 77, "episode_reward_min": 47.62500047778389, "episode_reward_max": 1273.1142041112644, "training_iteration": 77, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-43-13", "timestamp": 1557114193, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 8.266074711225155, "cost2_max": 0.0, "cost1_mean": 311.5581444511313, "system_level_velocity_mean": 12.47060595202533, "cost1_min": 16.462053721940258, "outflow_rate_min": 478.9342030958992, "system_level_velocity_max": 18.81955231207687, "cost2_min": -1.4937366511310393, "cost1_max": 456.94127038416565, "outflow_rate_mean": 1036.384483749144, "cost2_mean": -0.09555322751467424, "outflow_rate_max": 1264.8345870861542}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc7f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc588>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dccf8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 680.08, "time_this_iter_s": 20.139390230178833, "node_ip": "10.138.0.2", "episodes_total": 1278, "time_since_restore": 1668.442262172699, "episode_reward_mean": 953.8616501093078, "timesteps_total": 3154343, "timesteps_since_restore": 3154343, "timesteps_this_iter": 38674, "hostname": "flow-main", "pid": 24598, "time_total_s": 1668.442262172699, "info": {"sample_time_ms": 10714.282, "num_steps_sampled": 3154343, "num_steps_trained": 3154343, "grad_time_ms": 10036.443, "default": {"total_loss": 18.36930274963379, "entropy": 1.1369680166244507, "vf_explained_var": 0.8807345032691956, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 18.374202728271484, "policy_loss": -0.007328556850552559, "kl": 0.014396862126886845}, "update_time_ms": 7.47, "load_time_ms": 17.735}, "done": false, "iterations_since_restore": 78, "episode_reward_min": 47.62500047778389, "episode_reward_max": 1273.1142041112644, "training_iteration": 78, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-43-33", "timestamp": 1557114213, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 8.266074711225155, "cost2_max": 0.0, "cost1_mean": 313.1816794911222, "system_level_velocity_mean": 12.528899615513456, "cost1_min": 16.462053721940258, "outflow_rate_min": 478.9342030958992, "system_level_velocity_max": 18.81955231207687, "cost2_min": -1.4937366511310393, "cost1_max": 456.94127038416565, "outflow_rate_mean": 1039.321494641696, "cost2_mean": -0.09117996033490611, "outflow_rate_max": 1264.8345870861542}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1550>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.72, "time_this_iter_s": 21.260714292526245, "node_ip": "10.138.0.2", "episodes_total": 1296, "time_since_restore": 1689.7029764652252, "episode_reward_mean": 958.6713279836189, "timesteps_total": 3193802, "timesteps_since_restore": 3193802, "timesteps_this_iter": 39459, "hostname": "flow-main", "pid": 24598, "time_total_s": 1689.7029764652252, "info": {"sample_time_ms": 10792.833, "num_steps_sampled": 3193802, "num_steps_trained": 3193802, "grad_time_ms": 10063.273, "default": {"total_loss": 19.285669326782227, "entropy": 1.1367884874343872, "vf_explained_var": 0.8787206411361694, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 19.290159225463867, "policy_loss": -0.006937395315617323, "kl": 0.014503458514809608}, "update_time_ms": 7.341, "load_time_ms": 18.041}, "done": false, "iterations_since_restore": 79, "episode_reward_min": 47.62500047778389, "episode_reward_max": 1273.1142041112644, "training_iteration": 79, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-43-54", "timestamp": 1557114234, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.069431012634658, "cost2_max": 0.0, "cost1_mean": 317.87301966099835, "system_level_velocity_mean": 12.531110312114421, "cost1_min": 16.462053721940258, "outflow_rate_min": 478.9342030958992, "system_level_velocity_max": 18.81955231207687, "cost2_min": -1.4937366511310393, "cost1_max": 456.94127038416565, "outflow_rate_mean": 1045.1352823773527, "cost2_mean": -0.0828552431733533, "outflow_rate_max": 1264.8345870861542}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8be0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8160>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 680.19, "time_this_iter_s": 21.702375173568726, "node_ip": "10.138.0.2", "episodes_total": 1314, "time_since_restore": 1711.405351638794, "episode_reward_mean": 944.9964750297269, "timesteps_total": 3233694, "timesteps_since_restore": 3233694, "timesteps_this_iter": 39892, "hostname": "flow-main", "pid": 24598, "time_total_s": 1711.405351638794, "info": {"sample_time_ms": 10912.915, "num_steps_sampled": 3233694, "num_steps_trained": 3233694, "grad_time_ms": 10071.329, "default": {"total_loss": 22.41147804260254, "entropy": 1.1420027017593384, "vf_explained_var": 0.8550707697868347, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 22.4158935546875, "policy_loss": -0.0066317482851445675, "kl": 0.013143160380423069}, "update_time_ms": 7.315, "load_time_ms": 17.242}, "done": false, "iterations_since_restore": 80, "episode_reward_min": 47.62500047778389, "episode_reward_max": 1273.1142041112644, "training_iteration": 80, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-44-16", "timestamp": 1557114256, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.764700923361483, "cost2_max": 0.0, "cost1_mean": 314.4623188962474, "system_level_velocity_mean": 12.570484767927177, "cost1_min": 16.462053721940258, "outflow_rate_min": 478.9342030958992, "system_level_velocity_max": 18.867453442341073, "cost2_min": -1.4937366511310393, "cost1_max": 456.94127038416565, "outflow_rate_mean": 1038.4747870225797, "cost2_mean": -0.07537347079947039, "outflow_rate_max": 1264.8345870861542}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc8d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dca20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcf28>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 680.19, "time_this_iter_s": 21.288689136505127, "node_ip": "10.138.0.2", "episodes_total": 1333, "time_since_restore": 1732.694040775299, "episode_reward_mean": 936.0494649340554, "timesteps_total": 3272602, "timesteps_since_restore": 3272602, "timesteps_this_iter": 38908, "hostname": "flow-main", "pid": 24598, "time_total_s": 1732.694040775299, "info": {"sample_time_ms": 10948.59, "num_steps_sampled": 3272602, "num_steps_trained": 3272602, "grad_time_ms": 10043.617, "default": {"total_loss": 21.454923629760742, "entropy": 1.150750756263733, "vf_explained_var": 0.8673123121261597, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 21.461088180541992, "policy_loss": -0.008631170727312565, "kl": 0.014618974179029465}, "update_time_ms": 7.054, "load_time_ms": 17.428}, "done": false, "iterations_since_restore": 81, "episode_reward_min": 47.62500047778389, "episode_reward_max": 1148.2701877943446, "training_iteration": 81, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-44-37", "timestamp": 1557114277, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.754948557496139, "cost2_max": 0.0, "cost1_mean": 311.2250014236464, "system_level_velocity_mean": 12.443822665475757, "cost1_min": 16.462053721940258, "outflow_rate_min": 478.9342030958992, "system_level_velocity_max": 18.867453442341073, "cost2_min": -1.4937366511310393, "cost1_max": 452.3062527100937, "outflow_rate_mean": 1029.3199021237174, "cost2_mean": -0.07694449894389208, "outflow_rate_max": 1259.4708414707957}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e19b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e12e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.72, "time_this_iter_s": 20.69859528541565, "node_ip": "10.138.0.2", "episodes_total": 1352, "time_since_restore": 1753.3926360607147, "episode_reward_mean": 937.8617072039497, "timesteps_total": 3310984, "timesteps_since_restore": 3310984, "timesteps_this_iter": 38382, "hostname": "flow-main", "pid": 24598, "time_total_s": 1753.3926360607147, "info": {"sample_time_ms": 10982.689, "num_steps_sampled": 3310984, "num_steps_trained": 3310984, "grad_time_ms": 9881.698, "default": {"total_loss": 26.655881881713867, "entropy": 1.1461836099624634, "vf_explained_var": 0.8315303921699524, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 26.66204261779785, "policy_loss": -0.0088581508025527, "kl": 0.015978531911969185}, "update_time_ms": 6.987, "load_time_ms": 17.638}, "done": false, "iterations_since_restore": 82, "episode_reward_min": 47.62500047778389, "episode_reward_max": 1163.0784921766426, "training_iteration": 82, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-44-58", "timestamp": 1557114298, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.123733716423695, "cost2_max": 0.0, "cost1_mean": 311.4468602712093, "system_level_velocity_mean": 12.286807727603623, "cost1_min": 16.462053721940258, "outflow_rate_min": 478.9342030958992, "system_level_velocity_max": 18.867453442341073, "cost2_min": -1.4937366511310393, "cost1_max": 406.48044227641304, "outflow_rate_mean": 1025.246671918202, "cost2_mean": -0.07716794319879366, "outflow_rate_max": 1232.083059460496}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8e80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8978>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.47, "time_this_iter_s": 20.093886375427246, "node_ip": "10.138.0.2", "episodes_total": 1369, "time_since_restore": 1773.486522436142, "episode_reward_mean": 946.2040289474576, "timesteps_total": 3349952, "timesteps_since_restore": 3349952, "timesteps_this_iter": 38968, "hostname": "flow-main", "pid": 24598, "time_total_s": 1773.486522436142, "info": {"sample_time_ms": 10999.493, "num_steps_sampled": 3349952, "num_steps_trained": 3349952, "grad_time_ms": 9847.724, "default": {"total_loss": 21.883447647094727, "entropy": 1.150723934173584, "vf_explained_var": 0.8571323752403259, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 21.8886661529541, "policy_loss": -0.007764309644699097, "kl": 0.015079465694725513}, "update_time_ms": 6.932, "load_time_ms": 17.099}, "done": false, "iterations_since_restore": 83, "episode_reward_min": 73.91382195627338, "episode_reward_max": 1163.0784921766426, "training_iteration": 83, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-45-18", "timestamp": 1557114318, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.123733716423695, "cost2_max": 0.0, "cost1_mean": 316.3849446052155, "system_level_velocity_mean": 12.30437313926151, "cost1_min": 31.502390283378347, "outflow_rate_min": 529.3977226474415, "system_level_velocity_max": 18.867453442341073, "cost2_min": -0.5576637597755832, "cost1_max": 402.218529033835, "outflow_rate_mean": 1031.2712923703614, "cost2_mean": -0.058706628238573935, "outflow_rate_max": 1199.980949667529}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce80>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.47, "time_this_iter_s": 21.29596710205078, "node_ip": "10.138.0.2", "episodes_total": 1381, "time_since_restore": 1794.7824895381927, "episode_reward_mean": 951.0349613999206, "timesteps_total": 3389231, "timesteps_since_restore": 3389231, "timesteps_this_iter": 39279, "hostname": "flow-main", "pid": 24598, "time_total_s": 1794.7824895381927, "info": {"sample_time_ms": 11061.916, "num_steps_sampled": 3389231, "num_steps_trained": 3389231, "grad_time_ms": 9865.267, "default": {"total_loss": 16.83597183227539, "entropy": 1.1526219844818115, "vf_explained_var": 0.8876486420631409, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 16.84110450744629, "policy_loss": -0.007762865163385868, "kl": 0.015578564256429672}, "update_time_ms": 6.786, "load_time_ms": 17.231}, "done": false, "iterations_since_restore": 84, "episode_reward_min": 73.91382195627338, "episode_reward_max": 1163.0784921766426, "training_iteration": 84, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-45-40", "timestamp": 1557114340, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 12, "custom_metrics": {"system_level_velocity_min": 9.123733716423695, "cost2_max": 0.0, "cost1_mean": 319.2922337502116, "system_level_velocity_mean": 12.412156770795713, "cost1_min": 31.502390283378347, "outflow_rate_min": 529.3977226474415, "system_level_velocity_max": 18.867453442341073, "cost2_min": -0.8346901270776707, "cost1_max": 409.39893046055977, "outflow_rate_mean": 1035.271966764494, "cost2_mean": -0.07403807031181027, "outflow_rate_max": 1210.1113719694254}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e19b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e17b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e12e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.24834632873535, "node_ip": "10.138.0.2", "episodes_total": 1400, "time_since_restore": 1816.030835866928, "episode_reward_mean": 965.1491455527539, "timesteps_total": 3427897, "timesteps_since_restore": 3427897, "timesteps_this_iter": 38666, "hostname": "flow-main", "pid": 24598, "time_total_s": 1816.030835866928, "info": {"sample_time_ms": 10998.78, "num_steps_sampled": 3427897, "num_steps_trained": 3427897, "grad_time_ms": 9829.57, "default": {"total_loss": 25.66245460510254, "entropy": 1.140570878982544, "vf_explained_var": 0.8553956747055054, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 25.667593002319336, "policy_loss": -0.007718673441559076, "kl": 0.015281068161129951}, "update_time_ms": 6.88, "load_time_ms": 17.884}, "done": false, "iterations_since_restore": 85, "episode_reward_min": 797.1873567427183, "episode_reward_max": 1163.0784921766426, "training_iteration": 85, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-46-01", "timestamp": 1557114361, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.123733716423695, "cost2_max": 0.0, "cost1_mean": 322.5962599516704, "system_level_velocity_mean": 12.359443473077755, "cost1_min": 233.9471982699003, "outflow_rate_min": 854.7759851369694, "system_level_velocity_max": 17.14742590891807, "cost2_min": -0.8346901270776707, "cost1_max": 451.03164617477086, "outflow_rate_mean": 1042.6281771102208, "cost2_mean": -0.07820376256324392, "outflow_rate_max": 1279.344293003269}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8160>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1cc0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.215821743011475, "node_ip": "10.138.0.2", "episodes_total": 1420, "time_since_restore": 1838.2466576099396, "episode_reward_mean": 965.2602190726496, "timesteps_total": 3466564, "timesteps_since_restore": 3466564, "timesteps_this_iter": 38667, "hostname": "flow-main", "pid": 24598, "time_total_s": 1838.2466576099396, "info": {"sample_time_ms": 11229.919, "num_steps_sampled": 3466564, "num_steps_trained": 3466564, "grad_time_ms": 9819.884, "default": {"total_loss": 27.06654167175293, "entropy": 1.1199545860290527, "vf_explained_var": 0.8370431661605835, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 27.072982788085938, "policy_loss": -0.009464173577725887, "kl": 0.017920898273587227}, "update_time_ms": 6.89, "load_time_ms": 16.507}, "done": false, "iterations_since_restore": 86, "episode_reward_min": 797.1873567427183, "episode_reward_max": 1163.0784921766426, "training_iteration": 86, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-46-23", "timestamp": 1557114383, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "custom_metrics": {"system_level_velocity_min": 9.123733716423695, "cost2_max": 0.0, "cost1_mean": 325.1760285619697, "system_level_velocity_mean": 12.4735165280526, "cost1_min": 233.9471982699003, "outflow_rate_min": 854.7759851369694, "system_level_velocity_max": 17.640424007897508, "cost2_min": -0.8346901270776707, "cost1_max": 462.0208122303782, "outflow_rate_mean": 1043.962979574358, "cost2_mean": -0.07542016697719899, "outflow_rate_max": 1284.1853794824444}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff97687dd30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c99e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 19.78141188621521, "node_ip": "10.138.0.2", "episodes_total": 1435, "time_since_restore": 1858.0280694961548, "episode_reward_mean": 970.5459087697619, "timesteps_total": 3505308, "timesteps_since_restore": 3505308, "timesteps_this_iter": 38744, "hostname": "flow-main", "pid": 24598, "time_total_s": 1858.0280694961548, "info": {"sample_time_ms": 11076.187, "num_steps_sampled": 3505308, "num_steps_trained": 3505308, "grad_time_ms": 9802.783, "default": {"total_loss": 18.238025665283203, "entropy": 1.1704131364822388, "vf_explained_var": 0.870029091835022, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 18.245203018188477, "policy_loss": -0.009777710773050785, "kl": 0.015417173504829407}, "update_time_ms": 6.894, "load_time_ms": 14.732}, "done": false, "iterations_since_restore": 87, "episode_reward_min": 797.1873567427183, "episode_reward_max": 1163.0784921766426, "training_iteration": 87, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-46-43", "timestamp": 1557114403, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.123733716423695, "cost2_max": 0.0, "cost1_mean": 328.23151801587125, "system_level_velocity_mean": 12.588501494114182, "cost1_min": 233.9471982699003, "outflow_rate_min": 854.7759851369694, "system_level_velocity_max": 17.640424007897508, "cost2_min": -0.8346901270776707, "cost1_max": 462.0208122303782, "outflow_rate_mean": 1049.0058958137845, "cost2_mean": -0.0820567292550276, "outflow_rate_max": 1284.1853794824444}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e17b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1898>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.55198884010315, "node_ip": "10.138.0.2", "episodes_total": 1453, "time_since_restore": 1878.580058336258, "episode_reward_mean": 973.3426270715581, "timesteps_total": 3542973, "timesteps_since_restore": 3542973, "timesteps_this_iter": 37665, "hostname": "flow-main", "pid": 24598, "time_total_s": 1878.580058336258, "info": {"sample_time_ms": 11163.213, "num_steps_sampled": 3542973, "num_steps_trained": 3542973, "grad_time_ms": 9756.6, "default": {"total_loss": 24.046422958374023, "entropy": 1.1694966554641724, "vf_explained_var": 0.8500829339027405, "cur_kl_coeff": 0.16875000298023224, "cur_lr": 0.0005000000237487257, "vf_loss": 24.051725387573242, "policy_loss": -0.007806995417922735, "kl": 0.014838043600320816}, "update_time_ms": 6.817, "load_time_ms": 15.031}, "done": false, "iterations_since_restore": 88, "episode_reward_min": 796.1353859332726, "episode_reward_max": 1225.1453012463935, "training_iteration": 88, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-47-03", "timestamp": 1557114423, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.626739890667201, "cost2_max": 0.0, "cost1_mean": 330.19415817279366, "system_level_velocity_mean": 12.657861441116188, "cost1_min": 248.56167721056352, "outflow_rate_min": 909.9249624332731, "system_level_velocity_max": 17.640424007897508, "cost2_min": -0.8346901270776707, "cost1_max": 462.0208122303782, "outflow_rate_mean": 1051.111922943467, "cost2_mean": -0.07822949129090735, "outflow_rate_max": 1284.1853794824444}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1c18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.588176250457764, "node_ip": "10.138.0.2", "episodes_total": 1473, "time_since_restore": 1900.1682345867157, "episode_reward_mean": 970.2647987563457, "timesteps_total": 3581494, "timesteps_since_restore": 3581494, "timesteps_this_iter": 38521, "hostname": "flow-main", "pid": 24598, "time_total_s": 1900.1682345867157, "info": {"sample_time_ms": 11259.953, "num_steps_sampled": 3581494, "num_steps_trained": 3581494, "grad_time_ms": 9692.599, "default": {"total_loss": 24.498119354248047, "entropy": 1.1625895500183105, "vf_explained_var": 0.8544019460678101, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "vf_loss": 24.503650665283203, "policy_loss": -0.008452337235212326, "kl": 0.017303181812167168}, "update_time_ms": 6.672, "load_time_ms": 14.695}, "done": false, "iterations_since_restore": 89, "episode_reward_min": 796.1353859332726, "episode_reward_max": 1225.1453012463935, "training_iteration": 89, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-47-25", "timestamp": 1557114445, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "custom_metrics": {"system_level_velocity_min": 9.626739890667201, "cost2_max": 0.0, "cost1_mean": 331.5871588706401, "system_level_velocity_mean": 12.709722339358644, "cost1_min": 248.56167721056352, "outflow_rate_min": 884.6723412298246, "system_level_velocity_max": 17.640424007897508, "cost2_min": -0.9489183214357151, "cost1_max": 462.0208122303782, "outflow_rate_mean": 1049.3992889795866, "cost2_mean": -0.07121007842386305, "outflow_rate_max": 1284.1853794824444}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9860>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9048>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.308595418930054, "node_ip": "10.138.0.2", "episodes_total": 1490, "time_since_restore": 1921.4768300056458, "episode_reward_mean": 969.7020010306203, "timesteps_total": 3621198, "timesteps_since_restore": 3621198, "timesteps_this_iter": 39704, "hostname": "flow-main", "pid": 24598, "time_total_s": 1921.4768300056458, "info": {"sample_time_ms": 11183.637, "num_steps_sampled": 3621198, "num_steps_trained": 3621198, "grad_time_ms": 9729.778, "default": {"total_loss": 20.9875431060791, "entropy": 1.1891794204711914, "vf_explained_var": 0.8580595850944519, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 20.99326515197754, "policy_loss": -0.008536688052117825, "kl": 0.01667434722185135}, "update_time_ms": 6.589, "load_time_ms": 14.981}, "done": false, "iterations_since_restore": 90, "episode_reward_min": 796.1353859332726, "episode_reward_max": 1230.4284987004387, "training_iteration": 90, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-47-46", "timestamp": 1557114466, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.958615842463576, "cost2_max": 0.0, "cost1_mean": 332.74939246480136, "system_level_velocity_mean": 12.753970276932261, "cost1_min": 253.646051087594, "outflow_rate_min": 884.6723412298246, "system_level_velocity_max": 17.640424007897508, "cost2_min": -0.9489183214357151, "cost1_max": 462.0208122303782, "outflow_rate_mean": 1048.5568742121127, "cost2_mean": -0.04902132243371721, "outflow_rate_max": 1284.1853794824444}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e19b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1dd8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.74471664428711, "node_ip": "10.138.0.2", "episodes_total": 1502, "time_since_restore": 1943.2215466499329, "episode_reward_mean": 966.6034911260768, "timesteps_total": 3661090, "timesteps_since_restore": 3661090, "timesteps_this_iter": 39892, "hostname": "flow-main", "pid": 24598, "time_total_s": 1943.2215466499329, "info": {"sample_time_ms": 11205.198, "num_steps_sampled": 3661090, "num_steps_trained": 3661090, "grad_time_ms": 9753.41, "default": {"total_loss": 16.318058013916016, "entropy": 1.1966522932052612, "vf_explained_var": 0.8828492164611816, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 16.323862075805664, "policy_loss": -0.008421358652412891, "kl": 0.015510656870901585}, "update_time_ms": 6.648, "load_time_ms": 14.502}, "done": false, "iterations_since_restore": 91, "episode_reward_min": 782.7362368223233, "episode_reward_max": 1230.4284987004387, "training_iteration": 91, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-48-08", "timestamp": 1557114488, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 12, "custom_metrics": {"system_level_velocity_min": 9.419650625127721, "cost2_max": 0.0, "cost1_mean": 330.41023911320787, "system_level_velocity_mean": 12.66773718965203, "cost1_min": 239.29544773456917, "outflow_rate_min": 880.0963640309812, "system_level_velocity_max": 17.640424007897508, "cost2_min": -0.9489183214357151, "cost1_max": 462.0208122303782, "outflow_rate_mean": 1041.784213225055, "cost2_mean": -0.05032342559566545, "outflow_rate_max": 1284.1853794824444}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1c18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.036503553390503, "node_ip": "10.138.0.2", "episodes_total": 1521, "time_since_restore": 1963.2580502033234, "episode_reward_mean": 960.2818795823885, "timesteps_total": 3699595, "timesteps_since_restore": 3699595, "timesteps_this_iter": 38505, "hostname": "flow-main", "pid": 24598, "time_total_s": 1963.2580502033234, "info": {"sample_time_ms": 11124.477, "num_steps_sampled": 3699595, "num_steps_trained": 3699595, "grad_time_ms": 9766.072, "default": {"total_loss": 23.457256317138672, "entropy": 1.1919505596160889, "vf_explained_var": 0.8468469381332397, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "vf_loss": 23.46221923828125, "policy_loss": -0.007638782728463411, "kl": 0.015859413892030716}, "update_time_ms": 6.747, "load_time_ms": 14.983}, "done": false, "iterations_since_restore": 92, "episode_reward_min": 782.7362368223233, "episode_reward_max": 1230.4284987004387, "training_iteration": 92, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-48-28", "timestamp": 1557114508, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.419650625127721, "cost2_max": 0.0, "cost1_mean": 326.0564372833033, "system_level_velocity_mean": 12.498681919290844, "cost1_min": 239.29544773456917, "outflow_rate_min": 865.9483926695805, "system_level_velocity_max": 17.51478058344027, "cost2_min": -0.9489183214357151, "cost1_max": 461.2326835767419, "outflow_rate_mean": 1034.5046241897758, "cost2_mean": -0.05360819354732731, "outflow_rate_max": 1258.2657000306672}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1eb8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1f98>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.029510974884033, "node_ip": "10.138.0.2", "episodes_total": 1539, "time_since_restore": 1983.2875611782074, "episode_reward_mean": 960.6858319462403, "timesteps_total": 3738652, "timesteps_since_restore": 3738652, "timesteps_this_iter": 39057, "hostname": "flow-main", "pid": 24598, "time_total_s": 1983.2875611782074, "info": {"sample_time_ms": 11112.458, "num_steps_sampled": 3738652, "num_steps_trained": 3738652, "grad_time_ms": 9770.407, "default": {"total_loss": 21.771114349365234, "entropy": 1.2053580284118652, "vf_explained_var": 0.8527011275291443, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 21.777097702026367, "policy_loss": -0.008847829885780811, "kl": 0.016979051753878593}, "update_time_ms": 6.805, "load_time_ms": 15.661}, "done": false, "iterations_since_restore": 93, "episode_reward_min": 782.7362368223233, "episode_reward_max": 1230.4284987004387, "training_iteration": 93, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-48-48", "timestamp": 1557114528, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.419650625127721, "cost2_max": 0.0, "cost1_mean": 326.539093628629, "system_level_velocity_mean": 12.507889305677349, "cost1_min": 239.29544773456917, "outflow_rate_min": 865.9483926695805, "system_level_velocity_max": 17.51478058344027, "cost2_min": -1.0354216714958262, "cost1_max": 461.2326835767419, "outflow_rate_mean": 1037.0603788738058, "cost2_mean": -0.05252180232804955, "outflow_rate_max": 1258.2657000306672}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1518>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e19b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.49, "time_this_iter_s": 21.146302223205566, "node_ip": "10.138.0.2", "episodes_total": 1558, "time_since_restore": 2004.433863401413, "episode_reward_mean": 954.14697352039, "timesteps_total": 3776693, "timesteps_since_restore": 3776693, "timesteps_this_iter": 38041, "hostname": "flow-main", "pid": 24598, "time_total_s": 2004.433863401413, "info": {"sample_time_ms": 11128.034, "num_steps_sampled": 3776693, "num_steps_trained": 3776693, "grad_time_ms": 9739.224, "default": {"total_loss": 28.202404022216797, "entropy": 1.2035661935806274, "vf_explained_var": 0.799169659614563, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 28.206708908081055, "policy_loss": -0.006708277389407158, "kl": 0.014255838468670845}, "update_time_ms": 6.906, "load_time_ms": 15.311}, "done": false, "iterations_since_restore": 94, "episode_reward_min": 74.71264941144159, "episode_reward_max": 1230.4284987004387, "training_iteration": 94, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-49-09", "timestamp": 1557114549, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.419650625127721, "cost2_max": 0.0, "cost1_mean": 321.73081001496774, "system_level_velocity_mean": 12.502431298657697, "cost1_min": 32.66058445206295, "outflow_rate_min": 534.2718699778158, "system_level_velocity_max": 18.557111913684217, "cost2_min": -1.0354216714958262, "cost1_max": 461.2326835767419, "outflow_rate_mean": 1030.7109126434998, "cost2_mean": -0.05682978721761729, "outflow_rate_max": 1256.5729388169227}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1cc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1ba8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.49, "time_this_iter_s": 19.897847652435303, "node_ip": "10.138.0.2", "episodes_total": 1576, "time_since_restore": 2024.3317110538483, "episode_reward_mean": 953.3200716797572, "timesteps_total": 3814546, "timesteps_since_restore": 3814546, "timesteps_this_iter": 37853, "hostname": "flow-main", "pid": 24598, "time_total_s": 2024.3317110538483, "info": {"sample_time_ms": 11058.033, "num_steps_sampled": 3814546, "num_steps_trained": 3814546, "grad_time_ms": 9674.869, "default": {"total_loss": 23.777820587158203, "entropy": 1.219722032546997, "vf_explained_var": 0.8263757824897766, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 23.78237533569336, "policy_loss": -0.007209497503936291, "kl": 0.015728775411844254}, "update_time_ms": 6.788, "load_time_ms": 14.853}, "done": false, "iterations_since_restore": 95, "episode_reward_min": 74.71264941144159, "episode_reward_max": 1230.4284987004387, "training_iteration": 95, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-49-29", "timestamp": 1557114569, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.419650625127721, "cost2_max": 0.0, "cost1_mean": 321.5876554764196, "system_level_velocity_mean": 12.488208310717317, "cost1_min": 32.66058445206295, "outflow_rate_min": 534.2718699778158, "system_level_velocity_max": 18.557111913684217, "cost2_min": -1.0354216714958262, "cost1_max": 461.2326835767419, "outflow_rate_mean": 1033.1189713816163, "cost2_mean": -0.050040915454540154, "outflow_rate_max": 1256.5729388169227}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e16d8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.49, "time_this_iter_s": 20.413825511932373, "node_ip": "10.138.0.2", "episodes_total": 1593, "time_since_restore": 2044.7455365657806, "episode_reward_mean": 959.3066715654277, "timesteps_total": 3853004, "timesteps_since_restore": 3853004, "timesteps_this_iter": 38458, "hostname": "flow-main", "pid": 24598, "time_total_s": 2044.7455365657806, "info": {"sample_time_ms": 10863.212, "num_steps_sampled": 3853004, "num_steps_trained": 3853004, "grad_time_ms": 9688.884, "default": {"total_loss": 22.33354377746582, "entropy": 1.212518334388733, "vf_explained_var": 0.8341788053512573, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "vf_loss": 22.339313507080078, "policy_loss": -0.008433215320110321, "kl": 0.01577918604016304}, "update_time_ms": 6.735, "load_time_ms": 15.481}, "done": false, "iterations_since_restore": 96, "episode_reward_min": 74.71264941144159, "episode_reward_max": 1214.2972442007022, "training_iteration": 96, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-49-50", "timestamp": 1557114590, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.419650625127721, "cost2_max": 0.0, "cost1_mean": 322.87070396877886, "system_level_velocity_mean": 12.508605368026906, "cost1_min": 32.66058445206295, "outflow_rate_min": 534.2718699778158, "system_level_velocity_max": 18.557111913684217, "cost2_min": -1.0354216714958262, "cost1_max": 424.27502415217737, "outflow_rate_mean": 1036.1392843291128, "cost2_mean": -0.049316825659405206, "outflow_rate_max": 1256.5729388169227}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768324e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.49, "time_this_iter_s": 20.137656211853027, "node_ip": "10.138.0.2", "episodes_total": 1611, "time_since_restore": 2064.8831927776337, "episode_reward_mean": 963.1361540922085, "timesteps_total": 3891135, "timesteps_since_restore": 3891135, "timesteps_this_iter": 38131, "hostname": "flow-main", "pid": 24598, "time_total_s": 2064.8831927776337, "info": {"sample_time_ms": 10904.163, "num_steps_sampled": 3891135, "num_steps_trained": 3891135, "grad_time_ms": 9682.762, "default": {"total_loss": 26.097990036010742, "entropy": 1.2129625082015991, "vf_explained_var": 0.7953932285308838, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 26.103261947631836, "policy_loss": -0.008252358995378017, "kl": 0.01766636036336422}, "update_time_ms": 6.698, "load_time_ms": 16.083}, "done": false, "iterations_since_restore": 97, "episode_reward_min": 74.71264941144159, "episode_reward_max": 1214.2972442007022, "training_iteration": 97, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-50-10", "timestamp": 1557114610, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 8.966001411969994, "cost2_max": 0.0, "cost1_mean": 325.28478335769387, "system_level_velocity_mean": 12.578712037301779, "cost1_min": 32.66058445206295, "outflow_rate_min": 534.2718699778158, "system_level_velocity_max": 18.557111913684217, "cost2_min": -1.0354216714958262, "cost1_max": 424.27502415217737, "outflow_rate_mean": 1038.4870871858102, "cost2_mean": -0.04111293269909437, "outflow_rate_max": 1256.5729388169227}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff97687dd30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1a90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1358>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.49, "time_this_iter_s": 21.788476943969727, "node_ip": "10.138.0.2", "episodes_total": 1624, "time_since_restore": 2086.6716697216034, "episode_reward_mean": 966.3546108206009, "timesteps_total": 3930459, "timesteps_since_restore": 3930459, "timesteps_this_iter": 39324, "hostname": "flow-main", "pid": 24598, "time_total_s": 2086.6716697216034, "info": {"sample_time_ms": 10965.588, "num_steps_sampled": 3930459, "num_steps_trained": 3930459, "grad_time_ms": 9744.354, "default": {"total_loss": 16.826879501342773, "entropy": 1.2148362398147583, "vf_explained_var": 0.8853859305381775, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "vf_loss": 16.8314208984375, "policy_loss": -0.007178828585892916, "kl": 0.015646984800696373}, "update_time_ms": 6.812, "load_time_ms": 16.514}, "done": false, "iterations_since_restore": 98, "episode_reward_min": 74.71264941144159, "episode_reward_max": 1214.2972442007022, "training_iteration": 98, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-50-32", "timestamp": 1557114632, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 13, "custom_metrics": {"system_level_velocity_min": 8.966001411969994, "cost2_max": 0.0, "cost1_mean": 329.7433955117864, "system_level_velocity_mean": 12.737798196231626, "cost1_min": 32.66058445206295, "outflow_rate_min": 534.2718699778158, "system_level_velocity_max": 18.557111913684217, "cost2_min": -1.0354216714958262, "cost1_max": 424.27502415217737, "outflow_rate_mean": 1047.4544795335344, "cost2_mean": -0.04948286326122996, "outflow_rate_max": 1256.5729388169227}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768324e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c92b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.49, "time_this_iter_s": 20.76728916168213, "node_ip": "10.138.0.2", "episodes_total": 1643, "time_since_restore": 2107.4389588832855, "episode_reward_mean": 966.0489523743094, "timesteps_total": 3970379, "timesteps_since_restore": 3970379, "timesteps_this_iter": 39920, "hostname": "flow-main", "pid": 24598, "time_total_s": 2107.4389588832855, "info": {"sample_time_ms": 10853.598, "num_steps_sampled": 3970379, "num_steps_trained": 3970379, "grad_time_ms": 9774.527, "default": {"total_loss": 23.14261817932129, "entropy": 1.215466856956482, "vf_explained_var": 0.846813440322876, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 23.148584365844727, "policy_loss": -0.008937198668718338, "kl": 0.017625784501433372}, "update_time_ms": 6.865, "load_time_ms": 16.873}, "done": false, "iterations_since_restore": 99, "episode_reward_min": 74.71264941144159, "episode_reward_max": 1214.2972442007022, "training_iteration": 99, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-50-53", "timestamp": 1557114653, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 8.966001411969994, "cost2_max": 0.0, "cost1_mean": 328.9300125654829, "system_level_velocity_mean": 12.702270281337514, "cost1_min": 32.66058445206295, "outflow_rate_min": 534.2718699778158, "system_level_velocity_max": 18.557111913684217, "cost2_min": -0.5545014011503888, "cost1_max": 424.27502415217737, "outflow_rate_mean": 1043.5553407241055, "cost2_mean": -0.05844978988543521, "outflow_rate_max": 1232.15484794735}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1e10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1710>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.27, "time_this_iter_s": 21.63792371749878, "node_ip": "10.138.0.2", "episodes_total": 1662, "time_since_restore": 2129.0768826007843, "episode_reward_mean": 971.1770212002999, "timesteps_total": 4010217, "timesteps_since_restore": 4010217, "timesteps_this_iter": 39838, "hostname": "flow-main", "pid": 24598, "time_total_s": 2129.0768826007843, "info": {"sample_time_ms": 10931.742, "num_steps_sampled": 4010217, "num_steps_trained": 4010217, "grad_time_ms": 9728.839, "default": {"total_loss": 24.685115814208984, "entropy": 1.2053974866867065, "vf_explained_var": 0.8029047250747681, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 24.68946075439453, "policy_loss": -0.006884363479912281, "kl": 0.015048266388475895}, "update_time_ms": 6.867, "load_time_ms": 16.329}, "done": false, "iterations_since_restore": 100, "episode_reward_min": 43.240795190324896, "episode_reward_max": 1214.2972442007022, "training_iteration": 100, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-51-14", "timestamp": 1557114674, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 8.966001411969994, "cost2_max": 0.0, "cost1_mean": 328.35227745161586, "system_level_velocity_mean": 12.678635969112172, "cost1_min": 17.492651819828808, "outflow_rate_min": 483.934671032216, "system_level_velocity_max": 18.70304254755422, "cost2_min": -0.5545014011503888, "cost1_max": 424.27502415217737, "outflow_rate_mean": 1043.5723524266882, "cost2_mean": -0.06952562747000827, "outflow_rate_max": 1232.15484794735}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d83c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8f98>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.27, "time_this_iter_s": 20.475521087646484, "node_ip": "10.138.0.2", "episodes_total": 1679, "time_since_restore": 2149.552403688431, "episode_reward_mean": 962.4559216831678, "timesteps_total": 4048541, "timesteps_since_restore": 4048541, "timesteps_this_iter": 38324, "hostname": "flow-main", "pid": 24598, "time_total_s": 2149.552403688431, "info": {"sample_time_ms": 10840.173, "num_steps_sampled": 4048541, "num_steps_trained": 4048541, "grad_time_ms": 9693.481, "default": {"total_loss": 22.167848587036133, "entropy": 1.2012251615524292, "vf_explained_var": 0.8503780364990234, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 22.17389678955078, "policy_loss": -0.008743821643292904, "kl": 0.01597503386437893}, "update_time_ms": 6.94, "load_time_ms": 16.58}, "done": false, "iterations_since_restore": 101, "episode_reward_min": 43.240795190324896, "episode_reward_max": 1166.5406773388222, "training_iteration": 101, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-51-35", "timestamp": 1557114695, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 8.966001411969994, "cost2_max": 0.0, "cost1_mean": 322.6909391973045, "system_level_velocity_mean": 12.478043699244616, "cost1_min": 17.492651819828808, "outflow_rate_min": 483.934671032216, "system_level_velocity_max": 18.70304254755422, "cost2_min": -0.5545014011503888, "cost1_max": 417.4610694710799, "outflow_rate_mean": 1034.7689135046066, "cost2_mean": -0.07240424960319862, "outflow_rate_max": 1232.15484794735}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d84a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff97687dd30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.27, "time_this_iter_s": 21.268160104751587, "node_ip": "10.138.0.2", "episodes_total": 1697, "time_since_restore": 2170.8205637931824, "episode_reward_mean": 965.8462336020566, "timesteps_total": 4087457, "timesteps_since_restore": 4087457, "timesteps_this_iter": 38916, "hostname": "flow-main", "pid": 24598, "time_total_s": 2170.8205637931824, "info": {"sample_time_ms": 10955.425, "num_steps_sampled": 4087457, "num_steps_trained": 4087457, "grad_time_ms": 9702.157, "default": {"total_loss": 23.95016098022461, "entropy": 1.2084262371063232, "vf_explained_var": 0.8294604420661926, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 23.95607566833496, "policy_loss": -0.008554513566195965, "kl": 0.01564653031527996}, "update_time_ms": 6.917, "load_time_ms": 16.18}, "done": false, "iterations_since_restore": 102, "episode_reward_min": 43.240795190324896, "episode_reward_max": 1139.399407540246, "training_iteration": 102, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-51-56", "timestamp": 1557114716, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 8.966001411969994, "cost2_max": 0.0, "cost1_mean": 324.8189282652074, "system_level_velocity_mean": 12.568312656936598, "cost1_min": 17.492651819828808, "outflow_rate_min": 483.934671032216, "system_level_velocity_max": 18.70304254755422, "cost2_min": -1.146597494422552, "cost1_max": 417.4610694710799, "outflow_rate_mean": 1040.2775166758172, "cost2_mean": -0.08959592255443968, "outflow_rate_max": 1232.6696560089053}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1f60>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1dd8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.27, "time_this_iter_s": 20.34877634048462, "node_ip": "10.138.0.2", "episodes_total": 1712, "time_since_restore": 2191.169340133667, "episode_reward_mean": 959.5449418350424, "timesteps_total": 4126269, "timesteps_since_restore": 4126269, "timesteps_this_iter": 38812, "hostname": "flow-main", "pid": 24598, "time_total_s": 2191.169340133667, "info": {"sample_time_ms": 10982.15, "num_steps_sampled": 4126269, "num_steps_trained": 4126269, "grad_time_ms": 9707.732, "default": {"total_loss": 19.780275344848633, "entropy": 1.2011382579803467, "vf_explained_var": 0.8665024042129517, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 19.785537719726562, "policy_loss": -0.007853914052248001, "kl": 0.015366381034255028}, "update_time_ms": 6.857, "load_time_ms": 16.042}, "done": false, "iterations_since_restore": 103, "episode_reward_min": 43.240795190324896, "episode_reward_max": 1139.399407540246, "training_iteration": 103, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-52-16", "timestamp": 1557114736, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.96413518026194, "cost2_max": 0.0, "cost1_mean": 322.39310839178563, "system_level_velocity_mean": 12.489844917460953, "cost1_min": 17.492651819828808, "outflow_rate_min": 483.934671032216, "system_level_velocity_max": 18.70304254755422, "cost2_min": -1.146597494422552, "cost1_max": 417.4610694710799, "outflow_rate_mean": 1038.7389819669309, "cost2_mean": -0.09305919089082386, "outflow_rate_max": 1232.6696560089053}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4978>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4780>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.27, "time_this_iter_s": 20.887147426605225, "node_ip": "10.138.0.2", "episodes_total": 1729, "time_since_restore": 2212.056487560272, "episode_reward_mean": 968.461924443251, "timesteps_total": 4166551, "timesteps_since_restore": 4166551, "timesteps_this_iter": 40282, "hostname": "flow-main", "pid": 24598, "time_total_s": 2212.056487560272, "info": {"sample_time_ms": 10879.547, "num_steps_sampled": 4166551, "num_steps_trained": 4166551, "grad_time_ms": 9783.287, "default": {"total_loss": 20.320087432861328, "entropy": 1.2278932332992554, "vf_explained_var": 0.8721729516983032, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 20.323936462402344, "policy_loss": -0.00664808414876461, "kl": 0.016591627150774002}, "update_time_ms": 6.792, "load_time_ms": 16.89}, "done": false, "iterations_since_restore": 104, "episode_reward_min": 43.240795190324896, "episode_reward_max": 1175.3510805356232, "training_iteration": 104, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-52-37", "timestamp": 1557114757, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.972806689221978, "cost2_max": 0.0, "cost1_mean": 322.8195812150328, "system_level_velocity_mean": 12.507953255874874, "cost1_min": 17.492651819828808, "outflow_rate_min": 483.934671032216, "system_level_velocity_max": 18.70304254755422, "cost2_min": -1.146597494422552, "cost1_max": 424.72396835723896, "outflow_rate_mean": 1042.761364856226, "cost2_mean": -0.07763321256516355, "outflow_rate_max": 1250.2404803338325}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768324a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832d68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832b38>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.65, "time_this_iter_s": 22.43070888519287, "node_ip": "10.138.0.2", "episodes_total": 1746, "time_since_restore": 2234.487196445465, "episode_reward_mean": 960.9628961615962, "timesteps_total": 4206758, "timesteps_since_restore": 4206758, "timesteps_this_iter": 40207, "hostname": "flow-main", "pid": 24598, "time_total_s": 2234.487196445465, "info": {"sample_time_ms": 11058.154, "num_steps_sampled": 4206758, "num_steps_trained": 4206758, "grad_time_ms": 9856.781, "default": {"total_loss": 23.745866775512695, "entropy": 1.212198257446289, "vf_explained_var": 0.8648829460144043, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 23.751317977905273, "policy_loss": -0.00834733247756958, "kl": 0.017164800316095352}, "update_time_ms": 6.923, "load_time_ms": 16.745}, "done": false, "iterations_since_restore": 105, "episode_reward_min": 43.240795190324896, "episode_reward_max": 1175.3510805356232, "training_iteration": 105, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-53-00", "timestamp": 1557114780, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.972806689221978, "cost2_max": 0.0, "cost1_mean": 319.4143972924081, "system_level_velocity_mean": 12.54974811483242, "cost1_min": 17.492651819828808, "outflow_rate_min": 483.934671032216, "system_level_velocity_max": 18.70304254755422, "cost2_min": -1.146597494422552, "cost1_max": 424.72396835723896, "outflow_rate_mean": 1038.8146893301305, "cost2_mean": -0.06718126245866422, "outflow_rate_max": 1250.2404803338325}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e14a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1ef0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.38, "time_this_iter_s": 20.50872826576233, "node_ip": "10.138.0.2", "episodes_total": 1765, "time_since_restore": 2254.9959247112274, "episode_reward_mean": 973.8887696979255, "timesteps_total": 4245858, "timesteps_since_restore": 4245858, "timesteps_this_iter": 39100, "hostname": "flow-main", "pid": 24598, "time_total_s": 2254.9959247112274, "info": {"sample_time_ms": 11052.776, "num_steps_sampled": 4245858, "num_steps_trained": 4245858, "grad_time_ms": 9870.94, "default": {"total_loss": 25.19684410095215, "entropy": 1.2033088207244873, "vf_explained_var": 0.8520628809928894, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 25.203149795532227, "policy_loss": -0.009093381464481354, "kl": 0.01653420738875866}, "update_time_ms": 7.003, "load_time_ms": 16.975}, "done": false, "iterations_since_restore": 106, "episode_reward_min": 57.786866189027364, "episode_reward_max": 1237.3677559577618, "training_iteration": 106, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-53-20", "timestamp": 1557114800, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.972806689221978, "cost2_max": 0.0, "cost1_mean": 323.9793994554313, "system_level_velocity_mean": 12.54485826656938, "cost1_min": 25.213318240942847, "outflow_rate_min": 499.9761293165757, "system_level_velocity_max": 18.6821799171953, "cost2_min": -1.146597494422552, "cost1_max": 424.72396835723896, "outflow_rate_mean": 1048.8904018454953, "cost2_mean": -0.06542407549493279, "outflow_rate_max": 1250.2404803338325}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dca90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcc88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc4e0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.38, "time_this_iter_s": 20.940633296966553, "node_ip": "10.138.0.2", "episodes_total": 1783, "time_since_restore": 2275.936558008194, "episode_reward_mean": 977.7343731071561, "timesteps_total": 4284157, "timesteps_since_restore": 4284157, "timesteps_this_iter": 38299, "hostname": "flow-main", "pid": 24598, "time_total_s": 2275.936558008194, "info": {"sample_time_ms": 11156.568, "num_steps_sampled": 4284157, "num_steps_trained": 4284157, "grad_time_ms": 9847.827, "default": {"total_loss": 22.453174591064453, "entropy": 1.2305026054382324, "vf_explained_var": 0.8524155020713806, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 22.45749282836914, "policy_loss": -0.006618646439164877, "kl": 0.01362910307943821}, "update_time_ms": 7.09, "load_time_ms": 16.763}, "done": false, "iterations_since_restore": 107, "episode_reward_min": 57.786866189027364, "episode_reward_max": 1237.3677559577618, "training_iteration": 107, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-53-41", "timestamp": 1557114821, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 10.196059981080085, "cost2_max": 0.0, "cost1_mean": 327.89928859095437, "system_level_velocity_mean": 12.687605095652497, "cost1_min": 25.213318240942847, "outflow_rate_min": 499.9761293165757, "system_level_velocity_max": 18.6821799171953, "cost2_min": -1.146597494422552, "cost1_max": 424.72396835723896, "outflow_rate_mean": 1055.5201695840387, "cost2_mean": -0.06491776825433909, "outflow_rate_max": 1250.2404803338325}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8860>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8eb8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.38, "time_this_iter_s": 22.115964889526367, "node_ip": "10.138.0.2", "episodes_total": 1800, "time_since_restore": 2298.0525228977203, "episode_reward_mean": 972.7575890101466, "timesteps_total": 4321967, "timesteps_since_restore": 4321967, "timesteps_this_iter": 37810, "hostname": "flow-main", "pid": 24598, "time_total_s": 2298.0525228977203, "info": {"sample_time_ms": 11161.13, "num_steps_sampled": 4321967, "num_steps_trained": 4321967, "grad_time_ms": 9876.364, "default": {"total_loss": 22.114294052124023, "entropy": 1.2178122997283936, "vf_explained_var": 0.8738449811935425, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 22.12190818786621, "policy_loss": -0.010546599514782429, "kl": 0.017388924956321716}, "update_time_ms": 6.997, "load_time_ms": 16.183}, "done": false, "iterations_since_restore": 108, "episode_reward_min": 57.786866189027364, "episode_reward_max": 1237.3677559577618, "training_iteration": 108, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-54-03", "timestamp": 1557114843, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 10.196059981080085, "cost2_max": 0.0, "cost1_mean": 326.70423189248186, "system_level_velocity_mean": 12.64461532561382, "cost1_min": 25.213318240942847, "outflow_rate_min": 499.9761293165757, "system_level_velocity_max": 18.6821799171953, "cost2_min": -0.9230023397076101, "cost1_max": 439.5565243285184, "outflow_rate_mean": 1051.4257028075892, "cost2_mean": -0.0500563730447566, "outflow_rate_max": 1250.2404803338325}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1668>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.38, "time_this_iter_s": 19.582476377487183, "node_ip": "10.138.0.2", "episodes_total": 1819, "time_since_restore": 2317.6349992752075, "episode_reward_mean": 978.4938163381779, "timesteps_total": 4360113, "timesteps_since_restore": 4360113, "timesteps_this_iter": 38146, "hostname": "flow-main", "pid": 24598, "time_total_s": 2317.6349992752075, "info": {"sample_time_ms": 11218.205, "num_steps_sampled": 4360113, "num_steps_trained": 4360113, "grad_time_ms": 9700.933, "default": {"total_loss": 24.471527099609375, "entropy": 1.2267245054244995, "vf_explained_var": 0.8800950050354004, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 24.478477478027344, "policy_loss": -0.009800625033676624, "kl": 0.01689409650862217}, "update_time_ms": 7.063, "load_time_ms": 16.052}, "done": false, "iterations_since_restore": 109, "episode_reward_min": 57.786866189027364, "episode_reward_max": 1237.3677559577618, "training_iteration": 109, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-54-23", "timestamp": 1557114863, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 10.412819387817347, "cost2_max": 0.0, "cost1_mean": 333.09733404531437, "system_level_velocity_mean": 12.882648086086219, "cost1_min": 25.213318240942847, "outflow_rate_min": 499.9761293165757, "system_level_velocity_max": 18.6821799171953, "cost2_min": -0.9230023397076101, "cost1_max": 456.6062224808449, "outflow_rate_mean": 1060.4377973959358, "cost2_mean": -0.05630721679637595, "outflow_rate_max": 1250.2404803338325}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcb00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc550>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.38, "time_this_iter_s": 21.610800981521606, "node_ip": "10.138.0.2", "episodes_total": 1835, "time_since_restore": 2339.245800256729, "episode_reward_mean": 979.5352630927499, "timesteps_total": 4399361, "timesteps_since_restore": 4399361, "timesteps_this_iter": 39248, "hostname": "flow-main", "pid": 24598, "time_total_s": 2339.245800256729, "info": {"sample_time_ms": 11258.042, "num_steps_sampled": 4399361, "num_steps_trained": 4399361, "grad_time_ms": 9658.728, "default": {"total_loss": 24.118030548095703, "entropy": 1.2329273223876953, "vf_explained_var": 0.8695228099822998, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 24.123151779174805, "policy_loss": -0.0077352942898869514, "kl": 0.015480004251003265}, "update_time_ms": 7.05, "load_time_ms": 16.694}, "done": false, "iterations_since_restore": 110, "episode_reward_min": 57.786866189027364, "episode_reward_max": 1237.3677559577618, "training_iteration": 110, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-54-45", "timestamp": 1557114885, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.972658838693539, "cost2_max": 0.0, "cost1_mean": 336.114403884125, "system_level_velocity_mean": 13.00526020667394, "cost1_min": 25.213318240942847, "outflow_rate_min": 499.9761293165757, "system_level_velocity_max": 18.6821799171953, "cost2_min": -0.78644301353444, "cost1_max": 456.6062224808449, "outflow_rate_mean": 1063.2718347341972, "cost2_mean": -0.05580242343412961, "outflow_rate_max": 1256.80926493197}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768329b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832748>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.43, "time_this_iter_s": 20.11225128173828, "node_ip": "10.138.0.2", "episodes_total": 1854, "time_since_restore": 2359.3580515384674, "episode_reward_mean": 974.4751884996014, "timesteps_total": 4438004, "timesteps_since_restore": 4438004, "timesteps_this_iter": 38643, "hostname": "flow-main", "pid": 24598, "time_total_s": 2359.3580515384674, "info": {"sample_time_ms": 11436.986, "num_steps_sampled": 4438004, "num_steps_trained": 4438004, "grad_time_ms": 9443.661, "default": {"total_loss": 27.587677001953125, "entropy": 1.2159596681594849, "vf_explained_var": 0.8748791217803955, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 27.59358787536621, "policy_loss": -0.00843706913292408, "kl": 0.014989925548434258}, "update_time_ms": 6.996, "load_time_ms": 16.942}, "done": false, "iterations_since_restore": 111, "episode_reward_min": 71.72253058012865, "episode_reward_max": 1193.9446711715411, "training_iteration": 111, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-55-05", "timestamp": 1557114905, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.573353638816313, "cost2_max": 0.0, "cost1_mean": 338.9186193298603, "system_level_velocity_mean": 13.115325812931914, "cost1_min": 28.948361705095124, "outflow_rate_min": 539.2234048034333, "system_level_velocity_max": 18.535636073475906, "cost2_min": -0.78644301353444, "cost1_max": 464.8990703991221, "outflow_rate_mean": 1069.2204840550219, "cost2_mean": -0.06243242730961095, "outflow_rate_max": 1304.4439855852388}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcc88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc828>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4eb8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.43, "time_this_iter_s": 18.973249673843384, "node_ip": "10.138.0.2", "episodes_total": 1869, "time_since_restore": 2378.331301212311, "episode_reward_mean": 975.0925393326214, "timesteps_total": 4477635, "timesteps_since_restore": 4477635, "timesteps_this_iter": 39631, "hostname": "flow-main", "pid": 24598, "time_total_s": 2378.331301212311, "info": {"sample_time_ms": 11376.657, "num_steps_sampled": 4477635, "num_steps_trained": 4477635, "grad_time_ms": 9275.067, "default": {"total_loss": 21.544382095336914, "entropy": 1.2238872051239014, "vf_explained_var": 0.8762310743331909, "cur_kl_coeff": 0.16875000298023224, "cur_lr": 0.0005000000237487257, "vf_loss": 21.549345016479492, "policy_loss": -0.007790187373757362, "kl": 0.01676134765148163}, "update_time_ms": 6.897, "load_time_ms": 15.917}, "done": false, "iterations_since_restore": 112, "episode_reward_min": 71.72253058012865, "episode_reward_max": 1280.603249630734, "training_iteration": 112, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-55-24", "timestamp": 1557114924, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.573353638816313, "cost2_max": 0.0, "cost1_mean": 340.4061084840681, "system_level_velocity_mean": 13.188118487833767, "cost1_min": 28.948361705095124, "outflow_rate_min": 539.2234048034333, "system_level_velocity_max": 18.535636073475906, "cost2_min": -0.5714285714285714, "cost1_max": 464.8990703991221, "outflow_rate_mean": 1071.1368726874707, "cost2_mean": -0.06242258141955451, "outflow_rate_max": 1304.4439855852388}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcf28>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 687.56, "time_this_iter_s": 21.92923665046692, "node_ip": "10.138.0.2", "episodes_total": 1888, "time_since_restore": 2400.2605378627777, "episode_reward_mean": 977.3745471545097, "timesteps_total": 4516388, "timesteps_since_restore": 4516388, "timesteps_this_iter": 38753, "hostname": "flow-main", "pid": 24598, "time_total_s": 2400.2605378627777, "info": {"sample_time_ms": 11511.321, "num_steps_sampled": 4516388, "num_steps_trained": 4516388, "grad_time_ms": 9298.302, "default": {"total_loss": 29.35908317565918, "entropy": 1.231431007385254, "vf_explained_var": 0.8418086171150208, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 29.3653507232666, "policy_loss": -0.008928235620260239, "kl": 0.015777654945850372}, "update_time_ms": 6.899, "load_time_ms": 15.686}, "done": false, "iterations_since_restore": 113, "episode_reward_min": 71.72253058012865, "episode_reward_max": 1280.603249630734, "training_iteration": 113, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-55-46", "timestamp": 1557114946, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.573353638816313, "cost2_max": 0.0, "cost1_mean": 337.43826358674676, "system_level_velocity_mean": 13.242046354850425, "cost1_min": 28.948361705095124, "outflow_rate_min": 539.2234048034333, "system_level_velocity_max": 18.535636073475906, "cost2_min": -0.5714285714285714, "cost1_max": 464.8990703991221, "outflow_rate_mean": 1067.668336504843, "cost2_mean": -0.06436338830556652, "outflow_rate_max": 1304.4439855852388}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c92b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9cc0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 687.56, "time_this_iter_s": 21.844183683395386, "node_ip": "10.138.0.2", "episodes_total": 1907, "time_since_restore": 2422.104721546173, "episode_reward_mean": 972.5631070534939, "timesteps_total": 4555495, "timesteps_since_restore": 4555495, "timesteps_this_iter": 39107, "hostname": "flow-main", "pid": 24598, "time_total_s": 2422.104721546173, "info": {"sample_time_ms": 11634.65, "num_steps_sampled": 4555495, "num_steps_trained": 4555495, "grad_time_ms": 9270.884, "default": {"total_loss": 25.01913833618164, "entropy": 1.2320653200149536, "vf_explained_var": 0.873530924320221, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 25.023630142211914, "policy_loss": -0.007167629897594452, "kl": 0.015853945165872574}, "update_time_ms": 6.917, "load_time_ms": 15.446}, "done": false, "iterations_since_restore": 114, "episode_reward_min": 71.72253058012865, "episode_reward_max": 1280.603249630734, "training_iteration": 114, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-56-08", "timestamp": 1557114968, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.573353638816313, "cost2_max": 0.0, "cost1_mean": 335.5558157194566, "system_level_velocity_mean": 13.185107935458113, "cost1_min": 28.948361705095124, "outflow_rate_min": 539.2234048034333, "system_level_velocity_max": 18.535636073475906, "cost2_min": -0.7948093744222392, "cost1_max": 464.8990703991221, "outflow_rate_mean": 1067.5680536138054, "cost2_mean": -0.06705816992347008, "outflow_rate_max": 1304.4439855852388}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4f60>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4128>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 687.56, "time_this_iter_s": 21.33928108215332, "node_ip": "10.138.0.2", "episodes_total": 1923, "time_since_restore": 2443.4440026283264, "episode_reward_mean": 979.9178300352479, "timesteps_total": 4593647, "timesteps_since_restore": 4593647, "timesteps_this_iter": 38152, "hostname": "flow-main", "pid": 24598, "time_total_s": 2443.4440026283264, "info": {"sample_time_ms": 11558.811, "num_steps_sampled": 4593647, "num_steps_trained": 4593647, "grad_time_ms": 9238.018, "default": {"total_loss": 22.419593811035156, "entropy": 1.190339207649231, "vf_explained_var": 0.9026845693588257, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 22.42502784729004, "policy_loss": -0.008096003904938698, "kl": 0.015782611444592476}, "update_time_ms": 6.882, "load_time_ms": 15.472}, "done": false, "iterations_since_restore": 115, "episode_reward_min": 71.72253058012865, "episode_reward_max": 1280.603249630734, "training_iteration": 115, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-56-29", "timestamp": 1557114989, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.573353638816313, "cost2_max": 0.0, "cost1_mean": 337.7057501346025, "system_level_velocity_mean": 13.276004686733275, "cost1_min": 28.948361705095124, "outflow_rate_min": 539.2234048034333, "system_level_velocity_max": 18.535636073475906, "cost2_min": -0.7948093744222392, "cost1_max": 464.8990703991221, "outflow_rate_mean": 1075.3864464424023, "cost2_mean": -0.06280968853676798, "outflow_rate_max": 1304.4439855852388}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832470>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 687.56, "time_this_iter_s": 22.68536877632141, "node_ip": "10.138.0.2", "episodes_total": 1941, "time_since_restore": 2466.129371404648, "episode_reward_mean": 973.17307521542, "timesteps_total": 4632769, "timesteps_since_restore": 4632769, "timesteps_this_iter": 39122, "hostname": "flow-main", "pid": 24598, "time_total_s": 2466.129371404648, "info": {"sample_time_ms": 11784.096, "num_steps_sampled": 4632769, "num_steps_trained": 4632769, "grad_time_ms": 9231.367, "default": {"total_loss": 22.665987014770508, "entropy": 1.302085280418396, "vf_explained_var": 0.8626186847686768, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 22.67336082458496, "policy_loss": -0.010183931328356266, "kl": 0.01665021851658821}, "update_time_ms": 6.866, "load_time_ms": 14.994}, "done": false, "iterations_since_restore": 116, "episode_reward_min": 71.72253058012865, "episode_reward_max": 1280.603249630734, "training_iteration": 116, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-56-52", "timestamp": 1557115012, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.573353638816313, "cost2_max": 0.0, "cost1_mean": 335.678020909906, "system_level_velocity_mean": 13.211588516295938, "cost1_min": 28.948361705095124, "outflow_rate_min": 539.2234048034333, "system_level_velocity_max": 18.535636073475906, "cost2_min": -0.7948093744222392, "cost1_max": 464.8990703991221, "outflow_rate_mean": 1076.3658387417752, "cost2_mean": -0.06002154325812247, "outflow_rate_max": 1304.4439855852388}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcdd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dceb8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4588>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 687.61, "time_this_iter_s": 21.10466742515564, "node_ip": "10.138.0.2", "episodes_total": 1956, "time_since_restore": 2487.2340388298035, "episode_reward_mean": 973.7665956318715, "timesteps_total": 4672393, "timesteps_since_restore": 4672393, "timesteps_this_iter": 39624, "hostname": "flow-main", "pid": 24598, "time_total_s": 2487.2340388298035, "info": {"sample_time_ms": 11744.52, "num_steps_sampled": 4672393, "num_steps_trained": 4672393, "grad_time_ms": 9287.589, "default": {"total_loss": 23.417415618896484, "entropy": 1.2810593843460083, "vf_explained_var": 0.871552586555481, "cur_kl_coeff": 0.16875000298023224, "cur_lr": 0.0005000000237487257, "vf_loss": 23.42415428161621, "policy_loss": -0.009635173715651035, "kl": 0.017170488834381104}, "update_time_ms": 6.731, "load_time_ms": 14.828}, "done": false, "iterations_since_restore": 117, "episode_reward_min": 73.56695919406663, "episode_reward_max": 1280.603249630734, "training_iteration": 117, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-57-13", "timestamp": 1557115033, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.58604741303072, "cost2_max": 0.0, "cost1_mean": 331.2488092713187, "system_level_velocity_mean": 13.052914406397042, "cost1_min": 32.143259353287846, "outflow_rate_min": 512.7090999824235, "system_level_velocity_max": 18.543962392252507, "cost2_min": -0.7948093744222392, "cost1_max": 464.73122901454803, "outflow_rate_mean": 1066.5535551380763, "cost2_mean": -0.0639308685192777, "outflow_rate_max": 1290.4081761108569}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d45c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4128>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 687.61, "time_this_iter_s": 21.08018732070923, "node_ip": "10.138.0.2", "episodes_total": 1973, "time_since_restore": 2508.3142261505127, "episode_reward_mean": 975.2028913421861, "timesteps_total": 4712682, "timesteps_since_restore": 4712682, "timesteps_this_iter": 40289, "hostname": "flow-main", "pid": 24598, "time_total_s": 2508.3142261505127, "info": {"sample_time_ms": 11647.965, "num_steps_sampled": 4712682, "num_steps_trained": 4712682, "grad_time_ms": 9279.485, "default": {"total_loss": 19.84485626220703, "entropy": 1.2799121141433716, "vf_explained_var": 0.877483606338501, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 19.849327087402344, "policy_loss": -0.007114746142178774, "kl": 0.015664702281355858}, "update_time_ms": 6.747, "load_time_ms": 14.672}, "done": false, "iterations_since_restore": 118, "episode_reward_min": 73.56695919406663, "episode_reward_max": 1197.9469413605455, "training_iteration": 118, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-57-34", "timestamp": 1557115054, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.58604741303072, "cost2_max": 0.0, "cost1_mean": 331.9698159948628, "system_level_velocity_mean": 13.076553191029802, "cost1_min": 32.143259353287846, "outflow_rate_min": 512.7090999824235, "system_level_velocity_max": 18.543962392252507, "cost2_min": -0.7948093744222392, "cost1_max": 443.6796213519417, "outflow_rate_mean": 1070.1177689513318, "cost2_mean": -0.061941867333327, "outflow_rate_max": 1290.4081761108569}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d42b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d44a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4cf8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.48, "time_this_iter_s": 21.68169617652893, "node_ip": "10.138.0.2", "episodes_total": 1988, "time_since_restore": 2529.9959223270416, "episode_reward_mean": 982.3778390304143, "timesteps_total": 4753314, "timesteps_since_restore": 4753314, "timesteps_this_iter": 40632, "hostname": "flow-main", "pid": 24598, "time_total_s": 2529.9959223270416, "info": {"sample_time_ms": 11564.51, "num_steps_sampled": 4753314, "num_steps_trained": 4753314, "grad_time_ms": 9572.772, "default": {"total_loss": 19.964414596557617, "entropy": 1.2932004928588867, "vf_explained_var": 0.8874902725219727, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "vf_loss": 19.97078514099121, "policy_loss": -0.009010173380374908, "kl": 0.01564875990152359}, "update_time_ms": 6.717, "load_time_ms": 14.258}, "done": false, "iterations_since_restore": 119, "episode_reward_min": 73.56695919406663, "episode_reward_max": 1197.9469413605455, "training_iteration": 119, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-57-56", "timestamp": 1557115076, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.70003981236414, "cost2_max": 0.0, "cost1_mean": 331.70776224792274, "system_level_velocity_mean": 12.923848605228608, "cost1_min": 32.143259353287846, "outflow_rate_min": 512.7090999824235, "system_level_velocity_max": 18.543962392252507, "cost2_min": -0.7948093744222392, "cost1_max": 443.6796213519417, "outflow_rate_mean": 1068.2889558788922, "cost2_mean": -0.06281062104697312, "outflow_rate_max": 1290.4081761108569}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768324e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832dd8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.48, "time_this_iter_s": 22.119908094406128, "node_ip": "10.138.0.2", "episodes_total": 2007, "time_since_restore": 2552.1158304214478, "episode_reward_mean": 983.0330450778382, "timesteps_total": 4792347, "timesteps_since_restore": 4792347, "timesteps_this_iter": 39033, "hostname": "flow-main", "pid": 24598, "time_total_s": 2552.1158304214478, "info": {"sample_time_ms": 11565.237, "num_steps_sampled": 4792347, "num_steps_trained": 4792347, "grad_time_ms": 9622.4, "default": {"total_loss": 23.63995933532715, "entropy": 1.2636834383010864, "vf_explained_var": 0.8859156370162964, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 23.647220611572266, "policy_loss": -0.010208363644778728, "kl": 0.017464876174926758}, "update_time_ms": 6.82, "load_time_ms": 14.134}, "done": false, "iterations_since_restore": 120, "episode_reward_min": 73.56695919406663, "episode_reward_max": 1197.9469413605455, "training_iteration": 120, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-58-18", "timestamp": 1557115098, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.70003981236414, "cost2_max": 0.0, "cost1_mean": 330.24392752265675, "system_level_velocity_mean": 12.874464705043636, "cost1_min": 32.143259353287846, "outflow_rate_min": 512.7090999824235, "system_level_velocity_max": 18.543962392252507, "cost2_min": -0.817325428918637, "cost1_max": 443.6796213519417, "outflow_rate_mean": 1068.1506095389896, "cost2_mean": -0.06961667418784717, "outflow_rate_max": 1290.4081761108569}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1550>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.48, "time_this_iter_s": 20.885001182556152, "node_ip": "10.138.0.2", "episodes_total": 2026, "time_since_restore": 2573.000831604004, "episode_reward_mean": 977.1443159012172, "timesteps_total": 4831912, "timesteps_since_restore": 4831912, "timesteps_this_iter": 39565, "hostname": "flow-main", "pid": 24598, "time_total_s": 2573.000831604004, "info": {"sample_time_ms": 11371.238, "num_steps_sampled": 4831912, "num_steps_trained": 4831912, "grad_time_ms": 9893.495, "default": {"total_loss": 24.525671005249023, "entropy": 1.298479676246643, "vf_explained_var": 0.8765924572944641, "cur_kl_coeff": 0.16875000298023224, "cur_lr": 0.0005000000237487257, "vf_loss": 24.531085968017578, "policy_loss": -0.008010821416974068, "kl": 0.015379494056105614}, "update_time_ms": 6.809, "load_time_ms": 13.216}, "done": false, "iterations_since_restore": 121, "episode_reward_min": 73.56695919406663, "episode_reward_max": 1180.8959505043929, "training_iteration": 121, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-58-39", "timestamp": 1557115119, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.592621547431635, "cost2_max": 0.0, "cost1_mean": 326.50781261364045, "system_level_velocity_mean": 12.743143185971675, "cost1_min": 32.143259353287846, "outflow_rate_min": 512.7090999824235, "system_level_velocity_max": 18.543962392252507, "cost2_min": -0.817325428918637, "cost1_max": 452.36516818995835, "outflow_rate_mean": 1061.1743631561687, "cost2_mean": -0.0883268793306041, "outflow_rate_max": 1307.5437631179643}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d48d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d42b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4080>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.73, "time_this_iter_s": 20.58673620223999, "node_ip": "10.138.0.2", "episodes_total": 2043, "time_since_restore": 2593.587567806244, "episode_reward_mean": 977.5117057733931, "timesteps_total": 4869940, "timesteps_since_restore": 4869940, "timesteps_this_iter": 38028, "hostname": "flow-main", "pid": 24598, "time_total_s": 2593.587567806244, "info": {"sample_time_ms": 11395.305, "num_steps_sampled": 4869940, "num_steps_trained": 4869940, "grad_time_ms": 10031.098, "default": {"total_loss": 29.95096206665039, "entropy": 1.2705254554748535, "vf_explained_var": 0.8576424717903137, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 29.957820892333984, "policy_loss": -0.009891814552247524, "kl": 0.017986442893743515}, "update_time_ms": 6.889, "load_time_ms": 13.12}, "done": false, "iterations_since_restore": 122, "episode_reward_min": 39.156122472152404, "episode_reward_max": 1263.0444857162265, "training_iteration": 122, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-58-59", "timestamp": 1557115139, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.592621547431635, "cost2_max": 0.0, "cost1_mean": 326.190664860553, "system_level_velocity_mean": 12.91128450204646, "cost1_min": 15.812647357634685, "outflow_rate_min": 472.47706369188825, "system_level_velocity_max": 18.543962392252507, "cost2_min": -0.817325428918637, "cost1_max": 465.95316611007377, "outflow_rate_mean": 1059.8409036338942, "cost2_mean": -0.08720546627296087, "outflow_rate_max": 1314.26838578332}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4588>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.25, "time_this_iter_s": 21.173058032989502, "node_ip": "10.138.0.2", "episodes_total": 2063, "time_since_restore": 2614.7606258392334, "episode_reward_mean": 980.6198888912231, "timesteps_total": 4907760, "timesteps_since_restore": 4907760, "timesteps_this_iter": 37820, "hostname": "flow-main", "pid": 24598, "time_total_s": 2614.7606258392334, "info": {"sample_time_ms": 11354.99, "num_steps_sampled": 4907760, "num_steps_trained": 4907760, "grad_time_ms": 9996.316, "default": {"total_loss": 25.463722229003906, "entropy": 1.263655424118042, "vf_explained_var": 0.9001790881156921, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 25.47115707397461, "policy_loss": -0.010754602961242199, "kl": 0.019662298262119293}, "update_time_ms": 7.125, "load_time_ms": 12.865}, "done": false, "iterations_since_restore": 123, "episode_reward_min": 39.156122472152404, "episode_reward_max": 1263.0444857162265, "training_iteration": 123, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-59-21", "timestamp": 1557115161, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "custom_metrics": {"system_level_velocity_min": 9.592621547431635, "cost2_max": 0.0, "cost1_mean": 333.1067076792032, "system_level_velocity_mean": 13.020910076642645, "cost1_min": 15.812647357634685, "outflow_rate_min": 472.47706369188825, "system_level_velocity_max": 18.4766980290013, "cost2_min": -0.817325428918637, "cost1_max": 465.95316611007377, "outflow_rate_mean": 1073.0992390291328, "cost2_mean": -0.08898988287070667, "outflow_rate_max": 1314.26838578332}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e18d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1278>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.53, "time_this_iter_s": 21.32860040664673, "node_ip": "10.138.0.2", "episodes_total": 2079, "time_since_restore": 2636.08922624588, "episode_reward_mean": 968.825446865051, "timesteps_total": 4946849, "timesteps_since_restore": 4946849, "timesteps_this_iter": 39089, "hostname": "flow-main", "pid": 24598, "time_total_s": 2636.08922624588, "info": {"sample_time_ms": 11302.11, "num_steps_sampled": 4946849, "num_steps_trained": 4946849, "grad_time_ms": 9999.537, "default": {"total_loss": 22.44049644470215, "entropy": 1.289929747581482, "vf_explained_var": 0.8869820833206177, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 22.446685791015625, "policy_loss": -0.009104672819375992, "kl": 0.017277000471949577}, "update_time_ms": 7.19, "load_time_ms": 12.239}, "done": false, "iterations_since_restore": 124, "episode_reward_min": 39.156122472152404, "episode_reward_max": 1263.0444857162265, "training_iteration": 124, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_03-59-42", "timestamp": 1557115182, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.592621547431635, "cost2_max": 0.0, "cost1_mean": 334.3538708927061, "system_level_velocity_mean": 13.248807477230077, "cost1_min": 15.812647357634685, "outflow_rate_min": 472.47706369188825, "system_level_velocity_max": 18.489852107580496, "cost2_min": -0.817325428918637, "cost1_max": 468.2149971053115, "outflow_rate_mean": 1075.6870717278, "cost2_mean": -0.08511776600210397, "outflow_rate_max": 1341.4457976105598}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d48d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4e10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4400>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.53, "time_this_iter_s": 21.80593752861023, "node_ip": "10.138.0.2", "episodes_total": 2095, "time_since_restore": 2657.8951637744904, "episode_reward_mean": 968.3287229367343, "timesteps_total": 4987533, "timesteps_since_restore": 4987533, "timesteps_this_iter": 40684, "hostname": "flow-main", "pid": 24598, "time_total_s": 2657.8951637744904, "info": {"sample_time_ms": 11276.441, "num_steps_sampled": 4987533, "num_steps_trained": 4987533, "grad_time_ms": 10071.442, "default": {"total_loss": 18.705429077148438, "entropy": 1.2994165420532227, "vf_explained_var": 0.9019041657447815, "cur_kl_coeff": 0.16875003278255463, "cur_lr": 0.0005000000237487257, "vf_loss": 18.7108211517334, "policy_loss": -0.007919524796307087, "kl": 0.014990909025073051}, "update_time_ms": 7.12, "load_time_ms": 12.156}, "done": false, "iterations_since_restore": 125, "episode_reward_min": 39.156122472152404, "episode_reward_max": 1263.0444857162265, "training_iteration": 125, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-00-04", "timestamp": 1557115204, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.571570761837158, "cost2_max": 0.0, "cost1_mean": 337.1729043736101, "system_level_velocity_mean": 13.353994687663072, "cost1_min": 15.812647357634685, "outflow_rate_min": 472.47706369188825, "system_level_velocity_max": 18.489852107580496, "cost2_min": -0.817325428918637, "cost1_max": 468.2149971053115, "outflow_rate_mean": 1080.4852178740962, "cost2_mean": -0.08182357750694327, "outflow_rate_max": 1341.4457976105598}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d40b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4940>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.53, "time_this_iter_s": 21.365701913833618, "node_ip": "10.138.0.2", "episodes_total": 2110, "time_since_restore": 2679.260865688324, "episode_reward_mean": 961.7685275709297, "timesteps_total": 5027458, "timesteps_since_restore": 5027458, "timesteps_this_iter": 39925, "hostname": "flow-main", "pid": 24598, "time_total_s": 2679.260865688324, "info": {"sample_time_ms": 11090.629, "num_steps_sampled": 5027458, "num_steps_trained": 5027458, "grad_time_ms": 10125.694, "default": {"total_loss": 20.177682876586914, "entropy": 1.2862485647201538, "vf_explained_var": 0.9070721864700317, "cur_kl_coeff": 0.16875001788139343, "cur_lr": 0.0005000000237487257, "vf_loss": 20.183574676513672, "policy_loss": -0.009393615648150444, "kl": 0.02074306085705757}, "update_time_ms": 7.186, "load_time_ms": 12.245}, "done": false, "iterations_since_restore": 126, "episode_reward_min": 39.156122472152404, "episode_reward_max": 1263.0444857162265, "training_iteration": 126, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-00-25", "timestamp": 1557115225, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.56461664648406, "cost2_max": 0.0, "cost1_mean": 332.3841200660983, "system_level_velocity_mean": 13.18211346055921, "cost1_min": 15.812647357634685, "outflow_rate_min": 472.47706369188825, "system_level_velocity_max": 18.489852107580496, "cost2_min": -0.6690848575588118, "cost1_max": 468.2149971053115, "outflow_rate_mean": 1070.8553222494395, "cost2_mean": -0.06688951541649554, "outflow_rate_max": 1341.4457976105598}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc710>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc630>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.53, "time_this_iter_s": 20.789381504058838, "node_ip": "10.138.0.2", "episodes_total": 2127, "time_since_restore": 2700.050247192383, "episode_reward_mean": 957.8727922328326, "timesteps_total": 5067188, "timesteps_since_restore": 5067188, "timesteps_this_iter": 39730, "hostname": "flow-main", "pid": 24598, "time_total_s": 2700.050247192383, "info": {"sample_time_ms": 11024.754, "num_steps_sampled": 5067188, "num_steps_trained": 5067188, "grad_time_ms": 10159.812, "default": {"total_loss": 22.339345932006836, "entropy": 1.3204550743103027, "vf_explained_var": 0.8913419842720032, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 22.34520149230957, "policy_loss": -0.009347068145871162, "kl": 0.013794331811368465}, "update_time_ms": 7.272, "load_time_ms": 12.453}, "done": false, "iterations_since_restore": 127, "episode_reward_min": 39.156122472152404, "episode_reward_max": 1263.0444857162265, "training_iteration": 127, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-00-46", "timestamp": 1557115246, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.56461664648406, "cost2_max": 0.0, "cost1_mean": 331.36145494556484, "system_level_velocity_mean": 13.144578042024023, "cost1_min": 15.812647357634685, "outflow_rate_min": 472.47706369188825, "system_level_velocity_max": 18.489852107580496, "cost2_min": -0.6690848575588118, "cost1_max": 468.2149971053115, "outflow_rate_mean": 1068.8764809992194, "cost2_mean": -0.05217540012563519, "outflow_rate_max": 1341.4457976105598}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e19e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841320>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 688.23, "time_this_iter_s": 22.610005140304565, "node_ip": "10.138.0.2", "episodes_total": 2149, "time_since_restore": 2722.6602523326874, "episode_reward_mean": 956.7406415766983, "timesteps_total": 5106578, "timesteps_since_restore": 5106578, "timesteps_this_iter": 39390, "hostname": "flow-main", "pid": 24598, "time_total_s": 2722.6602523326874, "info": {"sample_time_ms": 11194.326, "num_steps_sampled": 5106578, "num_steps_trained": 5106578, "grad_time_ms": 10145.358, "default": {"total_loss": 27.703662872314453, "entropy": 1.271483302116394, "vf_explained_var": 0.8771310448646545, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 27.70962142944336, "policy_loss": -0.009690544568002224, "kl": 0.014755474403500557}, "update_time_ms": 7.235, "load_time_ms": 12.296}, "done": false, "iterations_since_restore": 128, "episode_reward_min": 51.67126254188869, "episode_reward_max": 1214.5631422265333, "training_iteration": 128, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-01-09", "timestamp": 1557115269, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 22, "custom_metrics": {"system_level_velocity_min": 9.56461664648406, "cost2_max": 0.0, "cost1_mean": 333.1414277636999, "system_level_velocity_mean": 13.16713496729629, "cost1_min": 18.953505042511722, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 18.72857484655661, "cost2_min": -0.6690848575588118, "cost1_max": 468.2149971053115, "outflow_rate_mean": 1073.3304740599385, "cost2_mean": -0.051070449630308865, "outflow_rate_max": 1341.4457976105598}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d43c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4b00>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 688.28, "time_this_iter_s": 21.438560247421265, "node_ip": "10.138.0.2", "episodes_total": 2165, "time_since_restore": 2744.0988125801086, "episode_reward_mean": 959.0774273478829, "timesteps_total": 5145364, "timesteps_since_restore": 5145364, "timesteps_this_iter": 38786, "hostname": "flow-main", "pid": 24598, "time_total_s": 2744.0988125801086, "info": {"sample_time_ms": 11259.539, "num_steps_sampled": 5145364, "num_steps_trained": 5145364, "grad_time_ms": 10055.753, "default": {"total_loss": 22.3691463470459, "entropy": 1.3056013584136963, "vf_explained_var": 0.8704769611358643, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 22.374059677124023, "policy_loss": -0.008741751313209534, "kl": 0.015120899304747581}, "update_time_ms": 7.212, "load_time_ms": 12.363}, "done": false, "iterations_since_restore": 129, "episode_reward_min": 48.27434796289037, "episode_reward_max": 1214.5631422265333, "training_iteration": 129, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-01-30", "timestamp": 1557115290, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.56461664648406, "cost2_max": 0.0, "cost1_mean": 332.57379847252514, "system_level_velocity_mean": 13.139226998590443, "cost1_min": 21.49827622846184, "outflow_rate_min": 496.5702143549794, "system_level_velocity_max": 18.72857484655661, "cost2_min": -0.5168193702527788, "cost1_max": 468.2149971053115, "outflow_rate_mean": 1072.465908338755, "cost2_mean": -0.04716726150664453, "outflow_rate_max": 1341.4457976105598}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc4a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc4e0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 688.28, "time_this_iter_s": 20.548051834106445, "node_ip": "10.138.0.2", "episodes_total": 2184, "time_since_restore": 2764.646864414215, "episode_reward_mean": 945.1362958767769, "timesteps_total": 5184084, "timesteps_since_restore": 5184084, "timesteps_this_iter": 38720, "hostname": "flow-main", "pid": 24598, "time_total_s": 2764.646864414215, "info": {"sample_time_ms": 11106.522, "num_steps_sampled": 5184084, "num_steps_trained": 5184084, "grad_time_ms": 10051.649, "default": {"total_loss": 22.11150550842285, "entropy": 1.3437702655792236, "vf_explained_var": 0.8526492118835449, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 22.1169376373291, "policy_loss": -0.009105757810175419, "kl": 0.01451814267784357}, "update_time_ms": 7.144, "load_time_ms": 12.222}, "done": false, "iterations_since_restore": 130, "episode_reward_min": 48.27434796289037, "episode_reward_max": 1203.4989562241153, "training_iteration": 130, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-01-51", "timestamp": 1557115311, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.374928384140917, "cost2_max": 0.0, "cost1_mean": 323.6701735139829, "system_level_velocity_mean": 12.81298585656285, "cost1_min": 21.49827622846184, "outflow_rate_min": 496.5702143549794, "system_level_velocity_max": 18.72857484655661, "cost2_min": -0.5168193702527788, "cost1_max": 441.00408663324146, "outflow_rate_mean": 1054.8613004970666, "cost2_mean": -0.04552874696298177, "outflow_rate_max": 1284.4870832668519}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768326a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832a58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 688.28, "time_this_iter_s": 23.136114358901978, "node_ip": "10.138.0.2", "episodes_total": 2201, "time_since_restore": 2787.782978773117, "episode_reward_mean": 943.2572686104562, "timesteps_total": 5223214, "timesteps_since_restore": 5223214, "timesteps_this_iter": 39130, "hostname": "flow-main", "pid": 24598, "time_total_s": 2787.782978773117, "info": {"sample_time_ms": 11257.421, "num_steps_sampled": 5223214, "num_steps_trained": 5223214, "grad_time_ms": 10125.383, "default": {"total_loss": 21.642181396484375, "entropy": 1.3054968118667603, "vf_explained_var": 0.8898407220840454, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 21.646095275878906, "policy_loss": -0.007301429286599159, "kl": 0.013386648148298264}, "update_time_ms": 7.176, "load_time_ms": 12.87}, "done": false, "iterations_since_restore": 131, "episode_reward_min": 48.27434796289037, "episode_reward_max": 1203.4989562241153, "training_iteration": 131, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-02-14", "timestamp": 1557115334, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.374928384140917, "cost2_max": 0.0, "cost1_mean": 325.7949233450564, "system_level_velocity_mean": 12.896861560454887, "cost1_min": 21.49827622846184, "outflow_rate_min": 496.5702143549794, "system_level_velocity_max": 18.72857484655661, "cost2_min": -0.5168193702527788, "cost1_max": 441.00408663324146, "outflow_rate_mean": 1056.5836870463456, "cost2_mean": -0.04723801476098991, "outflow_rate_max": 1281.772079796348}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4a90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4a58>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 681.7, "time_this_iter_s": 21.968450784683228, "node_ip": "10.138.0.2", "episodes_total": 2218, "time_since_restore": 2809.7514295578003, "episode_reward_mean": 932.4851041746942, "timesteps_total": 5262556, "timesteps_since_restore": 5262556, "timesteps_this_iter": 39342, "hostname": "flow-main", "pid": 24598, "time_total_s": 2809.7514295578003, "info": {"sample_time_ms": 11292.021, "num_steps_sampled": 5262556, "num_steps_trained": 5262556, "grad_time_ms": 10227.754, "default": {"total_loss": 20.051280975341797, "entropy": 1.2853600978851318, "vf_explained_var": 0.9033734202384949, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 20.056032180786133, "policy_loss": -0.008286227472126484, "kl": 0.013969460502266884}, "update_time_ms": 7.222, "load_time_ms": 12.927}, "done": false, "iterations_since_restore": 132, "episode_reward_min": 48.27434796289037, "episode_reward_max": 1141.2726138082287, "training_iteration": 132, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-02-36", "timestamp": 1557115356, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.374928384140917, "cost2_max": 0.0, "cost1_mean": 324.67971279251424, "system_level_velocity_mean": 13.041638643444822, "cost1_min": 21.49827622846184, "outflow_rate_min": 496.5702143549794, "system_level_velocity_max": 19.473497701495017, "cost2_min": -0.5168193702527788, "cost1_max": 447.23865568338306, "outflow_rate_mean": 1053.8974468846359, "cost2_mean": -0.049388692226784325, "outflow_rate_max": 1269.7892947787043}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9ac8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 680.03, "time_this_iter_s": 23.933579921722412, "node_ip": "10.138.0.2", "episodes_total": 2236, "time_since_restore": 2833.6850094795227, "episode_reward_mean": 935.571065554312, "timesteps_total": 5301273, "timesteps_since_restore": 5301273, "timesteps_this_iter": 38717, "hostname": "flow-main", "pid": 24598, "time_total_s": 2833.6850094795227, "info": {"sample_time_ms": 11528.675, "num_steps_sampled": 5301273, "num_steps_trained": 5301273, "grad_time_ms": 10266.206, "default": {"total_loss": 25.000009536743164, "entropy": 1.2568365335464478, "vf_explained_var": 0.8941535353660583, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 25.005638122558594, "policy_loss": -0.009300345554947853, "kl": 0.014511537738144398}, "update_time_ms": 7.196, "load_time_ms": 12.956}, "done": false, "iterations_since_restore": 133, "episode_reward_min": 48.27434796289037, "episode_reward_max": 1192.1312318742794, "training_iteration": 133, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-03-00", "timestamp": 1557115380, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.374928384140917, "cost2_max": 0.0, "cost1_mean": 325.7072674554173, "system_level_velocity_mean": 13.130861686770109, "cost1_min": 18.885099338374513, "outflow_rate_min": 485.9070544216064, "system_level_velocity_max": 19.473497701495017, "cost2_min": -0.6000000000000001, "cost1_max": 447.23865568338306, "outflow_rate_mean": 1054.7708684089923, "cost2_mean": -0.062136130123797526, "outflow_rate_max": 1284.1609693612495}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc828>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4978>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.7, "time_this_iter_s": 22.004371166229248, "node_ip": "10.138.0.2", "episodes_total": 2253, "time_since_restore": 2855.689380645752, "episode_reward_mean": 942.932903554857, "timesteps_total": 5340386, "timesteps_since_restore": 5340386, "timesteps_this_iter": 39113, "hostname": "flow-main", "pid": 24598, "time_total_s": 2855.689380645752, "info": {"sample_time_ms": 11543.546, "num_steps_sampled": 5340386, "num_steps_trained": 5340386, "grad_time_ms": 10318.208, "default": {"total_loss": 19.556739807128906, "entropy": 1.292158842086792, "vf_explained_var": 0.9040688276290894, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 19.560850143432617, "policy_loss": -0.007988065481185913, "kl": 0.015315378084778786}, "update_time_ms": 7.14, "load_time_ms": 13.051}, "done": false, "iterations_since_restore": 134, "episode_reward_min": 48.72952190837078, "episode_reward_max": 1194.4403296100706, "training_iteration": 134, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-03-22", "timestamp": 1557115402, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.374928384140917, "cost2_max": 0.0, "cost1_mean": 327.4706430501252, "system_level_velocity_mean": 13.03111653840595, "cost1_min": 18.885099338374513, "outflow_rate_min": 485.9070544216064, "system_level_velocity_max": 19.473497701495017, "cost2_min": -0.6000000000000001, "cost1_max": 447.23865568338306, "outflow_rate_mean": 1057.5367275609751, "cost2_mean": -0.06161026174472891, "outflow_rate_max": 1284.1609693612495}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d44a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d41d0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.7, "time_this_iter_s": 22.74754047393799, "node_ip": "10.138.0.2", "episodes_total": 2272, "time_since_restore": 2878.43692111969, "episode_reward_mean": 946.5903989840846, "timesteps_total": 5378870, "timesteps_since_restore": 5378870, "timesteps_this_iter": 38484, "hostname": "flow-main", "pid": 24598, "time_total_s": 2878.43692111969, "info": {"sample_time_ms": 11655.932, "num_steps_sampled": 5378870, "num_steps_trained": 5378870, "grad_time_ms": 10298.661, "default": {"total_loss": 23.464889526367188, "entropy": 1.2789530754089355, "vf_explained_var": 0.8947149515151978, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 23.470762252807617, "policy_loss": -0.009539138525724411, "kl": 0.014482507482171059}, "update_time_ms": 7.124, "load_time_ms": 13.293}, "done": false, "iterations_since_restore": 135, "episode_reward_min": 48.72952190837078, "episode_reward_max": 1194.4403296100706, "training_iteration": 135, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-03-45", "timestamp": 1557115425, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.967326811711017, "cost2_max": 0.0, "cost1_mean": 329.19822339784093, "system_level_velocity_mean": 13.102729633050279, "cost1_min": 18.885099338374513, "outflow_rate_min": 485.9070544216064, "system_level_velocity_max": 19.473497701495017, "cost2_min": -0.6000000000000001, "cost1_max": 469.19683575675896, "outflow_rate_mean": 1061.1962916778173, "cost2_mean": -0.05866082234322953, "outflow_rate_max": 1284.1609693612495}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d45c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4cf8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.7, "time_this_iter_s": 22.325003623962402, "node_ip": "10.138.0.2", "episodes_total": 2287, "time_since_restore": 2900.7619247436523, "episode_reward_mean": 959.5316570221263, "timesteps_total": 5417491, "timesteps_since_restore": 5417491, "timesteps_this_iter": 38621, "hostname": "flow-main", "pid": 24598, "time_total_s": 2900.7619247436523, "info": {"sample_time_ms": 11710.053, "num_steps_sampled": 5417491, "num_steps_trained": 5417491, "grad_time_ms": 10338.492, "default": {"total_loss": 20.723119735717773, "entropy": 1.2326420545578003, "vf_explained_var": 0.9161093235015869, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 20.7275333404541, "policy_loss": -0.00846807286143303, "kl": 0.016020646318793297}, "update_time_ms": 7.093, "load_time_ms": 13.296}, "done": false, "iterations_since_restore": 136, "episode_reward_min": 48.72952190837078, "episode_reward_max": 1194.4403296100706, "training_iteration": 136, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-04-07", "timestamp": 1557115447, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.967326811711017, "cost2_max": 0.0, "cost1_mean": 333.27531948010386, "system_level_velocity_mean": 13.257974666637049, "cost1_min": 18.885099338374513, "outflow_rate_min": 485.9070544216064, "system_level_velocity_max": 19.473497701495017, "cost2_min": -0.6000000000000001, "cost1_max": 472.17898487338164, "outflow_rate_mean": 1069.4836636535567, "cost2_mean": -0.05326585913934984, "outflow_rate_max": 1297.979798459221}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e10f0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.7, "time_this_iter_s": 21.84781241416931, "node_ip": "10.138.0.2", "episodes_total": 2304, "time_since_restore": 2922.6097371578217, "episode_reward_mean": 969.7309908635855, "timesteps_total": 5456964, "timesteps_since_restore": 5456964, "timesteps_this_iter": 39473, "hostname": "flow-main", "pid": 24598, "time_total_s": 2922.6097371578217, "info": {"sample_time_ms": 11773.434, "num_steps_sampled": 5456964, "num_steps_trained": 5456964, "grad_time_ms": 10379.638, "default": {"total_loss": 22.911104202270508, "entropy": 1.2636302709579468, "vf_explained_var": 0.8714038729667664, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 22.91385269165039, "policy_loss": -0.006938281003385782, "kl": 0.016552479937672615}, "update_time_ms": 7.189, "load_time_ms": 13.301}, "done": false, "iterations_since_restore": 137, "episode_reward_min": 48.72952190837078, "episode_reward_max": 1194.4403296100706, "training_iteration": 137, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-04-29", "timestamp": 1557115469, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.967326811711017, "cost2_max": 0.0, "cost1_mean": 337.89761895752645, "system_level_velocity_mean": 13.438177776065299, "cost1_min": 18.885099338374513, "outflow_rate_min": 485.9070544216064, "system_level_velocity_max": 19.473497701495017, "cost2_min": -0.6000000000000001, "cost1_max": 472.17898487338164, "outflow_rate_mean": 1079.7089997369785, "cost2_mean": -0.04598963784777329, "outflow_rate_max": 1297.979798459221}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d47f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d44a8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.28, "time_this_iter_s": 22.25719380378723, "node_ip": "10.138.0.2", "episodes_total": 2322, "time_since_restore": 2944.866930961609, "episode_reward_mean": 982.5376189697029, "timesteps_total": 5495915, "timesteps_since_restore": 5495915, "timesteps_this_iter": 38951, "hostname": "flow-main", "pid": 24598, "time_total_s": 2944.866930961609, "info": {"sample_time_ms": 11719.858, "num_steps_sampled": 5495915, "num_steps_trained": 5495915, "grad_time_ms": 10396.841, "default": {"total_loss": 25.12383460998535, "entropy": 1.2154134511947632, "vf_explained_var": 0.8931435942649841, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 25.128145217895508, "policy_loss": -0.008194966241717339, "kl": 0.015347973443567753}, "update_time_ms": 7.36, "load_time_ms": 13.167}, "done": false, "iterations_since_restore": 138, "episode_reward_min": 48.72952190837078, "episode_reward_max": 1194.4403296100706, "training_iteration": 138, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-04-51", "timestamp": 1557115491, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.967326811711017, "cost2_max": 0.0, "cost1_mean": 339.3045348580047, "system_level_velocity_mean": 13.306659199192797, "cost1_min": 18.885099338374513, "outflow_rate_min": 485.9070544216064, "system_level_velocity_max": 18.36187228074552, "cost2_min": -0.3816016570590758, "cost1_max": 472.17898487338164, "outflow_rate_mean": 1082.8303725047208, "cost2_mean": -0.04059371281866125, "outflow_rate_max": 1297.979798459221}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d49b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d42b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d49e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.854731798171997, "node_ip": "10.138.0.2", "episodes_total": 2340, "time_since_restore": 2966.721662759781, "episode_reward_mean": 994.2676887455049, "timesteps_total": 5535142, "timesteps_since_restore": 5535142, "timesteps_this_iter": 39227, "hostname": "flow-main", "pid": 24598, "time_total_s": 2966.721662759781, "info": {"sample_time_ms": 11722.652, "num_steps_sampled": 5535142, "num_steps_trained": 5535142, "grad_time_ms": 10435.756, "default": {"total_loss": 19.928171157836914, "entropy": 1.2417243719100952, "vf_explained_var": 0.9178436994552612, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 19.933162689208984, "policy_loss": -0.008844738826155663, "kl": 0.015217455103993416}, "update_time_ms": 7.408, "load_time_ms": 13.165}, "done": false, "iterations_since_restore": 139, "episode_reward_min": 802.0228854485464, "episode_reward_max": 1221.560052130065, "training_iteration": 139, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-05-13", "timestamp": 1557115513, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.967326811711017, "cost2_max": 0.0, "cost1_mean": 343.698469765645, "system_level_velocity_mean": 13.292591398494983, "cost1_min": 255.76788916046553, "outflow_rate_min": 899.6931831532112, "system_level_velocity_max": 18.531089029774616, "cost2_min": -0.8981169968584536, "cost1_max": 486.51810789122237, "outflow_rate_mean": 1091.8303178394087, "cost2_mean": -0.04922702966037857, "outflow_rate_max": 1297.979798459221}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e11d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d46d8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.229315757751465, "node_ip": "10.138.0.2", "episodes_total": 2355, "time_since_restore": 2987.9509785175323, "episode_reward_mean": 994.1214440893735, "timesteps_total": 5574662, "timesteps_since_restore": 5574662, "timesteps_this_iter": 39520, "hostname": "flow-main", "pid": 24598, "time_total_s": 2987.9509785175323, "info": {"sample_time_ms": 11760.481, "num_steps_sampled": 5574662, "num_steps_trained": 5574662, "grad_time_ms": 10464.556, "default": {"total_loss": 19.976289749145508, "entropy": 1.2527369260787964, "vf_explained_var": 0.9066630601882935, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 19.978952407836914, "policy_loss": -0.005877241026610136, "kl": 0.012701399624347687}, "update_time_ms": 7.619, "load_time_ms": 13.102}, "done": false, "iterations_since_restore": 140, "episode_reward_min": 783.8970392596638, "episode_reward_max": 1221.560052130065, "training_iteration": 140, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-05-34", "timestamp": 1557115534, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.53474923191769, "cost2_max": 0.0, "cost1_mean": 341.1411911147186, "system_level_velocity_mean": 13.194344468447241, "cost1_min": 245.2444037697399, "outflow_rate_min": 899.6931831532112, "system_level_velocity_max": 18.531089029774616, "cost2_min": -0.8981169968584536, "cost1_max": 486.51810789122237, "outflow_rate_mean": 1088.0076834615054, "cost2_mean": -0.051252056293330295, "outflow_rate_max": 1297.979798459221}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832c88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f60>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.115057945251465, "node_ip": "10.138.0.2", "episodes_total": 2371, "time_since_restore": 3009.066036462784, "episode_reward_mean": 1000.6265559320194, "timesteps_total": 5614070, "timesteps_since_restore": 5614070, "timesteps_this_iter": 39408, "hostname": "flow-main", "pid": 24598, "time_total_s": 3009.066036462784, "info": {"sample_time_ms": 11659.625, "num_steps_sampled": 5614070, "num_steps_trained": 5614070, "grad_time_ms": 10362.831, "default": {"total_loss": 21.76403045654297, "entropy": 1.2548211812973022, "vf_explained_var": 0.9041176438331604, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 21.7663631439209, "policy_loss": -0.005436907522380352, "kl": 0.012263540178537369}, "update_time_ms": 7.869, "load_time_ms": 12.631}, "done": false, "iterations_since_restore": 141, "episode_reward_min": 783.8970392596638, "episode_reward_max": 1221.560052130065, "training_iteration": 141, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-05-55", "timestamp": 1557115555, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.53474923191769, "cost2_max": 0.0, "cost1_mean": 342.7991423211671, "system_level_velocity_mean": 13.251166162126944, "cost1_min": 245.2444037697399, "outflow_rate_min": 899.6931831532112, "system_level_velocity_max": 18.531089029774616, "cost2_min": -0.8981169968584536, "cost1_max": 486.51810789122237, "outflow_rate_mean": 1091.2896864451045, "cost2_mean": -0.05892137848782065, "outflow_rate_max": 1297.979798459221}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e17b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1240>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.25484561920166, "node_ip": "10.138.0.2", "episodes_total": 2391, "time_since_restore": 3030.3208820819855, "episode_reward_mean": 995.7285688802497, "timesteps_total": 5652054, "timesteps_since_restore": 5652054, "timesteps_this_iter": 37984, "hostname": "flow-main", "pid": 24598, "time_total_s": 3030.3208820819855, "info": {"sample_time_ms": 11696.079, "num_steps_sampled": 5652054, "num_steps_trained": 5652054, "grad_time_ms": 10255.274, "default": {"total_loss": 27.79950714111328, "entropy": 1.2214664220809937, "vf_explained_var": 0.897013783454895, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 27.805967330932617, "policy_loss": -0.010680923238396645, "kl": 0.016681665554642677}, "update_time_ms": 8.186, "load_time_ms": 12.566}, "done": false, "iterations_since_restore": 142, "episode_reward_min": 783.8970392596638, "episode_reward_max": 1326.4570906153783, "training_iteration": 142, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-06-17", "timestamp": 1557115577, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "custom_metrics": {"system_level_velocity_min": 9.53474923191769, "cost2_max": 0.0, "cost1_mean": 342.1990642611477, "system_level_velocity_mean": 13.21977137721394, "cost1_min": 245.2444037697399, "outflow_rate_min": 899.6931831532112, "system_level_velocity_max": 18.531089029774616, "cost2_min": -0.8981169968584536, "cost1_max": 486.51810789122237, "outflow_rate_mean": 1091.4848490838717, "cost2_mean": -0.06565407748857155, "outflow_rate_max": 1339.6900298886103}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1320>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.677156448364258, "node_ip": "10.138.0.2", "episodes_total": 2407, "time_since_restore": 3050.9980385303497, "episode_reward_mean": 992.3192612310111, "timesteps_total": 5691115, "timesteps_since_restore": 5691115, "timesteps_this_iter": 39061, "hostname": "flow-main", "pid": 24598, "time_total_s": 3050.9980385303497, "info": {"sample_time_ms": 11398.696, "num_steps_sampled": 5691115, "num_steps_trained": 5691115, "grad_time_ms": 10227.837, "default": {"total_loss": 22.637496948242188, "entropy": 1.2789652347564697, "vf_explained_var": 0.8884693384170532, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 22.642398834228516, "policy_loss": -0.008378209546208382, "kl": 0.013739748857915401}, "update_time_ms": 8.086, "load_time_ms": 12.428}, "done": false, "iterations_since_restore": 143, "episode_reward_min": 783.8970392596638, "episode_reward_max": 1326.4570906153783, "training_iteration": 143, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-06-37", "timestamp": 1557115597, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.53474923191769, "cost2_max": 0.0, "cost1_mean": 339.1404820157856, "system_level_velocity_mean": 13.101925336615986, "cost1_min": 245.2444037697399, "outflow_rate_min": 899.6931831532112, "system_level_velocity_max": 18.531089029774616, "cost2_min": -0.8981169968584536, "cost1_max": 486.51810789122237, "outflow_rate_mean": 1085.6699261584133, "cost2_mean": -0.07063263756481902, "outflow_rate_max": 1339.6900298886103}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4e80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e15c0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.343194246292114, "node_ip": "10.138.0.2", "episodes_total": 2425, "time_since_restore": 3073.341232776642, "episode_reward_mean": 998.5091831221719, "timesteps_total": 5729996, "timesteps_since_restore": 5729996, "timesteps_this_iter": 38881, "hostname": "flow-main", "pid": 24598, "time_total_s": 3073.341232776642, "info": {"sample_time_ms": 11491.657, "num_steps_sampled": 5729996, "num_steps_trained": 5729996, "grad_time_ms": 10169.107, "default": {"total_loss": 24.960824966430664, "entropy": 1.2044379711151123, "vf_explained_var": 0.9104039072990417, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 24.965940475463867, "policy_loss": -0.009011517278850079, "kl": 0.015397019684314728}, "update_time_ms": 8.116, "load_time_ms": 12.229}, "done": false, "iterations_since_restore": 144, "episode_reward_min": 783.8970392596638, "episode_reward_max": 1326.4570906153783, "training_iteration": 144, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-07-00", "timestamp": 1557115620, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.53474923191769, "cost2_max": 0.0, "cost1_mean": 343.0120271703161, "system_level_velocity_mean": 13.25205551942939, "cost1_min": 245.2444037697399, "outflow_rate_min": 905.6449876866959, "system_level_velocity_max": 18.90626782338037, "cost2_min": -0.5587681959569855, "cost1_max": 490.70612792707254, "outflow_rate_mean": 1093.5047920978632, "cost2_mean": -0.06656137542257604, "outflow_rate_max": 1348.8044762669442}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e12e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1978>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da550>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.48833656311035, "node_ip": "10.138.0.2", "episodes_total": 2443, "time_since_restore": 3095.829569339752, "episode_reward_mean": 997.3549493764284, "timesteps_total": 5768602, "timesteps_since_restore": 5768602, "timesteps_this_iter": 38606, "hostname": "flow-main", "pid": 24598, "time_total_s": 3095.829569339752, "info": {"sample_time_ms": 11503.125, "num_steps_sampled": 5768602, "num_steps_trained": 5768602, "grad_time_ms": 10133.245, "default": {"total_loss": 23.632524490356445, "entropy": 1.2300442457199097, "vf_explained_var": 0.9096397757530212, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 23.638517379760742, "policy_loss": -0.009617769159376621, "kl": 0.014313478954136372}, "update_time_ms": 8.096, "load_time_ms": 12.164}, "done": false, "iterations_since_restore": 145, "episode_reward_min": 783.8970392596638, "episode_reward_max": 1326.4570906153783, "training_iteration": 145, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-07-22", "timestamp": 1557115642, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.992371327702703, "cost2_max": 0.0, "cost1_mean": 343.2503073418081, "system_level_velocity_mean": 13.271004595514293, "cost1_min": 253.96329269809266, "outflow_rate_min": 905.6449876866959, "system_level_velocity_max": 18.90626782338037, "cost2_min": -0.5587681959569855, "cost1_max": 490.70612792707254, "outflow_rate_mean": 1095.5426901711835, "cost2_mean": -0.063582435174805, "outflow_rate_max": 1348.8044762669442}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcda0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc588>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce80>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.825968742370605, "node_ip": "10.138.0.2", "episodes_total": 2460, "time_since_restore": 3117.655538082123, "episode_reward_mean": 997.0446183258865, "timesteps_total": 5807925, "timesteps_since_restore": 5807925, "timesteps_this_iter": 39323, "hostname": "flow-main", "pid": 24598, "time_total_s": 3117.655538082123, "info": {"sample_time_ms": 11497.884, "num_steps_sampled": 5807925, "num_steps_trained": 5807925, "grad_time_ms": 10090.271, "default": {"total_loss": 20.835567474365234, "entropy": 1.2653967142105103, "vf_explained_var": 0.9124983549118042, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 20.84090232849121, "policy_loss": -0.009139993228018284, "kl": 0.015032344497740269}, "update_time_ms": 8.179, "load_time_ms": 12.234}, "done": false, "iterations_since_restore": 146, "episode_reward_min": 801.59964931277, "episode_reward_max": 1326.4570906153783, "training_iteration": 146, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-07-44", "timestamp": 1557115664, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.72660795100239, "cost2_max": 0.0, "cost1_mean": 346.40926760209413, "system_level_velocity_mean": 13.398063279967435, "cost1_min": 246.51000718205438, "outflow_rate_min": 905.6449876866959, "system_level_velocity_max": 18.90626782338037, "cost2_min": -1.0, "cost1_max": 490.70612792707254, "outflow_rate_mean": 1102.157438976919, "cost2_mean": -0.06122283688150208, "outflow_rate_max": 1348.8044762669442}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4e10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841160>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.927462816238403, "node_ip": "10.138.0.2", "episodes_total": 2478, "time_since_restore": 3139.583000898361, "episode_reward_mean": 995.2496005497686, "timesteps_total": 5846507, "timesteps_since_restore": 5846507, "timesteps_this_iter": 38582, "hostname": "flow-main", "pid": 24598, "time_total_s": 3139.583000898361, "info": {"sample_time_ms": 11547.079, "num_steps_sampled": 5846507, "num_steps_trained": 5846507, "grad_time_ms": 10050.546, "default": {"total_loss": 24.564836502075195, "entropy": 1.2539054155349731, "vf_explained_var": 0.9017595648765564, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 24.57049560546875, "policy_loss": -0.009347788989543915, "kl": 0.014568192884325981}, "update_time_ms": 8.053, "load_time_ms": 12.136}, "done": false, "iterations_since_restore": 147, "episode_reward_min": 805.5493930496388, "episode_reward_max": 1326.4570906153783, "training_iteration": 147, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-08-06", "timestamp": 1557115686, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.518023026221792, "cost2_max": 0.0, "cost1_mean": 346.59630402405287, "system_level_velocity_mean": 13.411287749319245, "cost1_min": 244.41211493618675, "outflow_rate_min": 911.2139607701937, "system_level_velocity_max": 18.90626782338037, "cost2_min": -1.0, "cost1_max": 490.70612792707254, "outflow_rate_mean": 1102.7227419290468, "cost2_mean": -0.06826056210199093, "outflow_rate_max": 1348.8044762669442}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daa90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da898>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 23.523877143859863, "node_ip": "10.138.0.2", "episodes_total": 2495, "time_since_restore": 3163.106878042221, "episode_reward_mean": 997.424848966266, "timesteps_total": 5886036, "timesteps_since_restore": 5886036, "timesteps_this_iter": 39529, "hostname": "flow-main", "pid": 24598, "time_total_s": 3163.106878042221, "info": {"sample_time_ms": 11579.876, "num_steps_sampled": 5886036, "num_steps_trained": 5886036, "grad_time_ms": 10144.395, "default": {"total_loss": 21.04201889038086, "entropy": 1.3110477924346924, "vf_explained_var": 0.8967138528823853, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 21.048751831054688, "policy_loss": -0.010664531029760838, "kl": 0.015530301257967949}, "update_time_ms": 7.92, "load_time_ms": 12.117}, "done": false, "iterations_since_restore": 148, "episode_reward_min": 805.5493930496388, "episode_reward_max": 1309.3960233964547, "training_iteration": 148, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-08-30", "timestamp": 1557115710, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.518023026221792, "cost2_max": 0.0, "cost1_mean": 346.61419629459704, "system_level_velocity_mean": 13.421521202364458, "cost1_min": 244.41211493618675, "outflow_rate_min": 911.2139607701937, "system_level_velocity_max": 18.90626782338037, "cost2_min": -1.0, "cost1_max": 490.70612792707254, "outflow_rate_mean": 1102.8993021800736, "cost2_mean": -0.06553119066604919, "outflow_rate_max": 1348.8044762669442}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e17f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1be0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1ac8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.34, "time_this_iter_s": 21.927485466003418, "node_ip": "10.138.0.2", "episodes_total": 2510, "time_since_restore": 3185.0343635082245, "episode_reward_mean": 982.4755417707378, "timesteps_total": 5924676, "timesteps_since_restore": 5924676, "timesteps_this_iter": 38640, "hostname": "flow-main", "pid": 24598, "time_total_s": 3185.0343635082245, "info": {"sample_time_ms": 11608.996, "num_steps_sampled": 5924676, "num_steps_trained": 5924676, "grad_time_ms": 10122.454, "default": {"total_loss": 21.14046287536621, "entropy": 1.2492424249649048, "vf_explained_var": 0.9224977493286133, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 21.145009994506836, "policy_loss": -0.008451269008219242, "kl": 0.015420238487422466}, "update_time_ms": 7.939, "load_time_ms": 12.014}, "done": false, "iterations_since_restore": 149, "episode_reward_min": 61.96972149026769, "episode_reward_max": 1309.3960233964547, "training_iteration": 149, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-08-52", "timestamp": 1557115732, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.518023026221792, "cost2_max": 0.0, "cost1_mean": 339.90186801116585, "system_level_velocity_mean": 13.34436481270625, "cost1_min": 22.914425093832797, "outflow_rate_min": 488.58344346436036, "system_level_velocity_max": 18.90626782338037, "cost2_min": -1.0, "cost1_max": 490.70612792707254, "outflow_rate_mean": 1089.9863735910048, "cost2_mean": -0.06423691029865919, "outflow_rate_max": 1348.8044762669442}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e17b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.74, "time_this_iter_s": 23.399977207183838, "node_ip": "10.138.0.2", "episodes_total": 2531, "time_since_restore": 3208.4343407154083, "episode_reward_mean": 977.582000668326, "timesteps_total": 5963697, "timesteps_since_restore": 5963697, "timesteps_this_iter": 39021, "hostname": "flow-main", "pid": 24598, "time_total_s": 3208.4343407154083, "info": {"sample_time_ms": 11811.442, "num_steps_sampled": 5963697, "num_steps_trained": 5963697, "grad_time_ms": 10138.47, "default": {"total_loss": 30.4023494720459, "entropy": 1.205206274986267, "vf_explained_var": 0.8832269906997681, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 30.407672882080078, "policy_loss": -0.00901997834444046, "kl": 0.014612564817070961}, "update_time_ms": 7.805, "load_time_ms": 11.995}, "done": false, "iterations_since_restore": 150, "episode_reward_min": 61.96972149026769, "episode_reward_max": 1330.7890126776779, "training_iteration": 150, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-09-15", "timestamp": 1557115755, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 21, "custom_metrics": {"system_level_velocity_min": 9.518023026221792, "cost2_max": 0.0, "cost1_mean": 342.45772655441715, "system_level_velocity_mean": 13.627325369978903, "cost1_min": 22.914425093832797, "outflow_rate_min": 488.58344346436036, "system_level_velocity_max": 19.12169701081466, "cost2_min": -1.0, "cost1_max": 482.60597462249734, "outflow_rate_mean": 1095.863379309263, "cost2_mean": -0.062367625535430085, "outflow_rate_max": 1334.7894014404585}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daa90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da0f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da898>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.74, "time_this_iter_s": 21.47220754623413, "node_ip": "10.138.0.2", "episodes_total": 2550, "time_since_restore": 3229.9065482616425, "episode_reward_mean": 974.2444371750779, "timesteps_total": 6003348, "timesteps_since_restore": 6003348, "timesteps_this_iter": 39651, "hostname": "flow-main", "pid": 24598, "time_total_s": 3229.9065482616425, "info": {"sample_time_ms": 11826.022, "num_steps_sampled": 6003348, "num_steps_trained": 6003348, "grad_time_ms": 10161.23, "default": {"total_loss": 22.533184051513672, "entropy": 1.2953741550445557, "vf_explained_var": 0.8904045820236206, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 22.538339614868164, "policy_loss": -0.008481415919959545, "kl": 0.013148915953934193}, "update_time_ms": 7.624, "load_time_ms": 11.724}, "done": false, "iterations_since_restore": 151, "episode_reward_min": 61.96972149026769, "episode_reward_max": 1330.7890126776779, "training_iteration": 151, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-09-36", "timestamp": 1557115776, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.518023026221792, "cost2_max": 0.0, "cost1_mean": 341.1194883867644, "system_level_velocity_mean": 13.580037137329033, "cost1_min": 22.914425093832797, "outflow_rate_min": 488.58344346436036, "system_level_velocity_max": 19.12169701081466, "cost2_min": -1.0, "cost1_max": 479.5112028826802, "outflow_rate_mean": 1094.6751831591694, "cost2_mean": -0.06676950534396292, "outflow_rate_max": 1334.7894014404585}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1fd0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1d30>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.74, "time_this_iter_s": 21.661240100860596, "node_ip": "10.138.0.2", "episodes_total": 2565, "time_since_restore": 3251.567788362503, "episode_reward_mean": 975.0439759043643, "timesteps_total": 6042828, "timesteps_since_restore": 6042828, "timesteps_this_iter": 39480, "hostname": "flow-main", "pid": 24598, "time_total_s": 3251.567788362503, "info": {"sample_time_ms": 11783.583, "num_steps_sampled": 6042828, "num_steps_trained": 6042828, "grad_time_ms": 10244.46, "default": {"total_loss": 19.593341827392578, "entropy": 1.2823594808578491, "vf_explained_var": 0.8908355236053467, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 19.599096298217773, "policy_loss": -0.009787425398826599, "kl": 0.015932459384202957}, "update_time_ms": 7.262, "load_time_ms": 11.902}, "done": false, "iterations_since_restore": 152, "episode_reward_min": 61.96972149026769, "episode_reward_max": 1330.7890126776779, "training_iteration": 152, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-09-58", "timestamp": 1557115798, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.7632933544017, "cost2_max": 0.0, "cost1_mean": 339.2964153194217, "system_level_velocity_mean": 13.512786079050763, "cost1_min": 22.914425093832797, "outflow_rate_min": 488.58344346436036, "system_level_velocity_max": 19.12169701081466, "cost2_min": -0.48375391682183244, "cost1_max": 479.5112028826802, "outflow_rate_mean": 1091.1367770689037, "cost2_mean": -0.05746690660090818, "outflow_rate_max": 1334.7894014404585}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d41d0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.74, "time_this_iter_s": 22.568334579467773, "node_ip": "10.138.0.2", "episodes_total": 2581, "time_since_restore": 3274.136122941971, "episode_reward_mean": 977.1224268855882, "timesteps_total": 6082263, "timesteps_since_restore": 6082263, "timesteps_this_iter": 39435, "hostname": "flow-main", "pid": 24598, "time_total_s": 3274.136122941971, "info": {"sample_time_ms": 11929.261, "num_steps_sampled": 6082263, "num_steps_trained": 6082263, "grad_time_ms": 10288.183, "default": {"total_loss": 20.212522506713867, "entropy": 1.2521798610687256, "vf_explained_var": 0.9033417105674744, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 20.217775344848633, "policy_loss": -0.008965080603957176, "kl": 0.014676930382847786}, "update_time_ms": 7.247, "load_time_ms": 11.539}, "done": false, "iterations_since_restore": 153, "episode_reward_min": 61.96972149026769, "episode_reward_max": 1330.7890126776779, "training_iteration": 153, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-10-21", "timestamp": 1557115821, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.7632933544017, "cost2_max": 0.0, "cost1_mean": 339.0535849113301, "system_level_velocity_mean": 13.509865197342823, "cost1_min": 22.914425093832797, "outflow_rate_min": 488.58344346436036, "system_level_velocity_max": 19.12169701081466, "cost2_min": -0.392906404393791, "cost1_max": 479.5112028826802, "outflow_rate_mean": 1092.1155941085187, "cost2_mean": -0.05705006062368563, "outflow_rate_max": 1334.7894014404585}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e14e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e12b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.74, "time_this_iter_s": 21.795377016067505, "node_ip": "10.138.0.2", "episodes_total": 2597, "time_since_restore": 3295.9314999580383, "episode_reward_mean": 975.8413183792379, "timesteps_total": 6121250, "timesteps_since_restore": 6121250, "timesteps_this_iter": 38987, "hostname": "flow-main", "pid": 24598, "time_total_s": 3295.9314999580383, "info": {"sample_time_ms": 11836.93, "num_steps_sampled": 6121250, "num_steps_trained": 6121250, "grad_time_ms": 10324.359, "default": {"total_loss": 21.429183959960938, "entropy": 1.2573168277740479, "vf_explained_var": 0.9033327698707581, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 21.432985305786133, "policy_loss": -0.007130387704819441, "kl": 0.013152153231203556}, "update_time_ms": 7.26, "load_time_ms": 11.947}, "done": false, "iterations_since_restore": 154, "episode_reward_min": 61.96972149026769, "episode_reward_max": 1330.7890126776779, "training_iteration": 154, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-10-43", "timestamp": 1557115843, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.7632933544017, "cost2_max": 0.0, "cost1_mean": 336.5302449875565, "system_level_velocity_mean": 13.4149581113491, "cost1_min": 22.914425093832797, "outflow_rate_min": 488.58344346436036, "system_level_velocity_max": 19.12169701081466, "cost2_min": -1.043458089517263, "cost1_max": 479.5112028826802, "outflow_rate_mean": 1087.608717794708, "cost2_mean": -0.07189786985242913, "outflow_rate_max": 1334.7894014404585}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dacc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da710>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dac18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.73, "time_this_iter_s": 21.41111969947815, "node_ip": "10.138.0.2", "episodes_total": 2615, "time_since_restore": 3317.3426196575165, "episode_reward_mean": 980.8732626522881, "timesteps_total": 6160160, "timesteps_since_restore": 6160160, "timesteps_this_iter": 38910, "hostname": "flow-main", "pid": 24598, "time_total_s": 3317.3426196575165, "info": {"sample_time_ms": 11713.842, "num_steps_sampled": 6160160, "num_steps_trained": 6160160, "grad_time_ms": 10339.982, "default": {"total_loss": 26.25290298461914, "entropy": 1.2380006313323975, "vf_explained_var": 0.8813618421554565, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 26.257661819458008, "policy_loss": -0.00866702664643526, "kl": 0.015438520349562168}, "update_time_ms": 7.309, "load_time_ms": 11.756}, "done": false, "iterations_since_restore": 155, "episode_reward_min": 51.5113536952955, "episode_reward_max": 1330.7890126776779, "training_iteration": 155, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-11-04", "timestamp": 1557115864, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.79889939818649, "cost2_max": 0.0, "cost1_mean": 339.26976122593385, "system_level_velocity_mean": 13.531490667461464, "cost1_min": 22.291990059785437, "outflow_rate_min": 511.6199249724631, "system_level_velocity_max": 19.12169701081466, "cost2_min": -1.043458089517263, "cost1_max": 484.70495804096765, "outflow_rate_mean": 1093.9984683785444, "cost2_mean": -0.07949361337764001, "outflow_rate_max": 1336.5119544756612}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d41d0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.33, "time_this_iter_s": 21.491631746292114, "node_ip": "10.138.0.2", "episodes_total": 2633, "time_since_restore": 3338.8342514038086, "episode_reward_mean": 977.0922020879651, "timesteps_total": 6199565, "timesteps_since_restore": 6199565, "timesteps_this_iter": 39405, "hostname": "flow-main", "pid": 24598, "time_total_s": 3338.8342514038086, "info": {"sample_time_ms": 11679.569, "num_steps_sampled": 6199565, "num_steps_trained": 6199565, "grad_time_ms": 10340.218, "default": {"total_loss": 20.94388771057129, "entropy": 1.228945255279541, "vf_explained_var": 0.9059832096099854, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 20.94974136352539, "policy_loss": -0.009718975983560085, "kl": 0.01526815164834261}, "update_time_ms": 7.309, "load_time_ms": 11.832}, "done": false, "iterations_since_restore": 156, "episode_reward_min": 51.5113536952955, "episode_reward_max": 1313.7076817131804, "training_iteration": 156, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-11-25", "timestamp": 1557115885, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.79889939818649, "cost2_max": 0.0, "cost1_mean": 336.2723234033318, "system_level_velocity_mean": 13.24678938898116, "cost1_min": 22.291990059785437, "outflow_rate_min": 511.6199249724631, "system_level_velocity_max": 18.929849045921593, "cost2_min": -1.043458089517263, "cost1_max": 484.70495804096765, "outflow_rate_mean": 1086.9221615210001, "cost2_mean": -0.09166145595548199, "outflow_rate_max": 1336.5119544756612}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1b70>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1390>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.73, "time_this_iter_s": 22.323869228363037, "node_ip": "10.138.0.2", "episodes_total": 2653, "time_since_restore": 3361.1581206321716, "episode_reward_mean": 969.6349226873949, "timesteps_total": 6238733, "timesteps_since_restore": 6238733, "timesteps_this_iter": 39168, "hostname": "flow-main", "pid": 24598, "time_total_s": 3361.1581206321716, "info": {"sample_time_ms": 11680.698, "num_steps_sampled": 6238733, "num_steps_trained": 6238733, "grad_time_ms": 10378.54, "default": {"total_loss": 24.701374053955078, "entropy": 1.2779520750045776, "vf_explained_var": 0.8792933821678162, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 24.705703735351562, "policy_loss": -0.008109268732368946, "kl": 0.014934389851987362}, "update_time_ms": 7.4, "load_time_ms": 11.933}, "done": false, "iterations_since_restore": 157, "episode_reward_min": 51.5113536952955, "episode_reward_max": 1313.7076817131804, "training_iteration": 157, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-11-48", "timestamp": 1557115908, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "custom_metrics": {"system_level_velocity_min": 8.830015068411369, "cost2_max": 0.0, "cost1_mean": 330.9174796399627, "system_level_velocity_mean": 13.229937533557356, "cost1_min": 22.291990059785437, "outflow_rate_min": 511.6199249724631, "system_level_velocity_max": 18.929849045921593, "cost2_min": -1.043458089517263, "cost1_max": 484.70495804096765, "outflow_rate_mean": 1074.8804563002889, "cost2_mean": -0.0861470497525123, "outflow_rate_max": 1336.5119544756612}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dac18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da470>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 680.04, "time_this_iter_s": 23.222288131713867, "node_ip": "10.138.0.2", "episodes_total": 2673, "time_since_restore": 3384.3804087638855, "episode_reward_mean": 963.0285833208799, "timesteps_total": 6277835, "timesteps_since_restore": 6277835, "timesteps_this_iter": 39102, "hostname": "flow-main", "pid": 24598, "time_total_s": 3384.3804087638855, "info": {"sample_time_ms": 11726.514, "num_steps_sampled": 6277835, "num_steps_trained": 6277835, "grad_time_ms": 10302.261, "default": {"total_loss": 20.80928611755371, "entropy": 1.2489900588989258, "vf_explained_var": 0.9142563939094543, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 20.813024520874023, "policy_loss": -0.006793113425374031, "kl": 0.012060027569532394}, "update_time_ms": 7.38, "load_time_ms": 12.151}, "done": false, "iterations_since_restore": 158, "episode_reward_min": 49.68853155689706, "episode_reward_max": 1313.7076817131804, "training_iteration": 158, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-12-11", "timestamp": 1557115931, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "custom_metrics": {"system_level_velocity_min": 8.830015068411369, "cost2_max": 0.0, "cost1_mean": 331.8546946099522, "system_level_velocity_mean": 13.451806415701933, "cost1_min": 20.785330370191126, "outflow_rate_min": 465.49005914671926, "system_level_velocity_max": 19.213918679746698, "cost2_min": -1.043458089517263, "cost1_max": 491.70321710097454, "outflow_rate_mean": 1076.0154859183672, "cost2_mean": -0.09596164352058979, "outflow_rate_max": 1336.5119544756612}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1f98>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 674.85, "time_this_iter_s": 21.419494152069092, "node_ip": "10.138.0.2", "episodes_total": 2688, "time_since_restore": 3405.7999029159546, "episode_reward_mean": 956.174810013173, "timesteps_total": 6316553, "timesteps_since_restore": 6316553, "timesteps_this_iter": 38718, "hostname": "flow-main", "pid": 24598, "time_total_s": 3405.7999029159546, "info": {"sample_time_ms": 11687.116, "num_steps_sampled": 6316553, "num_steps_trained": 6316553, "grad_time_ms": 10290.646, "default": {"total_loss": 19.79671287536621, "entropy": 1.2787522077560425, "vf_explained_var": 0.9117424488067627, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 19.80024528503418, "policy_loss": -0.007246008142828941, "kl": 0.014672250486910343}, "update_time_ms": 7.456, "load_time_ms": 12.238}, "done": false, "iterations_since_restore": 159, "episode_reward_min": 49.68853155689706, "episode_reward_max": 1313.7076817131804, "training_iteration": 159, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-12-33", "timestamp": 1557115953, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 8.830015068411369, "cost2_max": 0.0, "cost1_mean": 328.9902007166743, "system_level_velocity_mean": 13.486091801918777, "cost1_min": 20.785330370191126, "outflow_rate_min": 465.49005914671926, "system_level_velocity_max": 19.21895662980193, "cost2_min": -0.9490684159692794, "cost1_max": 491.70321710097454, "outflow_rate_mean": 1071.1847022787874, "cost2_mean": -0.08388467985361613, "outflow_rate_max": 1352.13088878306}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9d30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dac88>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 681.52, "time_this_iter_s": 22.748878240585327, "node_ip": "10.138.0.2", "episodes_total": 2704, "time_since_restore": 3428.54878115654, "episode_reward_mean": 970.711985547954, "timesteps_total": 6355343, "timesteps_since_restore": 6355343, "timesteps_this_iter": 38790, "hostname": "flow-main", "pid": 24598, "time_total_s": 3428.54878115654, "info": {"sample_time_ms": 11657.25, "num_steps_sampled": 6355343, "num_steps_trained": 6355343, "grad_time_ms": 10254.941, "default": {"total_loss": 21.142587661743164, "entropy": 1.1936066150665283, "vf_explained_var": 0.9274709224700928, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 21.146007537841797, "policy_loss": -0.007011763751506805, "kl": 0.014188844710588455}, "update_time_ms": 7.518, "load_time_ms": 12.446}, "done": false, "iterations_since_restore": 160, "episode_reward_min": 49.68853155689706, "episode_reward_max": 1313.7076817131804, "training_iteration": 160, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-12-55", "timestamp": 1557115975, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 8.830015068411369, "cost2_max": 0.0, "cost1_mean": 336.0820000158179, "system_level_velocity_mean": 13.588263924435037, "cost1_min": 20.785330370191126, "outflow_rate_min": 465.49005914671926, "system_level_velocity_max": 19.464436952734154, "cost2_min": -0.9490684159692794, "cost1_max": 498.0264655445499, "outflow_rate_mean": 1084.7998995707496, "cost2_mean": -0.08084462062054965, "outflow_rate_max": 1357.232455992022}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d46a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4b70>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 681.52, "time_this_iter_s": 21.636544704437256, "node_ip": "10.138.0.2", "episodes_total": 2724, "time_since_restore": 3450.185325860977, "episode_reward_mean": 972.9992206230427, "timesteps_total": 6394999, "timesteps_since_restore": 6394999, "timesteps_this_iter": 39656, "hostname": "flow-main", "pid": 24598, "time_total_s": 3450.185325860977, "info": {"sample_time_ms": 11668.661, "num_steps_sampled": 6394999, "num_steps_trained": 6394999, "grad_time_ms": 10259.64, "default": {"total_loss": 21.173871994018555, "entropy": 1.2434344291687012, "vf_explained_var": 0.9157339334487915, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 21.180347442626953, "policy_loss": -0.010272162035107613, "kl": 0.014997642487287521}, "update_time_ms": 7.46, "load_time_ms": 12.601}, "done": false, "iterations_since_restore": 161, "episode_reward_min": 49.68853155689706, "episode_reward_max": 1262.8475119069587, "training_iteration": 161, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-13-17", "timestamp": 1557115997, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "custom_metrics": {"system_level_velocity_min": 8.830015068411369, "cost2_max": 0.0, "cost1_mean": 337.2994004259537, "system_level_velocity_mean": 13.630677257114698, "cost1_min": 20.785330370191126, "outflow_rate_min": 465.49005914671926, "system_level_velocity_max": 19.464436952734154, "cost2_min": -0.9490684159692794, "cost1_max": 498.0264655445499, "outflow_rate_mean": 1089.678384955413, "cost2_mean": -0.07830111468847897, "outflow_rate_max": 1357.232455992022}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da1d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4c88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da320>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 674.94, "time_this_iter_s": 21.66110396385193, "node_ip": "10.138.0.2", "episodes_total": 2740, "time_since_restore": 3471.846429824829, "episode_reward_mean": 965.2826225577711, "timesteps_total": 6434269, "timesteps_since_restore": 6434269, "timesteps_this_iter": 39270, "hostname": "flow-main", "pid": 24598, "time_total_s": 3471.846429824829, "info": {"sample_time_ms": 11647.357, "num_steps_sampled": 6434269, "num_steps_trained": 6434269, "grad_time_ms": 10281.942, "default": {"total_loss": 22.204452514648438, "entropy": 1.2906787395477295, "vf_explained_var": 0.8880671262741089, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 22.20909881591797, "policy_loss": -0.008615977130830288, "kl": 0.015679948031902313}, "update_time_ms": 7.448, "load_time_ms": 12.51}, "done": false, "iterations_since_restore": 162, "episode_reward_min": 49.68853155689706, "episode_reward_max": 1262.8475119069587, "training_iteration": 162, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-13-39", "timestamp": 1557116019, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.49724401134164, "cost2_max": 0.0, "cost1_mean": 332.70881370454197, "system_level_velocity_mean": 13.6236875365478, "cost1_min": 20.785330370191126, "outflow_rate_min": 465.49005914671926, "system_level_velocity_max": 19.464436952734154, "cost2_min": -0.9490684159692794, "cost1_max": 498.0264655445499, "outflow_rate_mean": 1082.3607442191692, "cost2_mean": -0.08485403129057632, "outflow_rate_max": 1357.232455992022}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da9e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da0b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 681.54, "time_this_iter_s": 22.414570808410645, "node_ip": "10.138.0.2", "episodes_total": 2756, "time_since_restore": 3494.2610006332397, "episode_reward_mean": 972.4421078618548, "timesteps_total": 6474291, "timesteps_since_restore": 6474291, "timesteps_this_iter": 40022, "hostname": "flow-main", "pid": 24598, "time_total_s": 3494.2610006332397, "info": {"sample_time_ms": 11642.435, "num_steps_sampled": 6474291, "num_steps_trained": 6474291, "grad_time_ms": 10271.311, "default": {"total_loss": 20.48744010925293, "entropy": 1.2449456453323364, "vf_explained_var": 0.9141417145729065, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 20.49026107788086, "policy_loss": -0.00764175271615386, "kl": 0.019037460908293724}, "update_time_ms": 7.418, "load_time_ms": 12.944}, "done": false, "iterations_since_restore": 163, "episode_reward_min": 49.68853155689706, "episode_reward_max": 1262.8475119069587, "training_iteration": 163, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-14-01", "timestamp": 1557116041, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.49724401134164, "cost2_max": 0.0, "cost1_mean": 339.4881247845183, "system_level_velocity_mean": 13.712478825650955, "cost1_min": 20.785330370191126, "outflow_rate_min": 465.49005914671926, "system_level_velocity_max": 19.464436952734154, "cost2_min": -0.9490684159692794, "cost1_max": 498.0264655445499, "outflow_rate_mean": 1094.5046322055905, "cost2_mean": -0.10630875319811184, "outflow_rate_max": 1357.232455992022}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4e80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da240>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 681.51, "time_this_iter_s": 21.294060707092285, "node_ip": "10.138.0.2", "episodes_total": 2773, "time_since_restore": 3515.555061340332, "episode_reward_mean": 976.6585957334397, "timesteps_total": 6513730, "timesteps_since_restore": 6513730, "timesteps_this_iter": 39439, "hostname": "flow-main", "pid": 24598, "time_total_s": 3515.555061340332, "info": {"sample_time_ms": 11577.571, "num_steps_sampled": 6513730, "num_steps_trained": 6513730, "grad_time_ms": 10286.873, "default": {"total_loss": 23.63385009765625, "entropy": 1.2982333898544312, "vf_explained_var": 0.8791489005088806, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 23.639484405517578, "policy_loss": -0.009424974210560322, "kl": 0.014983203262090683}, "update_time_ms": 7.443, "load_time_ms": 12.929}, "done": false, "iterations_since_restore": 164, "episode_reward_min": 50.87445716366728, "episode_reward_max": 1262.8475119069587, "training_iteration": 164, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-14-22", "timestamp": 1557116062, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.835343125329938, "cost2_max": 0.0, "cost1_mean": 337.7863295660551, "system_level_velocity_mean": 13.638052770030543, "cost1_min": 18.914023204814978, "outflow_rate_min": 493.7011947654558, "system_level_velocity_max": 19.464436952734154, "cost2_min": -0.6254283775864169, "cost1_max": 498.0264655445499, "outflow_rate_mean": 1093.684338034472, "cost2_mean": -0.09232277429088023, "outflow_rate_max": 1357.232455992022}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da7b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dacc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dae10>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 679.93, "time_this_iter_s": 21.487154960632324, "node_ip": "10.138.0.2", "episodes_total": 2793, "time_since_restore": 3537.0422163009644, "episode_reward_mean": 970.9818203473775, "timesteps_total": 6553200, "timesteps_since_restore": 6553200, "timesteps_this_iter": 39470, "hostname": "flow-main", "pid": 24598, "time_total_s": 3537.0422163009644, "info": {"sample_time_ms": 11589.648, "num_steps_sampled": 6553200, "num_steps_trained": 6553200, "grad_time_ms": 10282.517, "default": {"total_loss": 22.735567092895508, "entropy": 1.3023616075515747, "vf_explained_var": 0.8919649124145508, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 22.739891052246094, "policy_loss": -0.007886568084359169, "kl": 0.01407137606292963}, "update_time_ms": 7.361, "load_time_ms": 12.669}, "done": false, "iterations_since_restore": 165, "episode_reward_min": 43.49694248380948, "episode_reward_max": 1262.8475119069587, "training_iteration": 165, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-14-44", "timestamp": 1557116084, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "custom_metrics": {"system_level_velocity_min": 9.835343125329938, "cost2_max": 0.0, "cost1_mean": 333.65208356385386, "system_level_velocity_mean": 13.508365922588553, "cost1_min": 15.374480362543661, "outflow_rate_min": 478.6715823005086, "system_level_velocity_max": 19.33466288826447, "cost2_min": -0.6254283775864169, "cost1_max": 494.8637514180981, "outflow_rate_mean": 1086.7333339850097, "cost2_mean": -0.08546671066403654, "outflow_rate_max": 1357.232455992022}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daeb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dad68>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 673.18, "time_this_iter_s": 22.120821952819824, "node_ip": "10.138.0.2", "episodes_total": 2811, "time_since_restore": 3559.163038253784, "episode_reward_mean": 953.4183036533313, "timesteps_total": 6592544, "timesteps_since_restore": 6592544, "timesteps_this_iter": 39344, "hostname": "flow-main", "pid": 24598, "time_total_s": 3559.163038253784, "info": {"sample_time_ms": 11670.578, "num_steps_sampled": 6592544, "num_steps_trained": 6592544, "grad_time_ms": 10265.417, "default": {"total_loss": 20.246824264526367, "entropy": 1.3139592409133911, "vf_explained_var": 0.9094690680503845, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 20.252145767211914, "policy_loss": -0.008844129741191864, "kl": 0.013917332515120506}, "update_time_ms": 7.232, "load_time_ms": 12.305}, "done": false, "iterations_since_restore": 166, "episode_reward_min": 37.240207251334276, "episode_reward_max": 1235.005399549831, "training_iteration": 166, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-15-06", "timestamp": 1557116106, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.835343125329938, "cost2_max": 0.0, "cost1_mean": 329.0479702423692, "system_level_velocity_mean": 13.513597868528896, "cost1_min": 15.374480362543661, "outflow_rate_min": 478.6715823005086, "system_level_velocity_max": 19.33466288826447, "cost2_min": -0.6254283775864169, "cost1_max": 494.8637514180981, "outflow_rate_mean": 1077.2384289427484, "cost2_mean": -0.0814029943346133, "outflow_rate_max": 1352.2691317483777}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d45f8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 673.18, "time_this_iter_s": 21.051413536071777, "node_ip": "10.138.0.2", "episodes_total": 2829, "time_since_restore": 3580.214451789856, "episode_reward_mean": 955.1603149382096, "timesteps_total": 6630339, "timesteps_since_restore": 6630339, "timesteps_this_iter": 37795, "hostname": "flow-main", "pid": 24598, "time_total_s": 3580.214451789856, "info": {"sample_time_ms": 11649.336, "num_steps_sampled": 6630339, "num_steps_trained": 6630339, "grad_time_ms": 10159.222, "default": {"total_loss": 20.922548294067383, "entropy": 1.2684227228164673, "vf_explained_var": 0.9151339530944824, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 20.928916931152344, "policy_loss": -0.010289547964930534, "kl": 0.01548722479492426}, "update_time_ms": 7.185, "load_time_ms": 12.148}, "done": false, "iterations_since_restore": 167, "episode_reward_min": 37.240207251334276, "episode_reward_max": 1235.005399549831, "training_iteration": 167, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-15-27", "timestamp": 1557116127, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.924978814809354, "cost2_max": 0.0, "cost1_mean": 327.81326303495814, "system_level_velocity_mean": 13.463945007558193, "cost1_min": 15.374480362543661, "outflow_rate_min": 478.6715823005086, "system_level_velocity_max": 19.33466288826447, "cost2_min": -0.6254283775864169, "cost1_max": 494.8637514180981, "outflow_rate_mean": 1072.6822776002118, "cost2_mean": -0.07393975399485204, "outflow_rate_max": 1352.2691317483777}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da4e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da9b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 679.76, "time_this_iter_s": 20.07554864883423, "node_ip": "10.138.0.2", "episodes_total": 2848, "time_since_restore": 3600.29000043869, "episode_reward_mean": 960.4210624989673, "timesteps_total": 6668576, "timesteps_since_restore": 6668576, "timesteps_this_iter": 38237, "hostname": "flow-main", "pid": 24598, "time_total_s": 3600.29000043869, "info": {"sample_time_ms": 11412.412, "num_steps_sampled": 6668576, "num_steps_trained": 6668576, "grad_time_ms": 10082.818, "default": {"total_loss": 22.768556594848633, "entropy": 1.31755530834198, "vf_explained_var": 0.8857653141021729, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 22.77419662475586, "policy_loss": -0.009453974664211273, "kl": 0.015072441659867764}, "update_time_ms": 7.233, "load_time_ms": 12.002}, "done": false, "iterations_since_restore": 168, "episode_reward_min": 37.240207251334276, "episode_reward_max": 1235.005399549831, "training_iteration": 168, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-15-47", "timestamp": 1557116147, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.924978814809354, "cost2_max": 0.0, "cost1_mean": 332.00440571477867, "system_level_velocity_mean": 13.449854725019186, "cost1_min": 15.374480362543661, "outflow_rate_min": 478.6715823005086, "system_level_velocity_max": 19.33466288826447, "cost2_min": -0.6110206506157155, "cost1_max": 494.8637514180981, "outflow_rate_mean": 1080.3460327343992, "cost2_mean": -0.059898329684408946, "outflow_rate_max": 1352.2691317483777}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832cc0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 677.51, "time_this_iter_s": 20.286765336990356, "node_ip": "10.138.0.2", "episodes_total": 2864, "time_since_restore": 3620.5767657756805, "episode_reward_mean": 952.0559634104363, "timesteps_total": 6706799, "timesteps_since_restore": 6706799, "timesteps_this_iter": 38223, "hostname": "flow-main", "pid": 24598, "time_total_s": 3620.5767657756805, "info": {"sample_time_ms": 11367.842, "num_steps_sampled": 6706799, "num_steps_trained": 6706799, "grad_time_ms": 10015.318, "default": {"total_loss": 21.061647415161133, "entropy": 1.2851905822753906, "vf_explained_var": 0.9165733456611633, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 21.065963745117188, "policy_loss": -0.007959547452628613, "kl": 0.014401858672499657}, "update_time_ms": 7.132, "load_time_ms": 11.467}, "done": false, "iterations_since_restore": 169, "episode_reward_min": 37.240207251334276, "episode_reward_max": 1235.005399549831, "training_iteration": 169, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-16-08", "timestamp": 1557116168, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.924978814809354, "cost2_max": 0.0, "cost1_mean": 332.4210651452024, "system_level_velocity_mean": 13.526349226780944, "cost1_min": 15.374480362543661, "outflow_rate_min": 478.6715823005086, "system_level_velocity_max": 19.2074876431844, "cost2_min": -0.5714285714285714, "cost1_max": 476.1194048684765, "outflow_rate_mean": 1080.0064206194684, "cost2_mean": -0.057018950291986385, "outflow_rate_max": 1352.2691317483777}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da518>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da8d0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 684.23, "time_this_iter_s": 20.98238182067871, "node_ip": "10.138.0.2", "episodes_total": 2879, "time_since_restore": 3641.5591475963593, "episode_reward_mean": 962.692477575112, "timesteps_total": 6746560, "timesteps_since_restore": 6746560, "timesteps_this_iter": 39761, "hostname": "flow-main", "pid": 24598, "time_total_s": 3641.5591475963593, "info": {"sample_time_ms": 11207.568, "num_steps_sampled": 6746560, "num_steps_trained": 6746560, "grad_time_ms": 10000.236, "default": {"total_loss": 18.235820770263672, "entropy": 1.3374643325805664, "vf_explained_var": 0.8880124688148499, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 18.241853713989258, "policy_loss": -0.010069855488836765, "kl": 0.01595151051878929}, "update_time_ms": 7.047, "load_time_ms": 11.254}, "done": false, "iterations_since_restore": 170, "episode_reward_min": 37.240207251334276, "episode_reward_max": 1235.005399549831, "training_iteration": 170, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-16-29", "timestamp": 1557116189, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.924978814809354, "cost2_max": 0.0, "cost1_mean": 338.30743971048827, "system_level_velocity_mean": 13.576894164111092, "cost1_min": 15.374480362543661, "outflow_rate_min": 478.6715823005086, "system_level_velocity_max": 19.2074876431844, "cost2_min": -0.5714285714285714, "cost1_max": 476.1194048684765, "outflow_rate_mean": 1089.5252702707276, "cost2_mean": -0.06220908034944011, "outflow_rate_max": 1352.2691317483777}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daeb8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da4e0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 679.6, "time_this_iter_s": 20.98203182220459, "node_ip": "10.138.0.2", "episodes_total": 2898, "time_since_restore": 3662.541179418564, "episode_reward_mean": 955.3734445670594, "timesteps_total": 6786480, "timesteps_since_restore": 6786480, "timesteps_this_iter": 39920, "hostname": "flow-main", "pid": 24598, "time_total_s": 3662.541179418564, "info": {"sample_time_ms": 11155.14, "num_steps_sampled": 6786480, "num_steps_trained": 6786480, "grad_time_ms": 9987.796, "default": {"total_loss": 28.272037506103516, "entropy": 1.275481104850769, "vf_explained_var": 0.8601060509681702, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 28.276620864868164, "policy_loss": -0.008708606474101543, "kl": 0.016288945451378822}, "update_time_ms": 6.99, "load_time_ms": 11.168}, "done": false, "iterations_since_restore": 171, "episode_reward_min": 67.68760619242465, "episode_reward_max": 1235.005399549831, "training_iteration": 171, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-16-50", "timestamp": 1557116210, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.924978814809354, "cost2_max": 0.0, "cost1_mean": 337.21065710852423, "system_level_velocity_mean": 13.677416317114071, "cost1_min": 27.121969345009884, "outflow_rate_min": 517.8503360346278, "system_level_velocity_max": 19.2074876431844, "cost2_min": -0.9108015107960071, "cost1_max": 476.1194048684765, "outflow_rate_mean": 1088.9492434833162, "cost2_mean": -0.07206963613501673, "outflow_rate_max": 1352.2691317483777}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc1d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc0b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 679.6, "time_this_iter_s": 20.29700779914856, "node_ip": "10.138.0.2", "episodes_total": 2917, "time_since_restore": 3682.8381872177124, "episode_reward_mean": 957.2539652702649, "timesteps_total": 6825676, "timesteps_since_restore": 6825676, "timesteps_this_iter": 39196, "hostname": "flow-main", "pid": 24598, "time_total_s": 3682.8381872177124, "info": {"sample_time_ms": 11071.394, "num_steps_sampled": 6825676, "num_steps_trained": 6825676, "grad_time_ms": 9935.161, "default": {"total_loss": 26.039907455444336, "entropy": 1.2921500205993652, "vf_explained_var": 0.8811042308807373, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 26.04546546936035, "policy_loss": -0.00959244929254055, "kl": 0.015935370698571205}, "update_time_ms": 6.961, "load_time_ms": 11.145}, "done": false, "iterations_since_restore": 172, "episode_reward_min": 67.68760619242465, "episode_reward_max": 1225.9230798029228, "training_iteration": 172, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-17-10", "timestamp": 1557116230, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.959168898951496, "cost2_max": 0.0, "cost1_mean": 335.72919024042216, "system_level_velocity_mean": 13.619183687670498, "cost1_min": 27.121969345009884, "outflow_rate_min": 517.8503360346278, "system_level_velocity_max": 19.450969921101095, "cost2_min": -0.9108015107960071, "cost1_max": 502.6851087247466, "outflow_rate_mean": 1083.3561650555848, "cost2_mean": -0.07296236899770359, "outflow_rate_max": 1333.360203343309}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da518>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 679.6, "time_this_iter_s": 20.401793003082275, "node_ip": "10.138.0.2", "episodes_total": 2935, "time_since_restore": 3703.2399802207947, "episode_reward_mean": 954.209057097693, "timesteps_total": 6864368, "timesteps_since_restore": 6864368, "timesteps_this_iter": 38692, "hostname": "flow-main", "pid": 24598, "time_total_s": 3703.2399802207947, "info": {"sample_time_ms": 10912.614, "num_steps_sampled": 6864368, "num_steps_trained": 6864368, "grad_time_ms": 9890.741, "default": {"total_loss": 25.76112937927246, "entropy": 1.3154970407485962, "vf_explained_var": 0.876066267490387, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 25.766042709350586, "policy_loss": -0.008352987468242645, "kl": 0.013580966740846634}, "update_time_ms": 7.077, "load_time_ms": 11.089}, "done": false, "iterations_since_restore": 173, "episode_reward_min": 67.68760619242465, "episode_reward_max": 1225.9230798029228, "training_iteration": 173, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-17-30", "timestamp": 1557116250, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.959168898951496, "cost2_max": 0.0, "cost1_mean": 332.479160543795, "system_level_velocity_mean": 13.492044392742377, "cost1_min": 27.121969345009884, "outflow_rate_min": 517.8503360346278, "system_level_velocity_max": 19.450969921101095, "cost2_min": -0.9108015107960071, "cost1_max": 502.6851087247466, "outflow_rate_mean": 1077.9776279113296, "cost2_mean": -0.06355733328668578, "outflow_rate_max": 1328.4008981661252}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dac18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da4a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da390>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 679.6, "time_this_iter_s": 21.48081612586975, "node_ip": "10.138.0.2", "episodes_total": 2952, "time_since_restore": 3724.7207963466644, "episode_reward_mean": 954.4348770798341, "timesteps_total": 6903286, "timesteps_since_restore": 6903286, "timesteps_this_iter": 38918, "hostname": "flow-main", "pid": 24598, "time_total_s": 3724.7207963466644, "info": {"sample_time_ms": 11005.88, "num_steps_sampled": 6903286, "num_steps_trained": 6903286, "grad_time_ms": 9816.106, "default": {"total_loss": 21.491125106811523, "entropy": 1.3018532991409302, "vf_explained_var": 0.893613338470459, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 21.496761322021484, "policy_loss": -0.009923921898007393, "kl": 0.016926050186157227}, "update_time_ms": 7.114, "load_time_ms": 10.947}, "done": false, "iterations_since_restore": 174, "episode_reward_min": 67.68760619242465, "episode_reward_max": 1225.9230798029228, "training_iteration": 174, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-17-52", "timestamp": 1557116272, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 10.190452463535232, "cost2_max": 0.0, "cost1_mean": 332.5347211900927, "system_level_velocity_mean": 13.491714078607506, "cost1_min": 27.121969345009884, "outflow_rate_min": 517.8503360346278, "system_level_velocity_max": 19.450969921101095, "cost2_min": -0.9108015107960071, "cost1_max": 502.6851087247466, "outflow_rate_mean": 1079.005216101741, "cost2_mean": -0.06117488461573396, "outflow_rate_max": 1328.4008981661252}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d83c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8b38>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 681.85, "time_this_iter_s": 21.204617738723755, "node_ip": "10.138.0.2", "episodes_total": 2969, "time_since_restore": 3745.925414085388, "episode_reward_mean": 952.0599670957314, "timesteps_total": 6942424, "timesteps_since_restore": 6942424, "timesteps_this_iter": 39138, "hostname": "flow-main", "pid": 24598, "time_total_s": 3745.925414085388, "info": {"sample_time_ms": 10967.869, "num_steps_sampled": 6942424, "num_steps_trained": 6942424, "grad_time_ms": 9826.057, "default": {"total_loss": 20.626047134399414, "entropy": 1.3106038570404053, "vf_explained_var": 0.9029787182807922, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 20.63091468811035, "policy_loss": -0.009005661122500896, "kl": 0.01634381152689457}, "update_time_ms": 7.114, "load_time_ms": 11.297}, "done": false, "iterations_since_restore": 175, "episode_reward_min": 67.68760619242465, "episode_reward_max": 1225.9230798029228, "training_iteration": 175, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-18-13", "timestamp": 1557116293, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.957110923264315, "cost2_max": 0.0, "cost1_mean": 329.3853642069527, "system_level_velocity_mean": 13.310757376579222, "cost1_min": 27.121969345009884, "outflow_rate_min": 517.8503360346278, "system_level_velocity_max": 19.450969921101095, "cost2_min": -0.9811484007412994, "cost1_max": 502.6851087247466, "outflow_rate_mean": 1075.1541406958384, "cost2_mean": -0.059994790534053405, "outflow_rate_max": 1321.2183925996383}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dae80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da080>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 687.9, "time_this_iter_s": 20.95114827156067, "node_ip": "10.138.0.2", "episodes_total": 2985, "time_since_restore": 3766.876562356949, "episode_reward_mean": 953.4396745187363, "timesteps_total": 6982059, "timesteps_since_restore": 6982059, "timesteps_this_iter": 39635, "hostname": "flow-main", "pid": 24598, "time_total_s": 3766.876562356949, "info": {"sample_time_ms": 10875.284, "num_steps_sampled": 6982059, "num_steps_trained": 6982059, "grad_time_ms": 9800.923, "default": {"total_loss": 21.486650466918945, "entropy": 1.344785451889038, "vf_explained_var": 0.888256311416626, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 21.492412567138672, "policy_loss": -0.010007897391915321, "kl": 0.016779707744717598}, "update_time_ms": 7.082, "load_time_ms": 11.471}, "done": false, "iterations_since_restore": 176, "episode_reward_min": 67.68760619242465, "episode_reward_max": 1225.9230798029228, "training_iteration": 176, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-18-34", "timestamp": 1557116314, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.957110923264315, "cost2_max": 0.0, "cost1_mean": 328.4605599873001, "system_level_velocity_mean": 13.112679795522332, "cost1_min": 31.556625088489213, "outflow_rate_min": 547.344893258189, "system_level_velocity_max": 19.450969921101095, "cost2_min": -0.9811484007412994, "cost1_max": 502.6851087247466, "outflow_rate_mean": 1072.8046822039653, "cost2_mean": -0.04941106116575036, "outflow_rate_max": 1321.2183925996383}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da1d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daf28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dad68>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 694.43, "time_this_iter_s": 20.879578590393066, "node_ip": "10.138.0.2", "episodes_total": 3001, "time_since_restore": 3787.756140947342, "episode_reward_mean": 959.9171973653105, "timesteps_total": 7022592, "timesteps_since_restore": 7022592, "timesteps_this_iter": 40533, "hostname": "flow-main", "pid": 24598, "time_total_s": 3787.756140947342, "info": {"sample_time_ms": 10801.235, "num_steps_sampled": 7022592, "num_steps_trained": 7022592, "grad_time_ms": 9858.216, "default": {"total_loss": 19.188838958740234, "entropy": 1.327531099319458, "vf_explained_var": 0.9007968902587891, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 19.19386863708496, "policy_loss": -0.00932588241994381, "kl": 0.016981055960059166}, "update_time_ms": 7.188, "load_time_ms": 11.468}, "done": false, "iterations_since_restore": 177, "episode_reward_min": 242.21140959751364, "episode_reward_max": 1225.9230798029228, "training_iteration": 177, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-18-55", "timestamp": 1557116335, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.957110923264315, "cost2_max": 0.0, "cost1_mean": 330.4252848076601, "system_level_velocity_mean": 13.01732333569785, "cost1_min": 98.47778798733573, "outflow_rate_min": 775.6272117429162, "system_level_velocity_max": 19.450969921101095, "cost2_min": -0.9811484007412994, "cost1_max": 502.6851087247466, "outflow_rate_mean": 1076.465345966927, "cost2_mean": -0.048459702632171496, "outflow_rate_max": 1321.2183925996383}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d46d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d42b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 694.43, "time_this_iter_s": 20.24737524986267, "node_ip": "10.138.0.2", "episodes_total": 3017, "time_since_restore": 3808.0035161972046, "episode_reward_mean": 956.1241099475542, "timesteps_total": 7061531, "timesteps_since_restore": 7061531, "timesteps_this_iter": 38939, "hostname": "flow-main", "pid": 24598, "time_total_s": 3808.0035161972046, "info": {"sample_time_ms": 10795.606, "num_steps_sampled": 7061531, "num_steps_trained": 7061531, "grad_time_ms": 9880.542, "default": {"total_loss": 21.4785099029541, "entropy": 1.3111612796783447, "vf_explained_var": 0.9037506580352783, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 21.483407974243164, "policy_loss": -0.008651234209537506, "kl": 0.014823425561189651}, "update_time_ms": 7.108, "load_time_ms": 11.545}, "done": false, "iterations_since_restore": 178, "episode_reward_min": 242.21140959751364, "episode_reward_max": 1212.8031802713174, "training_iteration": 178, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-19-15", "timestamp": 1557116355, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.365691925054138, "cost2_max": 0.0, "cost1_mean": 328.070553651235, "system_level_velocity_mean": 12.918588728652052, "cost1_min": 98.47778798733573, "outflow_rate_min": 775.6272117429162, "system_level_velocity_max": 18.93134878280426, "cost2_min": -0.9811484007412994, "cost1_max": 471.36897984019345, "outflow_rate_mean": 1072.0402149880993, "cost2_mean": -0.04529391593308108, "outflow_rate_max": 1321.2183925996383}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1b70>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e15c0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 694.43, "time_this_iter_s": 20.715841054916382, "node_ip": "10.138.0.2", "episodes_total": 3036, "time_since_restore": 3828.719357252121, "episode_reward_mean": 961.7836446336904, "timesteps_total": 7100990, "timesteps_since_restore": 7100990, "timesteps_this_iter": 39459, "hostname": "flow-main", "pid": 24598, "time_total_s": 3828.719357252121, "info": {"sample_time_ms": 10796.52, "num_steps_sampled": 7100990, "num_steps_trained": 7100990, "grad_time_ms": 9921.013, "default": {"total_loss": 23.117048263549805, "entropy": 1.3060698509216309, "vf_explained_var": 0.891046404838562, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 23.12238121032715, "policy_loss": -0.009440799243748188, "kl": 0.01623261347413063}, "update_time_ms": 7.107, "load_time_ms": 12.208}, "done": false, "iterations_since_restore": 179, "episode_reward_min": 242.21140959751364, "episode_reward_max": 1212.8031802713174, "training_iteration": 179, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-19-36", "timestamp": 1557116376, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.365691925054138, "cost2_max": 0.0, "cost1_mean": 331.40499357016364, "system_level_velocity_mean": 13.040489432890304, "cost1_min": 98.47778798733573, "outflow_rate_min": 775.6272117429162, "system_level_velocity_max": 18.93134878280426, "cost2_min": -0.9811484007412994, "cost1_max": 464.8032828197895, "outflow_rate_mean": 1076.8188978279434, "cost2_mean": -0.04979015872955633, "outflow_rate_max": 1321.2183925996383}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768329b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 694.43, "time_this_iter_s": 20.11522889137268, "node_ip": "10.138.0.2", "episodes_total": 3055, "time_since_restore": 3848.8345861434937, "episode_reward_mean": 964.2595684790286, "timesteps_total": 7139839, "timesteps_since_restore": 7139839, "timesteps_this_iter": 38849, "hostname": "flow-main", "pid": 24598, "time_total_s": 3848.8345861434937, "info": {"sample_time_ms": 10773.11, "num_steps_sampled": 7139839, "num_steps_trained": 7139839, "grad_time_ms": 9856.843, "default": {"total_loss": 23.07909393310547, "entropy": 1.3092172145843506, "vf_explained_var": 0.9104006886482239, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 23.086698532104492, "policy_loss": -0.012105370871722698, "kl": 0.017778148874640465}, "update_time_ms": 7.164, "load_time_ms": 12.31}, "done": false, "iterations_since_restore": 180, "episode_reward_min": 242.21140959751364, "episode_reward_max": 1220.740743973466, "training_iteration": 180, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-19-56", "timestamp": 1557116396, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.365691925054138, "cost2_max": 0.0, "cost1_mean": 328.2935992017117, "system_level_velocity_mean": 12.917799851344041, "cost1_min": 98.47778798733573, "outflow_rate_min": 775.6272117429162, "system_level_velocity_max": 18.93134878280426, "cost2_min": -0.9811484007412994, "cost1_max": 464.8032828197895, "outflow_rate_mean": 1071.2955445756322, "cost2_mean": -0.06078046044642557, "outflow_rate_max": 1316.3120562747856}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d42b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4e48>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 694.43, "time_this_iter_s": 19.74974489212036, "node_ip": "10.138.0.2", "episodes_total": 3071, "time_since_restore": 3868.584331035614, "episode_reward_mean": 976.6190880209473, "timesteps_total": 7178329, "timesteps_since_restore": 7178329, "timesteps_this_iter": 38490, "hostname": "flow-main", "pid": 24598, "time_total_s": 3868.584331035614, "info": {"sample_time_ms": 10728.514, "num_steps_sampled": 7178329, "num_steps_trained": 7178329, "grad_time_ms": 9777.78, "default": {"total_loss": 23.9036808013916, "entropy": 1.341577172279358, "vf_explained_var": 0.8761691451072693, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 23.907516479492188, "policy_loss": -0.007832085713744164, "kl": 0.015789425000548363}, "update_time_ms": 7.255, "load_time_ms": 12.29}, "done": false, "iterations_since_restore": 181, "episode_reward_min": 242.21140959751364, "episode_reward_max": 1220.740743973466, "training_iteration": 181, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-20-16", "timestamp": 1557116416, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.365691925054138, "cost2_max": 0.0, "cost1_mean": 332.53470540095606, "system_level_velocity_mean": 13.070911149919162, "cost1_min": 98.47778798733573, "outflow_rate_min": 775.6272117429162, "system_level_velocity_max": 18.93134878280426, "cost2_min": -0.6643895038788379, "cost1_max": 458.37270417929454, "outflow_rate_mean": 1078.3630866241756, "cost2_mean": -0.047842568239201515, "outflow_rate_max": 1302.7253403372104}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1358>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1e48>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.354392290115356, "node_ip": "10.138.0.2", "episodes_total": 3087, "time_since_restore": 3889.9387233257294, "episode_reward_mean": 981.7316440389814, "timesteps_total": 7217501, "timesteps_since_restore": 7217501, "timesteps_this_iter": 39172, "hostname": "flow-main", "pid": 24598, "time_total_s": 3889.9387233257294, "info": {"sample_time_ms": 10839.696, "num_steps_sampled": 7217501, "num_steps_trained": 7217501, "grad_time_ms": 9771.728, "default": {"total_loss": 20.18284034729004, "entropy": 1.3605005741119385, "vf_explained_var": 0.9169149994850159, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 20.188291549682617, "policy_loss": -0.009562165476381779, "kl": 0.01624308153986931}, "update_time_ms": 7.37, "load_time_ms": 12.367}, "done": false, "iterations_since_restore": 182, "episode_reward_min": 794.9698394817032, "episode_reward_max": 1220.740743973466, "training_iteration": 182, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-20-37", "timestamp": 1557116437, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.365691925054138, "cost2_max": 0.0, "cost1_mean": 335.7150266522063, "system_level_velocity_mean": 13.043756416671735, "cost1_min": 235.66363268825194, "outflow_rate_min": 890.5219454273922, "system_level_velocity_max": 17.70430225819065, "cost2_min": -0.9767022476163246, "cost1_max": 458.37270417929454, "outflow_rate_mean": 1083.5128198326377, "cost2_mean": -0.06949813756309306, "outflow_rate_max": 1302.7253403372104}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768322e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832630>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f28>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.58464288711548, "node_ip": "10.138.0.2", "episodes_total": 3103, "time_since_restore": 3910.523366212845, "episode_reward_mean": 987.1092372988732, "timesteps_total": 7256696, "timesteps_since_restore": 7256696, "timesteps_this_iter": 39195, "hostname": "flow-main", "pid": 24598, "time_total_s": 3910.523366212845, "info": {"sample_time_ms": 10835.894, "num_steps_sampled": 7256696, "num_steps_trained": 7256696, "grad_time_ms": 9796.335, "default": {"total_loss": 22.049633026123047, "entropy": 1.3184545040130615, "vf_explained_var": 0.916240930557251, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 22.05557632446289, "policy_loss": -0.010046791285276413, "kl": 0.016215406358242035}, "update_time_ms": 7.303, "load_time_ms": 12.048}, "done": false, "iterations_since_restore": 183, "episode_reward_min": 775.1792124455002, "episode_reward_max": 1220.740743973466, "training_iteration": 183, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-20-58", "timestamp": 1557116458, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.299284500380137, "cost2_max": 0.0, "cost1_mean": 339.68827611687635, "system_level_velocity_mean": 13.19486243083159, "cost1_min": 235.66363268825194, "outflow_rate_min": 890.5219454273922, "system_level_velocity_max": 19.08541911822884, "cost2_min": -0.9767022476163246, "cost1_max": 489.5063787304137, "outflow_rate_mean": 1091.3493273855079, "cost2_mean": -0.07164107751199258, "outflow_rate_max": 1335.266849079068}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d46d8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1438>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.934679746627808, "node_ip": "10.138.0.2", "episodes_total": 3120, "time_since_restore": 3931.4580459594727, "episode_reward_mean": 986.9955131085853, "timesteps_total": 7295887, "timesteps_since_restore": 7295887, "timesteps_this_iter": 39191, "hostname": "flow-main", "pid": 24598, "time_total_s": 3931.4580459594727, "info": {"sample_time_ms": 10743.773, "num_steps_sampled": 7295887, "num_steps_trained": 7295887, "grad_time_ms": 9834.694, "default": {"total_loss": 19.7609920501709, "entropy": 1.3407052755355835, "vf_explained_var": 0.9186460971832275, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 19.766843795776367, "policy_loss": -0.010100672021508217, "kl": 0.016788115724921227}, "update_time_ms": 7.249, "load_time_ms": 11.58}, "done": false, "iterations_since_restore": 184, "episode_reward_min": 775.1792124455002, "episode_reward_max": 1220.740743973466, "training_iteration": 184, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-21-19", "timestamp": 1557116479, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.299284500380137, "cost2_max": 0.0, "cost1_mean": 340.3126860371238, "system_level_velocity_mean": 13.221651108118742, "cost1_min": 237.55410816497584, "outflow_rate_min": 906.4354156091983, "system_level_velocity_max": 19.08541911822884, "cost2_min": -0.9767022476163246, "cost1_max": 489.5063787304137, "outflow_rate_mean": 1094.9518116218565, "cost2_mean": -0.0751622814298954, "outflow_rate_max": 1335.266849079068}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3668>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 694.15, "time_this_iter_s": 21.342664003372192, "node_ip": "10.138.0.2", "episodes_total": 3139, "time_since_restore": 3952.800709962845, "episode_reward_mean": 977.6437930638273, "timesteps_total": 7334779, "timesteps_since_restore": 7334779, "timesteps_this_iter": 38892, "hostname": "flow-main", "pid": 24598, "time_total_s": 3952.800709962845, "info": {"sample_time_ms": 10797.696, "num_steps_sampled": 7334779, "num_steps_trained": 7334779, "grad_time_ms": 9793.248, "default": {"total_loss": 28.50843048095703, "entropy": 1.353564977645874, "vf_explained_var": 0.8770899772644043, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 28.51348114013672, "policy_loss": -0.008777284994721413, "kl": 0.014710530638694763}, "update_time_ms": 7.424, "load_time_ms": 11.781}, "done": false, "iterations_since_restore": 185, "episode_reward_min": 195.6560033068947, "episode_reward_max": 1220.740743973466, "training_iteration": 185, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-21-40", "timestamp": 1557116500, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.299284500380137, "cost2_max": 0.0, "cost1_mean": 338.6853366586518, "system_level_velocity_mean": 13.319244335613192, "cost1_min": 77.31561324281884, "outflow_rate_min": 703.5671824958987, "system_level_velocity_max": 19.08541911822884, "cost2_min": -0.9767022476163246, "cost1_max": 489.5063787304137, "outflow_rate_mean": 1093.559992129126, "cost2_mean": -0.08063592021420232, "outflow_rate_max": 1335.266849079068}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1c50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d42b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 694.15, "time_this_iter_s": 20.35236120223999, "node_ip": "10.138.0.2", "episodes_total": 3157, "time_since_restore": 3973.153071165085, "episode_reward_mean": 975.1952128612356, "timesteps_total": 7373762, "timesteps_since_restore": 7373762, "timesteps_this_iter": 38983, "hostname": "flow-main", "pid": 24598, "time_total_s": 3973.153071165085, "info": {"sample_time_ms": 10764.472, "num_steps_sampled": 7373762, "num_steps_trained": 7373762, "grad_time_ms": 9766.528, "default": {"total_loss": 21.606840133666992, "entropy": 1.3880645036697388, "vf_explained_var": 0.8725134134292603, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 21.61328125, "policy_loss": -0.010268811136484146, "kl": 0.01512568537145853}, "update_time_ms": 7.569, "load_time_ms": 12.046}, "done": false, "iterations_since_restore": 186, "episode_reward_min": 195.6560033068947, "episode_reward_max": 1216.8084195334454, "training_iteration": 186, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-22-01", "timestamp": 1557116521, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.299284500380137, "cost2_max": 0.0, "cost1_mean": 339.29747901900527, "system_level_velocity_mean": 13.348166675561494, "cost1_min": 77.31561324281884, "outflow_rate_min": 703.5671824958987, "system_level_velocity_max": 19.08541911822884, "cost2_min": -0.9767022476163246, "cost1_max": 489.5063787304137, "outflow_rate_mean": 1095.512745501612, "cost2_mean": -0.07757325377995429, "outflow_rate_max": 1335.266849079068}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f32b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f35c0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 694.15, "time_this_iter_s": 21.090054035186768, "node_ip": "10.138.0.2", "episodes_total": 3174, "time_since_restore": 3994.2431252002716, "episode_reward_mean": 961.0065029772808, "timesteps_total": 7412318, "timesteps_since_restore": 7412318, "timesteps_this_iter": 38556, "hostname": "flow-main", "pid": 24598, "time_total_s": 3994.2431252002716, "info": {"sample_time_ms": 10812.857, "num_steps_sampled": 7412318, "num_steps_trained": 7412318, "grad_time_ms": 9737.518, "default": {"total_loss": 22.150190353393555, "entropy": 1.3802536725997925, "vf_explained_var": 0.9022462368011475, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 22.157773971557617, "policy_loss": -0.011516950093209743, "kl": 0.015543006360530853}, "update_time_ms": 7.693, "load_time_ms": 12.651}, "done": false, "iterations_since_restore": 187, "episode_reward_min": 195.6560033068947, "episode_reward_max": 1216.8084195334454, "training_iteration": 187, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-22-22", "timestamp": 1557116542, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 8.400891649827829, "cost2_max": 0.0, "cost1_mean": 334.79304714979577, "system_level_velocity_mean": 13.179871857198032, "cost1_min": 77.31561324281884, "outflow_rate_min": 703.5671824958987, "system_level_velocity_max": 19.08541911822884, "cost2_min": -1.3366196167479136, "cost1_max": 489.5063787304137, "outflow_rate_mean": 1087.1658562431207, "cost2_mean": -0.09188677535030429, "outflow_rate_max": 1335.266849079068}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e17b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1198>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 687.42, "time_this_iter_s": 21.238847255706787, "node_ip": "10.138.0.2", "episodes_total": 3190, "time_since_restore": 4015.4819724559784, "episode_reward_mean": 951.9893904617652, "timesteps_total": 7451490, "timesteps_since_restore": 7451490, "timesteps_this_iter": 39172, "hostname": "flow-main", "pid": 24598, "time_total_s": 4015.4819724559784, "info": {"sample_time_ms": 10904.623, "num_steps_sampled": 7451490, "num_steps_trained": 7451490, "grad_time_ms": 9745.145, "default": {"total_loss": 22.48792266845703, "entropy": 1.4073452949523926, "vf_explained_var": 0.878968358039856, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 22.49216651916504, "policy_loss": -0.008069062605500221, "kl": 0.015113821253180504}, "update_time_ms": 7.91, "load_time_ms": 12.65}, "done": false, "iterations_since_restore": 188, "episode_reward_min": 39.44454597248846, "episode_reward_max": 1216.8084195334454, "training_iteration": 188, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-22-43", "timestamp": 1557116563, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 8.400891649827829, "cost2_max": 0.0, "cost1_mean": 330.4287492607705, "system_level_velocity_mean": 13.189614059612147, "cost1_min": 17.70058268520205, "outflow_rate_min": 487.8590816741719, "system_level_velocity_max": 19.08541911822884, "cost2_min": -1.3366196167479136, "cost1_max": 489.5063787304137, "outflow_rate_mean": 1078.3224104143626, "cost2_mean": -0.09050556245659734, "outflow_rate_max": 1335.266849079068}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e17f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1b00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e10b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 687.42, "time_this_iter_s": 21.38706088066101, "node_ip": "10.138.0.2", "episodes_total": 3205, "time_since_restore": 4036.8690333366394, "episode_reward_mean": 950.6602734324869, "timesteps_total": 7491313, "timesteps_since_restore": 7491313, "timesteps_this_iter": 39823, "hostname": "flow-main", "pid": 24598, "time_total_s": 4036.8690333366394, "info": {"sample_time_ms": 10958.511, "num_steps_sampled": 7491313, "num_steps_trained": 7491313, "grad_time_ms": 9758.501, "default": {"total_loss": 17.25670051574707, "entropy": 1.3915929794311523, "vf_explained_var": 0.9076982736587524, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 17.262401580810547, "policy_loss": -0.009883657097816467, "kl": 0.016522999852895737}, "update_time_ms": 7.815, "load_time_ms": 12.73}, "done": false, "iterations_since_restore": 189, "episode_reward_min": 39.44454597248846, "episode_reward_max": 1216.8084195334454, "training_iteration": 189, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-23-04", "timestamp": 1557116584, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 8.400891649827829, "cost2_max": 0.0, "cost1_mean": 330.478462007522, "system_level_velocity_mean": 13.178731241185993, "cost1_min": 17.70058268520205, "outflow_rate_min": 487.8590816741719, "system_level_velocity_max": 18.955245362752866, "cost2_min": -1.3366196167479136, "cost1_max": 462.2622348485381, "outflow_rate_mean": 1078.382048388051, "cost2_mean": -0.09363016629048047, "outflow_rate_max": 1321.116345394277}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3e10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f35c0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.27, "time_this_iter_s": 22.519323587417603, "node_ip": "10.138.0.2", "episodes_total": 3224, "time_since_restore": 4059.388356924057, "episode_reward_mean": 954.2989148069141, "timesteps_total": 7531312, "timesteps_since_restore": 7531312, "timesteps_this_iter": 39999, "hostname": "flow-main", "pid": 24598, "time_total_s": 4059.388356924057, "info": {"sample_time_ms": 11127.53, "num_steps_sampled": 7531312, "num_steps_trained": 7531312, "grad_time_ms": 9830.313, "default": {"total_loss": 27.564950942993164, "entropy": 1.336162805557251, "vf_explained_var": 0.8915655612945557, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 27.57029914855957, "policy_loss": -0.00945513229817152, "kl": 0.016224779188632965}, "update_time_ms": 7.816, "load_time_ms": 12.897}, "done": false, "iterations_since_restore": 190, "episode_reward_min": 39.44454597248846, "episode_reward_max": 1216.8084195334454, "training_iteration": 190, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-23-27", "timestamp": 1557116607, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 8.400891649827829, "cost2_max": 0.0, "cost1_mean": 329.13741372616636, "system_level_velocity_mean": 12.971021303947541, "cost1_min": 17.70058268520205, "outflow_rate_min": 487.8590816741719, "system_level_velocity_max": 18.955245362752866, "cost2_min": -1.3366196167479136, "cost1_max": 462.2622348485381, "outflow_rate_mean": 1073.370999384852, "cost2_mean": -0.09164356685313743, "outflow_rate_max": 1321.116345394277}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e15c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1fd0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e15f8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.27, "time_this_iter_s": 20.30466604232788, "node_ip": "10.138.0.2", "episodes_total": 3243, "time_since_restore": 4079.693022966385, "episode_reward_mean": 960.9221214414574, "timesteps_total": 7569946, "timesteps_since_restore": 7569946, "timesteps_this_iter": 38634, "hostname": "flow-main", "pid": 24598, "time_total_s": 4079.693022966385, "info": {"sample_time_ms": 11264.728, "num_steps_sampled": 7569946, "num_steps_trained": 7569946, "grad_time_ms": 9748.266, "default": {"total_loss": 23.896753311157227, "entropy": 1.3513051271438599, "vf_explained_var": 0.908395528793335, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 23.901487350463867, "policy_loss": -0.008579107001423836, "kl": 0.015194753184914589}, "update_time_ms": 7.715, "load_time_ms": 12.976}, "done": false, "iterations_since_restore": 191, "episode_reward_min": 39.44454597248846, "episode_reward_max": 1221.455391824172, "training_iteration": 191, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-23-47", "timestamp": 1557116627, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 8.400891649827829, "cost2_max": 0.0, "cost1_mean": 330.56486577560065, "system_level_velocity_mean": 13.022431398923429, "cost1_min": 17.70058268520205, "outflow_rate_min": 487.8590816741719, "system_level_velocity_max": 18.955245362752866, "cost2_min": -1.3366196167479136, "cost1_max": 462.2622348485381, "outflow_rate_mean": 1077.4581561669481, "cost2_mean": -0.08927375967728102, "outflow_rate_max": 1325.8061248725508}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f34a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3b38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f39b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.27, "time_this_iter_s": 19.2651207447052, "node_ip": "10.138.0.2", "episodes_total": 3260, "time_since_restore": 4098.95814371109, "episode_reward_mean": 964.2976262347672, "timesteps_total": 7609464, "timesteps_since_restore": 7609464, "timesteps_this_iter": 39518, "hostname": "flow-main", "pid": 24598, "time_total_s": 4098.95814371109, "info": {"sample_time_ms": 11211.976, "num_steps_sampled": 7609464, "num_steps_trained": 7609464, "grad_time_ms": 9593.061, "default": {"total_loss": 23.905616760253906, "entropy": 1.4108678102493286, "vf_explained_var": 0.8792352080345154, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 23.912195205688477, "policy_loss": -0.010361317545175552, "kl": 0.014939704909920692}, "update_time_ms": 7.668, "load_time_ms": 12.937}, "done": false, "iterations_since_restore": 192, "episode_reward_min": 39.44454597248846, "episode_reward_max": 1221.455391824172, "training_iteration": 192, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-24-07", "timestamp": 1557116647, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 8.400891649827829, "cost2_max": 0.0, "cost1_mean": 332.76230409619353, "system_level_velocity_mean": 13.09564686731693, "cost1_min": 17.70058268520205, "outflow_rate_min": 487.8590816741719, "system_level_velocity_max": 18.955245362752866, "cost2_min": -1.3366196167479136, "cost1_max": 466.53174369008246, "outflow_rate_mean": 1080.7755829995424, "cost2_mean": -0.08533248091775175, "outflow_rate_max": 1325.8061248725508}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3d30>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.27, "time_this_iter_s": 20.920257091522217, "node_ip": "10.138.0.2", "episodes_total": 3276, "time_since_restore": 4119.878400802612, "episode_reward_mean": 975.3156360471362, "timesteps_total": 7649654, "timesteps_since_restore": 7649654, "timesteps_this_iter": 40190, "hostname": "flow-main", "pid": 24598, "time_total_s": 4119.878400802612, "info": {"sample_time_ms": 11236.456, "num_steps_sampled": 7649654, "num_steps_trained": 7649654, "grad_time_ms": 9601.368, "default": {"total_loss": 20.226301193237305, "entropy": 1.4350566864013672, "vf_explained_var": 0.8842867016792297, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 20.230653762817383, "policy_loss": -0.008169897831976414, "kl": 0.015072185546159744}, "update_time_ms": 7.474, "load_time_ms": 13.351}, "done": false, "iterations_since_restore": 193, "episode_reward_min": 39.44454597248846, "episode_reward_max": 1221.455391824172, "training_iteration": 193, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-24-28", "timestamp": 1557116668, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.465646855653945, "cost2_max": 0.0, "cost1_mean": 334.3996671427849, "system_level_velocity_mean": 13.150448591596133, "cost1_min": 17.70058268520205, "outflow_rate_min": 487.8590816741719, "system_level_velocity_max": 18.955245362752866, "cost2_min": -0.9179128585635623, "cost1_max": 466.53174369008246, "outflow_rate_mean": 1083.7962426109048, "cost2_mean": -0.07678317548585689, "outflow_rate_max": 1325.8061248725508}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1cc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1c50>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.3, "time_this_iter_s": 21.124684810638428, "node_ip": "10.138.0.2", "episodes_total": 3291, "time_since_restore": 4141.003085613251, "episode_reward_mean": 976.2586919588307, "timesteps_total": 7688791, "timesteps_since_restore": 7688791, "timesteps_this_iter": 39137, "hostname": "flow-main", "pid": 24598, "time_total_s": 4141.003085613251, "info": {"sample_time_ms": 11278.886, "num_steps_sampled": 7688791, "num_steps_trained": 7688791, "grad_time_ms": 9577.695, "default": {"total_loss": 19.47865104675293, "entropy": 1.391965389251709, "vf_explained_var": 0.9146150350570679, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 19.48443031311035, "policy_loss": -0.009692706167697906, "kl": 0.01545565202832222}, "update_time_ms": 7.468, "load_time_ms": 13.709}, "done": false, "iterations_since_restore": 194, "episode_reward_min": 46.99649607606757, "episode_reward_max": 1221.455391824172, "training_iteration": 194, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-24-49", "timestamp": 1557116689, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "custom_metrics": {"system_level_velocity_min": 9.465646855653945, "cost2_max": 0.0, "cost1_mean": 331.2358728123973, "system_level_velocity_mean": 13.027641074328194, "cost1_min": 20.119031609940617, "outflow_rate_min": 500.061146830041, "system_level_velocity_max": 18.242095414251796, "cost2_min": -0.6034010257726843, "cost1_max": 466.53174369008246, "outflow_rate_mean": 1076.9430496656587, "cost2_mean": -0.08218092364984254, "outflow_rate_max": 1325.8061248725508}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f39b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f39e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.3, "time_this_iter_s": 21.219858407974243, "node_ip": "10.138.0.2", "episodes_total": 3307, "time_since_restore": 4162.222944021225, "episode_reward_mean": 974.796374804533, "timesteps_total": 7728896, "timesteps_since_restore": 7728896, "timesteps_this_iter": 40105, "hostname": "flow-main", "pid": 24598, "time_total_s": 4162.222944021225, "info": {"sample_time_ms": 11244.967, "num_steps_sampled": 7728896, "num_steps_trained": 7728896, "grad_time_ms": 9600.447, "default": {"total_loss": 17.846683502197266, "entropy": 1.3689014911651611, "vf_explained_var": 0.9201371669769287, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 17.852251052856445, "policy_loss": -0.009709376841783524, "kl": 0.016362899914383888}, "update_time_ms": 7.388, "load_time_ms": 13.542}, "done": false, "iterations_since_restore": 195, "episode_reward_min": 46.99649607606757, "episode_reward_max": 1221.455391824172, "training_iteration": 195, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-25-10", "timestamp": 1557116710, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 9.465646855653945, "cost2_max": 0.0, "cost1_mean": 332.16938268808764, "system_level_velocity_mean": 13.071169795916255, "cost1_min": 20.119031609940617, "outflow_rate_min": 500.061146830041, "system_level_velocity_max": 18.431125764719493, "cost2_min": -0.6034010257726843, "cost1_max": 473.1808604022659, "outflow_rate_mean": 1079.440984804328, "cost2_mean": -0.07606445662360115, "outflow_rate_max": 1352.2032021010784}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3c18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3ef0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.3, "time_this_iter_s": 20.605478525161743, "node_ip": "10.138.0.2", "episodes_total": 3325, "time_since_restore": 4182.828422546387, "episode_reward_mean": 979.2815869690909, "timesteps_total": 7768939, "timesteps_since_restore": 7768939, "timesteps_this_iter": 40043, "hostname": "flow-main", "pid": 24598, "time_total_s": 4182.828422546387, "info": {"sample_time_ms": 11238.113, "num_steps_sampled": 7768939, "num_steps_trained": 7768939, "grad_time_ms": 9633.64, "default": {"total_loss": 21.37873077392578, "entropy": 1.3897548913955688, "vf_explained_var": 0.8956202864646912, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 21.38372230529785, "policy_loss": -0.00871815625578165, "kl": 0.014720531180500984}, "update_time_ms": 7.286, "load_time_ms": 13.418}, "done": false, "iterations_since_restore": 196, "episode_reward_min": 46.99649607606757, "episode_reward_max": 1221.455391824172, "training_iteration": 196, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-25-31", "timestamp": 1557116731, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 9.783204571288554, "cost2_max": 0.0, "cost1_mean": 334.4105901919267, "system_level_velocity_mean": 13.156437663550323, "cost1_min": 20.119031609940617, "outflow_rate_min": 500.061146830041, "system_level_velocity_max": 18.431125764719493, "cost2_min": -0.6034010257726843, "cost1_max": 473.1808604022659, "outflow_rate_mean": 1083.759783091172, "cost2_mean": -0.0759080736814836, "outflow_rate_max": 1352.2032021010784}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e19e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1d68>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.3, "time_this_iter_s": 19.849672317504883, "node_ip": "10.138.0.2", "episodes_total": 3342, "time_since_restore": 4202.678094863892, "episode_reward_mean": 978.0928762430823, "timesteps_total": 7807919, "timesteps_since_restore": 7807919, "timesteps_this_iter": 38980, "hostname": "flow-main", "pid": 24598, "time_total_s": 4202.678094863892, "info": {"sample_time_ms": 11137.239, "num_steps_sampled": 7807919, "num_steps_trained": 7807919, "grad_time_ms": 9612.304, "default": {"total_loss": 21.482271194458008, "entropy": 1.3881577253341675, "vf_explained_var": 0.9099294543266296, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 21.48748779296875, "policy_loss": -0.009332642890512943, "kl": 0.016265273094177246}, "update_time_ms": 7.027, "load_time_ms": 12.85}, "done": false, "iterations_since_restore": 197, "episode_reward_min": 46.99649607606757, "episode_reward_max": 1202.5742719962218, "training_iteration": 197, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-25-50", "timestamp": 1557116750, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "custom_metrics": {"system_level_velocity_min": 9.804974894572554, "cost2_max": 0.0, "cost1_mean": 334.242229815341, "system_level_velocity_mean": 13.15080655569042, "cost1_min": 20.119031609940617, "outflow_rate_min": 500.061146830041, "system_level_velocity_max": 18.87934518018724, "cost2_min": -0.6034010257726843, "cost1_max": 487.8519508967969, "outflow_rate_mean": 1083.7965459791803, "cost2_mean": -0.07699828065715708, "outflow_rate_max": 1352.2032021010784}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f39b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f33c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f32e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.3, "time_this_iter_s": 20.249163389205933, "node_ip": "10.138.0.2", "episodes_total": 3361, "time_since_restore": 4222.9272582530975, "episode_reward_mean": 974.4964785223502, "timesteps_total": 7847505, "timesteps_since_restore": 7847505, "timesteps_this_iter": 39586, "hostname": "flow-main", "pid": 24598, "time_total_s": 4222.9272582530975, "info": {"sample_time_ms": 11059.947, "num_steps_sampled": 7847505, "num_steps_trained": 7847505, "grad_time_ms": 9590.411, "default": {"total_loss": 20.80088233947754, "entropy": 1.4395731687545776, "vf_explained_var": 0.8921666741371155, "cur_kl_coeff": 0.2531249523162842, "cur_lr": 0.0005000000237487257, "vf_loss": 20.80613136291504, "policy_loss": -0.0090866107493639, "kl": 0.015153039246797562}, "update_time_ms": 6.896, "load_time_ms": 12.728}, "done": false, "iterations_since_restore": 198, "episode_reward_min": 46.99649607606757, "episode_reward_max": 1202.5742719962218, "training_iteration": 198, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-26-11", "timestamp": 1557116771, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "custom_metrics": {"system_level_velocity_min": 9.804974894572554, "cost2_max": 0.0, "cost1_mean": 330.61531973648044, "system_level_velocity_mean": 13.008569388484746, "cost1_min": 20.119031609940617, "outflow_rate_min": 500.061146830041, "system_level_velocity_max": 18.87934518018724, "cost2_min": -0.6034010257726843, "cost1_max": 487.8519508967969, "outflow_rate_mean": 1076.3867792149645, "cost2_mean": -0.07273788898778792, "outflow_rate_max": 1352.2032021010784}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f36a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3ef0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 686.74, "time_this_iter_s": 21.961891412734985, "node_ip": "10.138.0.2", "episodes_total": 3379, "time_since_restore": 4244.8891496658325, "episode_reward_mean": 963.1072842746107, "timesteps_total": 7886848, "timesteps_since_restore": 7886848, "timesteps_this_iter": 39343, "hostname": "flow-main", "pid": 24598, "time_total_s": 4244.8891496658325, "info": {"sample_time_ms": 11123.462, "num_steps_sampled": 7886848, "num_steps_trained": 7886848, "grad_time_ms": 9584.546, "default": {"total_loss": 23.829578399658203, "entropy": 1.439911127090454, "vf_explained_var": 0.8830411434173584, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 23.83182144165039, "policy_loss": -0.006874279584735632, "kl": 0.018295863643288612}, "update_time_ms": 7.079, "load_time_ms": 12.498}, "done": false, "iterations_since_restore": 199, "episode_reward_min": 46.99649607606757, "episode_reward_max": 1202.5742719962218, "training_iteration": 199, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-26-33", "timestamp": 1557116793, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "custom_metrics": {"system_level_velocity_min": 10.010126644339675, "cost2_max": 0.0, "cost1_mean": 331.6703631634216, "system_level_velocity_mean": 13.222595048115743, "cost1_min": 20.119031609940617, "outflow_rate_min": 500.061146830041, "system_level_velocity_max": 18.87934518018724, "cost2_min": -0.6034010257726843, "cost1_max": 487.8519508967969, "outflow_rate_mean": 1079.86645331158, "cost2_mean": -0.06407493393395139, "outflow_rate_max": 1352.2032021010784}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f35f8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3e80>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
{"episode_len_mean": 693.44, "time_this_iter_s": 20.89074420928955, "node_ip": "10.138.0.2", "episodes_total": 3395, "time_since_restore": 4265.779893875122, "episode_reward_mean": 966.8247226974532, "timesteps_total": 7926831, "timesteps_since_restore": 7926831, "timesteps_this_iter": 39983, "hostname": "flow-main", "pid": 24598, "time_total_s": 4265.779893875122, "info": {"sample_time_ms": 10939.005, "num_steps_sampled": 7926831, "num_steps_trained": 7926831, "grad_time_ms": 9605.68, "default": {"total_loss": 17.394012451171875, "entropy": 1.4387836456298828, "vf_explained_var": 0.9204573035240173, "cur_kl_coeff": 0.25312498211860657, "cur_lr": 0.0005000000237487257, "vf_loss": 17.39961051940918, "policy_loss": -0.009409735910594463, "kl": 0.015064777806401253}, "update_time_ms": 7.268, "load_time_ms": 12.231}, "done": true, "iterations_since_restore": 200, "episode_reward_min": 66.65959768116676, "episode_reward_max": 1153.8202875331983, "training_iteration": 200, "experiment_id": "3fc37dced7424815be03ef2495116f48", "date": "2019-05-06_04-26-54", "timestamp": 1557116814, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "custom_metrics": {"system_level_velocity_min": 10.010126644339675, "cost2_max": 0.0, "cost1_mean": 332.34608173894907, "system_level_velocity_mean": 13.075420860049906, "cost1_min": 29.465497426817993, "outflow_rate_min": 512.972869357081, "system_level_velocity_max": 18.87934518018724, "cost2_min": -0.30179829159727617, "cost1_max": 487.8519508967969, "outflow_rate_mean": 1081.461227651368, "cost2_mean": -0.04775953825073431, "outflow_rate_max": 1352.2032021010784}, "config": {"model": {"custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "free_log_std": false, "dim": 84, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f34a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3438>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "straggler_mitigation": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "use_gae": true, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0", "vf_loss_coeff": 1.0, "simple_optimizer": false, "vf_clip_param": 1000000.0, "output_max_file_size": 67108864, "sgd_minibatch_size": 128, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "log_level": "INFO", "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "vf_share_layers": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "input_evaluation": null, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "monitor": false, "horizon": 1500, "entropy_coeff": 0.0, "output_compress_columns": ["obs", "new_obs"], "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "compress_observations": false}}
