{"episode_reward_min": 233.66371282713934, "episode_reward_mean": 288.0560805003584, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 8.518018087131535, "cost2_max": -43.116048452699275, "outflow_rate_max": 687.62896404181, "cost2_min": -46.745116323242414, "cost1_max": 237.74508966765748, "outflow_rate_mean": 644.1950901135424, "outflow_rate_min": 566.3340873645218, "cost2_mean": -44.559764946743144, "cost1_min": 189.14936548338892, "cost1_mean": 217.12831368444085, "system_level_velocity_min": 7.484730147503304, "system_level_velocity_max": 9.372951072481744}, "timesteps_this_iter": 40546, "info": {"load_time_ms": 45.561, "update_time_ms": 1081.259, "grad_time_ms": 9310.416, "default": {"vf_loss": 1.52530837059021, "policy_loss": -0.001963532529771328, "total_loss": 1.523983359336853, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8470913171768188, "kl": 0.0031927679665386677, "entropy": 1.4192438125610352, "cur_kl_coeff": 0.20000003278255463}, "sample_time_ms": 13213.54, "num_steps_trained": 40546, "num_steps_sampled": 40546}, "timestamp": 1557100464, "episode_len_mean": 700.0, "iterations_since_restore": 1, "done": false, "timesteps_total": 40546, "episode_reward_max": 328.05340093019777, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3154128e48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3154128eb8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3154128e80>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 3, "timesteps_since_restore": 40546, "time_this_iter_s": 23.766085147857666, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 3, "time_total_s": 23.766085147857666, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-54-24", "training_iteration": 1, "time_since_restore": 23.766085147857666}
{"episode_reward_min": 55.747524907657805, "episode_reward_mean": 285.7434387904923, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 8.261627754769572, "cost2_max": -18.251869659236398, "outflow_rate_max": 711.7214307747797, "cost2_min": -81.64027667058954, "cost1_max": 239.22944299355652, "outflow_rate_mean": 613.6572838698011, "outflow_rate_min": 492.33463824136004, "cost2_mean": -52.55289700125334, "cost1_min": 22.996407052437576, "cost1_mean": 196.31922628245823, "system_level_velocity_min": 5.944811112861926, "system_level_velocity_max": 18.026753655376368}, "timesteps_this_iter": 38744, "info": {"load_time_ms": 25.073, "update_time_ms": 545.625, "grad_time_ms": 9258.139, "default": {"vf_loss": 1.599203109741211, "policy_loss": -0.005032833199948072, "total_loss": 1.5951919555664062, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8914380669593811, "kl": 0.010215560905635357, "entropy": 1.4147069454193115, "cur_kl_coeff": 0.10000001639127731}, "sample_time_ms": 13479.522, "num_steps_trained": 79290, "num_steps_sampled": 79290}, "timestamp": 1557100487, "episode_len_mean": 674.4615384615385, "iterations_since_restore": 2, "done": false, "timesteps_total": 79290, "episode_reward_max": 409.5564220659899, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbce80>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbcef0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbceb8>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 23, "timesteps_since_restore": 79290, "time_this_iter_s": 23.051472187042236, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 26, "time_total_s": 46.8175573348999, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-54-47", "training_iteration": 2, "time_since_restore": 46.8175573348999}
{"episode_reward_min": 55.747524907657805, "episode_reward_mean": 327.45648827766644, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 8.413018592071985, "cost2_max": -18.251869659236398, "outflow_rate_max": 919.8363278703804, "cost2_min": -95.87031209659628, "cost1_max": 290.93009750780965, "outflow_rate_mean": 651.1576355888812, "outflow_rate_min": 492.33463824136004, "cost2_mean": -56.698489720373544, "cost1_min": 22.996407052437576, "cost1_mean": 208.39688641989252, "system_level_velocity_min": 5.038948271542632, "system_level_velocity_max": 18.026753655376368}, "timesteps_this_iter": 36798, "info": {"load_time_ms": 17.976, "update_time_ms": 366.393, "grad_time_ms": 8932.162, "default": {"vf_loss": 1.744622826576233, "policy_loss": -0.008177581243216991, "total_loss": 1.7378627061843872, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9326964020729065, "kl": 0.014174507930874825, "entropy": 1.4144572019577026, "cur_kl_coeff": 0.10000000149011612}, "sample_time_ms": 13372.61, "num_steps_trained": 116088, "num_steps_sampled": 116088}, "timestamp": 1557100509, "episode_len_mean": 685.5652173913044, "iterations_since_restore": 3, "done": false, "timesteps_total": 116088, "episode_reward_max": 548.5238284438785, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2ba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2438>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2ef0>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 20, "timesteps_since_restore": 116088, "time_this_iter_s": 21.53794264793396, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 46, "time_total_s": 68.35549998283386, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-55-09", "training_iteration": 3, "time_since_restore": 68.35549998283386}
{"episode_reward_min": 55.747524907657805, "episode_reward_mean": 337.8240801648833, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 8.621624298943937, "cost2_max": -18.251869659236398, "outflow_rate_max": 919.8363278703804, "cost2_min": -96.67251093450687, "cost1_max": 301.273961720187, "outflow_rate_mean": 656.0020455282017, "outflow_rate_min": 256.6720344514727, "cost2_mean": -55.93825625047086, "cost1_min": 22.996407052437576, "cost1_mean": 215.4738070993746, "system_level_velocity_min": 3.242111626406703, "system_level_velocity_max": 18.026753655376368}, "timesteps_this_iter": 36302, "info": {"load_time_ms": 14.659, "update_time_ms": 277.681, "grad_time_ms": 8414.873, "default": {"vf_loss": 2.142162799835205, "policy_loss": -0.011598347686231136, "total_loss": 2.132507085800171, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9184775352478027, "kl": 0.019426019862294197, "entropy": 1.406319499015808, "cur_kl_coeff": 0.10000000894069672}, "sample_time_ms": 12997.768, "num_steps_trained": 152390, "num_steps_sampled": 152390}, "timestamp": 1557100528, "episode_len_mean": 689.939393939394, "iterations_since_restore": 4, "done": false, "timesteps_total": 152390, "episode_reward_max": 603.8506163152355, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1550>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc19e8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc17b8>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 20, "timesteps_since_restore": 152390, "time_this_iter_s": 18.837635040283203, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 66, "time_total_s": 87.19313502311707, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-55-28", "training_iteration": 4, "time_since_restore": 87.19313502311707}
{"episode_reward_min": 55.747524907657805, "episode_reward_mean": 368.0749182999925, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 9.03591731514442, "cost2_max": -18.251869659236398, "outflow_rate_max": 919.8363278703804, "cost2_min": -96.67251093450687, "cost1_max": 301.7672753222366, "outflow_rate_mean": 677.6188676260515, "outflow_rate_min": 256.6720344514727, "cost2_mean": -55.752771987940015, "cost1_min": 22.996407052437576, "cost1_mean": 227.5675068491585, "system_level_velocity_min": 3.242111626406703, "system_level_velocity_max": 18.026753655376368}, "timesteps_this_iter": 35453, "info": {"load_time_ms": 13.3, "update_time_ms": 224.003, "grad_time_ms": 8106.206, "default": {"vf_loss": 3.278566837310791, "policy_loss": -0.010632887482643127, "total_loss": 3.2694435119628906, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8785194754600525, "kl": 0.01509716734290123, "entropy": 1.3935964107513428, "cur_kl_coeff": 0.10000000894069672}, "sample_time_ms": 13092.77, "num_steps_trained": 187843, "num_steps_sampled": 187843}, "timestamp": 1557100548, "episode_len_mean": 692.3678160919541, "iterations_since_restore": 5, "done": false, "timesteps_total": 187843, "episode_reward_max": 603.8506163152355, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb29e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2668>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2b38>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 21, "timesteps_since_restore": 187843, "time_this_iter_s": 20.418068885803223, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 87, "time_total_s": 107.61120390892029, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-55-48", "training_iteration": 5, "time_since_restore": 107.61120390892029}
{"episode_reward_min": 47.5744256618336, "episode_reward_mean": 408.6097945598015, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 9.584538594992699, "cost2_max": -18.251869659236398, "outflow_rate_max": 924.8243120861575, "cost2_min": -96.67251093450687, "cost1_max": 329.88719228128235, "outflow_rate_mean": 704.6873038296409, "outflow_rate_min": 256.6720344514727, "cost2_mean": -56.14186415774074, "cost1_min": 22.996407052437576, "cost1_mean": 238.0347225649237, "system_level_velocity_min": 3.242111626406703, "system_level_velocity_max": 18.026753655376368}, "timesteps_this_iter": 35638, "info": {"load_time_ms": 11.971, "update_time_ms": 187.695, "grad_time_ms": 7924.583, "default": {"vf_loss": 4.680949687957764, "policy_loss": -0.011222672648727894, "total_loss": 4.671618461608887, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8089491128921509, "kl": 0.018913941457867622, "entropy": 1.4116729497909546, "cur_kl_coeff": 0.10000000894069672}, "sample_time_ms": 13293.205, "num_steps_trained": 223481, "num_steps_sampled": 223481}, "timestamp": 1557100570, "episode_len_mean": 686.72, "iterations_since_restore": 6, "done": false, "timesteps_total": 223481, "episode_reward_max": 671.560302693075, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbc7f0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbcfd0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbc828>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 23, "timesteps_since_restore": 223481, "time_this_iter_s": 21.391275882720947, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 110, "time_total_s": 129.00247979164124, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-56-10", "training_iteration": 6, "time_since_restore": 129.00247979164124}
{"episode_reward_min": 47.5744256618336, "episode_reward_mean": 466.2959406212209, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 10.16127520841205, "cost2_max": -21.080900933517928, "outflow_rate_max": 949.468299689286, "cost2_min": -96.67251093450687, "cost1_max": 330.7619065087791, "outflow_rate_mean": 748.275528425999, "outflow_rate_min": 256.6720344514727, "cost2_mean": -56.446827256366305, "cost1_min": 23.79490014510973, "cost1_mean": 258.08102818694516, "system_level_velocity_min": 3.242111626406703, "system_level_velocity_max": 17.721437418358814}, "timesteps_this_iter": 36735, "info": {"load_time_ms": 10.969, "update_time_ms": 162.124, "grad_time_ms": 7821.376, "default": {"vf_loss": 4.695579528808594, "policy_loss": -0.012378338724374771, "total_loss": 4.6847944259643555, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.806414008140564, "kl": 0.01593325100839138, "entropy": 1.4016493558883667, "cur_kl_coeff": 0.10000000894069672}, "sample_time_ms": 13324.695, "num_steps_trained": 260216, "num_steps_sampled": 260216}, "timestamp": 1557100591, "episode_len_mean": 693.36, "iterations_since_restore": 7, "done": false, "timesteps_total": 260216, "episode_reward_max": 704.5973619746029, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3154110e80>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2ba8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2f60>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 20, "timesteps_since_restore": 260216, "time_this_iter_s": 20.79421305656433, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 130, "time_total_s": 149.79669284820557, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-56-31", "training_iteration": 7, "time_since_restore": 149.79669284820557}
{"episode_reward_min": 47.5744256618336, "episode_reward_mean": 512.9663034467302, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 10.497063311190889, "cost2_max": -21.080900933517928, "outflow_rate_max": 949.468299689286, "cost2_min": -157.6519322708914, "cost1_max": 330.7619065087791, "outflow_rate_mean": 775.4416762275961, "outflow_rate_min": 484.9603256500232, "cost2_mean": -58.00262329808382, "cost1_min": 23.79490014510973, "cost1_mean": 267.74375204224253, "system_level_velocity_min": 6.533100099816221, "system_level_velocity_max": 17.721437418358814}, "timesteps_this_iter": 37369, "info": {"load_time_ms": 10.173, "update_time_ms": 142.585, "grad_time_ms": 7822.482, "default": {"vf_loss": 5.189001083374023, "policy_loss": -0.014086326584219933, "total_loss": 5.177065849304199, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7740691304206848, "kl": 0.021510520949959755, "entropy": 1.415095329284668, "cur_kl_coeff": 0.10000000894069672}, "sample_time_ms": 13406.231, "num_steps_trained": 297585, "num_steps_sampled": 297585}, "timestamp": 1557100612, "episode_len_mean": 693.36, "iterations_since_restore": 8, "done": false, "timesteps_total": 297585, "episode_reward_max": 725.5677552287041, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2a20>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2550>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2320>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 21, "timesteps_since_restore": 297585, "time_this_iter_s": 21.88379406929016, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 151, "time_total_s": 171.68048691749573, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-56-52", "training_iteration": 8, "time_since_restore": 171.68048691749573}
{"episode_reward_min": 47.5744256618336, "episode_reward_mean": 549.7164473880513, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 10.66265142496827, "cost2_max": -21.080900933517928, "outflow_rate_max": 949.468299689286, "cost2_min": -157.6519322708914, "cost1_max": 330.7619065087791, "outflow_rate_mean": 793.5035623983789, "outflow_rate_min": 499.16241308078406, "cost2_mean": -60.55310044233039, "cost1_min": 23.79490014510973, "cost1_mean": 269.50065432139974, "system_level_velocity_min": 8.105800122969974, "system_level_velocity_max": 17.721437418358814}, "timesteps_this_iter": 38103, "info": {"load_time_ms": 10.175, "update_time_ms": 127.645, "grad_time_ms": 7763.44, "default": {"vf_loss": 5.480503082275391, "policy_loss": -0.014442273415625095, "total_loss": 5.468764305114746, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8079100251197815, "kl": 0.01802138052880764, "entropy": 1.412726640701294, "cur_kl_coeff": 0.14999999105930328}, "sample_time_ms": 13494.217, "num_steps_trained": 335688, "num_steps_sampled": 335688}, "timestamp": 1557100634, "episode_len_mean": 686.88, "iterations_since_restore": 9, "done": false, "timesteps_total": 335688, "episode_reward_max": 725.5677552287041, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3154110e80>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1828>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1080>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 21, "timesteps_since_restore": 335688, "time_this_iter_s": 21.571377515792847, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 172, "time_total_s": 193.25186443328857, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-57-14", "training_iteration": 9, "time_since_restore": 193.25186443328857}
{"episode_reward_min": 47.5744256618336, "episode_reward_mean": 572.77261053011, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 10.629685419365588, "cost2_max": -21.080900933517928, "outflow_rate_max": 949.468299689286, "cost2_min": -157.6519322708914, "cost1_max": 330.7619065087791, "outflow_rate_mean": 809.7550166890647, "outflow_rate_min": 499.16241308078406, "cost2_mean": -63.76521676095771, "cost1_min": 23.79490014510973, "cost1_mean": 269.753885618986, "system_level_velocity_min": 8.105800122969974, "system_level_velocity_max": 17.721437418358814}, "timesteps_this_iter": 37238, "info": {"load_time_ms": 9.96, "update_time_ms": 115.532, "grad_time_ms": 7799.893, "default": {"vf_loss": 5.2526116371154785, "policy_loss": -0.013883423060178757, "total_loss": 5.241409778594971, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8403937816619873, "kl": 0.017876360565423965, "entropy": 1.4437233209609985, "cur_kl_coeff": 0.14999999105930328}, "sample_time_ms": 13502.526, "num_steps_trained": 372926, "num_steps_sampled": 372926}, "timestamp": 1557100656, "episode_len_mean": 686.88, "iterations_since_restore": 10, "done": false, "timesteps_total": 372926, "episode_reward_max": 725.5677552287041, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc15c0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1a58>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1898>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 18, "timesteps_since_restore": 372926, "time_this_iter_s": 21.78205966949463, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 190, "time_total_s": 215.0339241027832, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-57-36", "training_iteration": 10, "time_since_restore": 215.0339241027832}
{"episode_reward_min": 70.68696214984136, "episode_reward_mean": 591.1335780171185, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 10.538065333201423, "cost2_max": -22.794356073375635, "outflow_rate_max": 1109.3274295407298, "cost2_min": -157.6519322708914, "cost1_max": 344.5000914670761, "outflow_rate_mean": 828.8228125830167, "outflow_rate_min": 529.2772160852527, "cost2_mean": -70.10020696806065, "cost1_min": 32.5597382511537, "cost1_mean": 272.7357818558642, "system_level_velocity_min": 8.105800122969974, "system_level_velocity_max": 17.174316998240393}, "timesteps_this_iter": 38183, "info": {"load_time_ms": 6.263, "update_time_ms": 8.113, "grad_time_ms": 7702.581, "default": {"vf_loss": 6.903263092041016, "policy_loss": -0.01445432286709547, "total_loss": 6.891743183135986, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8252881169319153, "kl": 0.019568180665373802, "entropy": 1.427580714225769, "cur_kl_coeff": 0.14999999105930328}, "sample_time_ms": 13531.571, "num_steps_trained": 411109, "num_steps_sampled": 411109}, "timestamp": 1557100678, "episode_len_mean": 693.52, "iterations_since_restore": 11, "done": false, "timesteps_total": 411109, "episode_reward_max": 725.5677552287041, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbc438>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbc2b0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbc470>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 17, "timesteps_since_restore": 411109, "time_this_iter_s": 21.921629428863525, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 207, "time_total_s": 236.95555353164673, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-57-58", "training_iteration": 11, "time_since_restore": 236.95555353164673}
{"episode_reward_min": 70.68696214984136, "episode_reward_mean": 599.6266851706305, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 10.50907729728559, "cost2_max": -22.794356073375635, "outflow_rate_max": 1109.3274295407298, "cost2_min": -157.6519322708914, "cost1_max": 344.66488887230315, "outflow_rate_mean": 840.1251510666349, "outflow_rate_min": 529.2772160852527, "cost2_mean": -76.16898642518242, "cost1_min": 32.5597382511537, "cost1_mean": 272.1862772291926, "system_level_velocity_min": 6.653703883997337, "system_level_velocity_max": 17.174316998240393}, "timesteps_this_iter": 38779, "info": {"load_time_ms": 6.29, "update_time_ms": 7.687, "grad_time_ms": 7639.956, "default": {"vf_loss": 6.758783340454102, "policy_loss": -0.014276174828410149, "total_loss": 6.7473554611206055, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8355064988136292, "kl": 0.018987372517585754, "entropy": 1.421721339225769, "cur_kl_coeff": 0.14999999105930328}, "sample_time_ms": 13504.406, "num_steps_trained": 449888, "num_steps_sampled": 449888}, "timestamp": 1557100700, "episode_len_mean": 693.52, "iterations_since_restore": 12, "done": false, "timesteps_total": 449888, "episode_reward_max": 817.1488746783212, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbc080>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbc0f0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbc240>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 16, "timesteps_since_restore": 449888, "time_this_iter_s": 22.139960050582886, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 223, "time_total_s": 259.0955135822296, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-58-20", "training_iteration": 12, "time_since_restore": 259.0955135822296}
{"episode_reward_min": 70.68696214984136, "episode_reward_mean": 609.9772981891299, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 10.515499714781598, "cost2_max": -22.794356073375635, "outflow_rate_max": 1109.3274295407298, "cost2_min": -157.6519322708914, "cost1_max": 363.2069287911303, "outflow_rate_mean": 853.7084590057107, "outflow_rate_min": 529.2772160852527, "cost2_mean": -82.5749483641391, "cost1_min": 32.5597382511537, "cost1_mean": 272.7397121922027, "system_level_velocity_min": 6.653703883997337, "system_level_velocity_max": 17.174316998240393}, "timesteps_this_iter": 39892, "info": {"load_time_ms": 6.876, "update_time_ms": 7.609, "grad_time_ms": 7711.549, "default": {"vf_loss": 6.549492835998535, "policy_loss": -0.017001250758767128, "total_loss": 6.535741806030273, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8475875854492188, "kl": 0.021665308624505997, "entropy": 1.4013911485671997, "cur_kl_coeff": 0.1499999761581421}, "sample_time_ms": 13590.1, "num_steps_trained": 489780, "num_steps_sampled": 489780}, "timestamp": 1557100723, "episode_len_mean": 693.52, "iterations_since_restore": 13, "done": false, "timesteps_total": 489780, "episode_reward_max": 846.6476128550148, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1828>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1940>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc12e8>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 18, "timesteps_since_restore": 489780, "time_this_iter_s": 23.131925344467163, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 241, "time_total_s": 282.2274389266968, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-58-43", "training_iteration": 13, "time_since_restore": 282.2274389266968}
{"episode_reward_min": 440.4723950034937, "episode_reward_mean": 626.6325342386243, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 10.62085904736137, "cost2_max": -34.36320333717628, "outflow_rate_max": 1109.3274295407298, "cost2_min": -152.70937945594915, "cost1_max": 363.2069287911303, "outflow_rate_mean": 874.9226390556022, "outflow_rate_min": 658.9590494402046, "cost2_mean": -87.57663601069451, "cost1_min": 176.09836998721332, "cost1_mean": 279.516619300278, "system_level_velocity_min": 6.653703883997337, "system_level_velocity_max": 13.64581252742409}, "timesteps_this_iter": 38179, "info": {"load_time_ms": 6.989, "update_time_ms": 7.128, "grad_time_ms": 7901.604, "default": {"vf_loss": 7.113800525665283, "policy_loss": -0.014733836054801941, "total_loss": 7.102554798126221, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8563852310180664, "kl": 0.015499968081712723, "entropy": 1.4419021606445312, "cur_kl_coeff": 0.22500000894069672}, "sample_time_ms": 13679.49, "num_steps_trained": 527959, "num_steps_sampled": 527959}, "timestamp": 1557100745, "episode_len_mean": 700.0, "iterations_since_restore": 14, "done": false, "timesteps_total": 527959, "episode_reward_max": 846.6476128550148, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbce48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbcf28>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbc5c0>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 17, "timesteps_since_restore": 527959, "time_this_iter_s": 21.614994525909424, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 258, "time_total_s": 303.8424334526062, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-59-05", "training_iteration": 14, "time_since_restore": 303.8424334526062}
{"episode_reward_min": 440.4723950034937, "episode_reward_mean": 628.2804172176874, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 10.718811317170797, "cost2_max": -34.36320333717628, "outflow_rate_max": 1109.3274295407298, "cost2_min": -152.70937945594915, "cost1_max": 363.2069287911303, "outflow_rate_mean": 890.6680212499053, "outflow_rate_min": 658.9590494402046, "cost2_mean": -92.5726247703762, "cost1_min": 176.09836998721332, "cost1_mean": 282.0061310157595, "system_level_velocity_min": 6.653703883997337, "system_level_velocity_max": 13.64581252742409}, "timesteps_this_iter": 37702, "info": {"load_time_ms": 6.716, "update_time_ms": 7.118, "grad_time_ms": 8085.11, "default": {"vf_loss": 6.4344353675842285, "policy_loss": -0.017232730984687805, "total_loss": 6.421271800994873, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8429808020591736, "kl": 0.01808348298072815, "entropy": 1.457849144935608, "cur_kl_coeff": 0.2250000238418579}, "sample_time_ms": 13597.142, "num_steps_trained": 565661, "num_steps_sampled": 565661}, "timestamp": 1557100766, "episode_len_mean": 700.0, "iterations_since_restore": 15, "done": false, "timesteps_total": 565661, "episode_reward_max": 846.6476128550148, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbc2b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3154110e80>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbcf60>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 18, "timesteps_since_restore": 565661, "time_this_iter_s": 21.44952654838562, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 276, "time_total_s": 325.2919600009918, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-59-26", "training_iteration": 15, "time_since_restore": 325.2919600009918}
{"episode_reward_min": 440.4723950034937, "episode_reward_mean": 639.4374221573104, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 10.980120605857968, "cost2_max": -34.36320333717628, "outflow_rate_max": 1091.6089519171348, "cost2_min": -152.70937945594915, "cost1_max": 363.2069287911303, "outflow_rate_mean": 908.8135442103704, "outflow_rate_min": 658.9590494402046, "cost2_mean": -94.72849267839746, "cost1_min": 176.09836998721332, "cost1_mean": 289.09209489119314, "system_level_velocity_min": 6.653703883997337, "system_level_velocity_max": 13.64581252742409}, "timesteps_this_iter": 38578, "info": {"load_time_ms": 6.753, "update_time_ms": 7.195, "grad_time_ms": 8260.896, "default": {"vf_loss": 7.279032230377197, "policy_loss": -0.01614171452820301, "total_loss": 7.266761302947998, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8174017667770386, "kl": 0.01720212958753109, "entropy": 1.4487330913543701, "cur_kl_coeff": 0.2250000238418579}, "sample_time_ms": 13506.388, "num_steps_trained": 604239, "num_steps_sampled": 604239}, "timestamp": 1557100789, "episode_len_mean": 700.0, "iterations_since_restore": 16, "done": false, "timesteps_total": 604239, "episode_reward_max": 846.6476128550148, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1eb8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2518>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2550>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 19, "timesteps_since_restore": 604239, "time_this_iter_s": 22.25274419784546, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 295, "time_total_s": 347.5447041988373, "num_metric_batches_dropped": 0, "date": "2019-05-05_23-59-49", "training_iteration": 16, "time_since_restore": 347.5447041988373}
{"episode_reward_min": 429.2845028816886, "episode_reward_mean": 642.1711114132719, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 11.043006284924688, "cost2_max": -39.33464740828257, "outflow_rate_max": 1091.6089519171348, "cost2_min": -152.70937945594915, "cost1_max": 363.2069287911303, "outflow_rate_mean": 917.8778707192346, "outflow_rate_min": 658.9590494402046, "cost2_mean": -97.3903563562189, "cost1_min": 176.09836998721332, "cost1_mean": 290.79578402670927, "system_level_velocity_min": 6.653703883997337, "system_level_velocity_max": 13.64581252742409}, "timesteps_this_iter": 38910, "info": {"load_time_ms": 7.432, "update_time_ms": 7.302, "grad_time_ms": 8444.989, "default": {"vf_loss": 6.477188587188721, "policy_loss": -0.016957268118858337, "total_loss": 6.464262962341309, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.864298403263092, "kl": 0.017917601391673088, "entropy": 1.4674034118652344, "cur_kl_coeff": 0.22500000894069672}, "sample_time_ms": 13570.733, "num_steps_trained": 643149, "num_steps_sampled": 643149}, "timestamp": 1557100812, "episode_len_mean": 700.0, "iterations_since_restore": 17, "done": false, "timesteps_total": 643149, "episode_reward_max": 846.6476128550148, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbcc18>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3154110e80>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2978>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 18, "timesteps_since_restore": 643149, "time_this_iter_s": 23.29245924949646, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 313, "time_total_s": 370.83716344833374, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-00-12", "training_iteration": 17, "time_since_restore": 370.83716344833374}
{"episode_reward_min": 387.55047896461247, "episode_reward_mean": 644.0782578697701, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 11.203651056820236, "cost2_max": -25.74556502407142, "outflow_rate_max": 1112.8724151585502, "cost2_min": -152.70937945594915, "cost1_max": 407.3827500295377, "outflow_rate_mean": 925.7807773228685, "outflow_rate_min": 690.3936948611471, "cost2_mean": -97.7958089553405, "cost1_min": 192.95445434749715, "cost1_mean": 295.0288527504709, "system_level_velocity_min": 7.412018435931509, "system_level_velocity_max": 15.699140371966857}, "timesteps_this_iter": 38020, "info": {"load_time_ms": 7.503, "update_time_ms": 7.485, "grad_time_ms": 8561.504, "default": {"vf_loss": 7.741460800170898, "policy_loss": -0.016372673213481903, "total_loss": 7.729198932647705, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8516422510147095, "kl": 0.018268141895532608, "entropy": 1.4437966346740723, "cur_kl_coeff": 0.22500000894069672}, "sample_time_ms": 13536.492, "num_steps_trained": 681169, "num_steps_sampled": 681169}, "timestamp": 1557100835, "episode_len_mean": 700.0, "iterations_since_restore": 18, "done": false, "timesteps_total": 681169, "episode_reward_max": 834.30933398354, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1358>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc12e8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1898>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 19, "timesteps_since_restore": 681169, "time_this_iter_s": 22.717275857925415, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 332, "time_total_s": 393.55443930625916, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-00-35", "training_iteration": 18, "time_since_restore": 393.55443930625916}
{"episode_reward_min": 38.36463495840653, "episode_reward_mean": 641.1954137556644, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 11.457032388107516, "cost2_max": -18.401484371273256, "outflow_rate_max": 1112.8724151585502, "cost2_min": -149.35497964727696, "cost1_max": 407.3827500295377, "outflow_rate_mean": 934.4585920626637, "outflow_rate_min": 489.846591981012, "cost2_mean": -98.8892029715415, "cost1_min": 19.405843143702857, "cost1_mean": 296.6975698547996, "system_level_velocity_min": 7.412018435931509, "system_level_velocity_max": 18.124032234305783}, "timesteps_this_iter": 37119, "info": {"load_time_ms": 7.184, "update_time_ms": 7.361, "grad_time_ms": 8662.612, "default": {"vf_loss": 8.357099533081055, "policy_loss": -0.01838517375290394, "total_loss": 8.34312915802002, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8692434430122375, "kl": 0.01962161622941494, "entropy": 1.4089285135269165, "cur_kl_coeff": 0.22500000894069672}, "sample_time_ms": 13505.173, "num_steps_trained": 718288, "num_steps_sampled": 718288}, "timestamp": 1557100857, "episode_len_mean": 693.29, "iterations_since_restore": 19, "done": false, "timesteps_total": 718288, "episode_reward_max": 877.840333141881, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1e80>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3154110e80>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cbcd68>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 20, "timesteps_since_restore": 718288, "time_this_iter_s": 22.264861345291138, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 352, "time_total_s": 415.8193006515503, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-00-57", "training_iteration": 19, "time_since_restore": 415.8193006515503}
{"episode_reward_min": 38.36463495840653, "episode_reward_mean": 639.6641608023368, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 11.634979246032392, "cost2_max": -18.401484371273256, "outflow_rate_max": 1205.9640855262014, "cost2_min": -181.0299805800439, "cost1_max": 421.68506298684423, "outflow_rate_mean": 936.3465459491271, "outflow_rate_min": 489.846591981012, "cost2_mean": -97.90380230003893, "cost1_min": 19.405843143702857, "cost1_mean": 300.9934721491125, "system_level_velocity_min": 7.412018435931509, "system_level_velocity_max": 18.124032234305783}, "timesteps_this_iter": 37066, "info": {"load_time_ms": 6.921, "update_time_ms": 7.372, "grad_time_ms": 8674.113, "default": {"vf_loss": 7.165815353393555, "policy_loss": -0.01950017921626568, "total_loss": 7.151069641113281, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8455374836921692, "kl": 0.021133894100785255, "entropy": 1.43794584274292, "cur_kl_coeff": 0.22500000894069672}, "sample_time_ms": 13401.628, "num_steps_trained": 755354, "num_steps_sampled": 755354}, "timestamp": 1557100878, "episode_len_mean": 693.29, "iterations_since_restore": 20, "done": false, "timesteps_total": 755354, "episode_reward_max": 877.840333141881, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2898>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2710>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2978>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 18, "timesteps_since_restore": 755354, "time_this_iter_s": 20.868613719940186, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 370, "time_total_s": 436.6879143714905, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-01-18", "training_iteration": 20, "time_since_restore": 436.6879143714905}
{"episode_reward_min": 38.36463495840653, "episode_reward_mean": 628.3855482161849, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 11.831835165179648, "cost2_max": -16.50540773411255, "outflow_rate_max": 1205.9640855262014, "cost2_min": -181.0299805800439, "cost1_max": 441.70077171966534, "outflow_rate_mean": 933.3282584789783, "outflow_rate_min": 489.846591981012, "cost2_mean": -98.09714889228694, "cost1_min": 19.405843143702857, "cost1_mean": 305.30120891074705, "system_level_velocity_min": 7.420149059110047, "system_level_velocity_max": 18.124032234305783}, "timesteps_this_iter": 37499, "info": {"load_time_ms": 7.497, "update_time_ms": 7.274, "grad_time_ms": 8701.658, "default": {"vf_loss": 7.831517696380615, "policy_loss": -0.01738961599767208, "total_loss": 7.820056438446045, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8652621507644653, "kl": 0.01756499521434307, "entropy": 1.4426579475402832, "cur_kl_coeff": 0.33750003576278687}, "sample_time_ms": 13312.285, "num_steps_trained": 792853, "num_steps_sampled": 792853}, "timestamp": 1557100899, "episode_len_mean": 693.29, "iterations_since_restore": 21, "done": false, "timesteps_total": 792853, "episode_reward_max": 877.840333141881, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ccae10>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ccac50>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ccab70>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 22, "timesteps_since_restore": 792853, "time_this_iter_s": 21.312888383865356, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 392, "time_total_s": 458.00080275535583, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-01-39", "training_iteration": 21, "time_since_restore": 458.00080275535583}
{"episode_reward_min": 38.36463495840653, "episode_reward_mean": 621.0802550532734, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 11.943407614177653, "cost2_max": -16.50540773411255, "outflow_rate_max": 1205.9640855262014, "cost2_min": -181.0299805800439, "cost1_max": 441.70077171966534, "outflow_rate_mean": 929.8543321773685, "outflow_rate_min": 489.846591981012, "cost2_mean": -96.55312853786303, "cost1_min": 19.405843143702857, "cost1_mean": 307.82305583176543, "system_level_velocity_min": 7.420149059110047, "system_level_velocity_max": 18.124032234305783}, "timesteps_this_iter": 37750, "info": {"load_time_ms": 7.736, "update_time_ms": 7.528, "grad_time_ms": 8746.511, "default": {"vf_loss": 6.9936089515686035, "policy_loss": -0.019948534667491913, "total_loss": 6.980165004730225, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8656736612319946, "kl": 0.019271988421678543, "entropy": 1.45680832862854, "cur_kl_coeff": 0.3375000059604645}, "sample_time_ms": 13136.806, "num_steps_trained": 830603, "num_steps_sampled": 830603}, "timestamp": 1557100920, "episode_len_mean": 693.29, "iterations_since_restore": 22, "done": false, "timesteps_total": 830603, "episode_reward_max": 877.840333141881, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1320>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3154165f60>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2550>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 16, "timesteps_since_restore": 830603, "time_this_iter_s": 20.835673332214355, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 408, "time_total_s": 478.8364760875702, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-02-00", "training_iteration": 22, "time_since_restore": 478.8364760875702}
{"episode_reward_min": 38.36463495840653, "episode_reward_mean": 617.839146367932, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 12.031421354914357, "cost2_max": -16.50540773411255, "outflow_rate_max": 1205.9640855262014, "cost2_min": -181.0299805800439, "cost1_max": 441.70077171966534, "outflow_rate_mean": 928.3786492882639, "outflow_rate_min": 489.846591981012, "cost2_mean": -97.69556456531559, "cost1_min": 19.405843143702857, "cost1_mean": 309.33481583717526, "system_level_velocity_min": 8.850298492238505, "system_level_velocity_max": 18.124032234305783}, "timesteps_this_iter": 36202, "info": {"load_time_ms": 7.925, "update_time_ms": 7.59, "grad_time_ms": 8730.962, "default": {"vf_loss": 8.688981056213379, "policy_loss": -0.021725773811340332, "total_loss": 8.673837661743164, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8461490869522095, "kl": 0.019500860944390297, "entropy": 1.4138894081115723, "cur_kl_coeff": 0.33750003576278687}, "sample_time_ms": 12996.801, "num_steps_trained": 866805, "num_steps_sampled": 866805}, "timestamp": 1557100942, "episode_len_mean": 693.29, "iterations_since_restore": 23, "done": false, "timesteps_total": 866805, "episode_reward_max": 877.840333141881, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ccac88>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca1d0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ccaa20>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 22, "timesteps_since_restore": 866805, "time_this_iter_s": 21.547688484191895, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 430, "time_total_s": 500.3841645717621, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-02-22", "training_iteration": 23, "time_since_restore": 500.3841645717621}
{"episode_reward_min": 202.9614542722596, "episode_reward_mean": 611.9591254599842, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 11.912140772686385, "cost2_max": -16.50540773411255, "outflow_rate_max": 1205.9640855262014, "cost2_min": -181.0299805800439, "cost1_max": 441.70077171966534, "outflow_rate_mean": 922.8352189952556, "outflow_rate_min": 594.2037453203925, "cost2_mean": -96.93948753996001, "cost1_min": 227.50941666157973, "cost1_mean": 310.942144788264, "system_level_velocity_min": 8.850298492238505, "system_level_velocity_max": 17.33825175340019}, "timesteps_this_iter": 37503, "info": {"load_time_ms": 8.184, "update_time_ms": 7.597, "grad_time_ms": 8746.653, "default": {"vf_loss": 6.099914073944092, "policy_loss": -0.020533163100481033, "total_loss": 6.085719585418701, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8947663903236389, "kl": 0.018782198429107666, "entropy": 1.441902756690979, "cur_kl_coeff": 0.33750003576278687}, "sample_time_ms": 12904.385, "num_steps_trained": 904308, "num_steps_sampled": 904308}, "timestamp": 1557100963, "episode_len_mean": 700.0, "iterations_since_restore": 24, "done": false, "timesteps_total": 904308, "episode_reward_max": 870.151635708749, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ccac18>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca7f0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca390>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 17, "timesteps_since_restore": 904308, "time_this_iter_s": 20.848739862442017, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 447, "time_total_s": 521.2329044342041, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-02-43", "training_iteration": 24, "time_since_restore": 521.2329044342041}
{"episode_reward_min": 202.9614542722596, "episode_reward_mean": 600.6744475469876, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 12.06697026226106, "cost2_max": -16.31458315375562, "outflow_rate_max": 1204.7227368607787, "cost2_min": -159.9077573288294, "cost1_max": 441.70077171966534, "outflow_rate_mean": 910.1685119005626, "outflow_rate_min": 593.519047248161, "cost2_mean": -89.64410974555392, "cost1_min": 228.2419416692502, "cost1_mean": 314.7528191437561, "system_level_velocity_min": 8.637242429088209, "system_level_velocity_max": 17.33825175340019}, "timesteps_this_iter": 36516, "info": {"load_time_ms": 8.399, "update_time_ms": 7.371, "grad_time_ms": 8753.603, "default": {"vf_loss": 8.098974227905273, "policy_loss": -0.01852475292980671, "total_loss": 8.086287498474121, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8694076538085938, "kl": 0.017300190404057503, "entropy": 1.4565101861953735, "cur_kl_coeff": 0.33750006556510925}, "sample_time_ms": 12927.062, "num_steps_trained": 940824, "num_steps_sampled": 940824}, "timestamp": 1557100984, "episode_len_mean": 700.0, "iterations_since_restore": 25, "done": false, "timesteps_total": 940824, "episode_reward_max": 870.151635708749, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb27f0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2cf8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cb2ba8>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 25, "timesteps_since_restore": 940824, "time_this_iter_s": 21.75062656402588, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 472, "time_total_s": 542.98353099823, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-03-04", "training_iteration": 25, "time_since_restore": 542.98353099823}
{"episode_reward_min": 202.9614542722596, "episode_reward_mean": 605.2751805080169, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 12.007946722563087, "cost2_max": -16.31458315375562, "outflow_rate_max": 1163.2272355028917, "cost2_min": -159.9077573288294, "cost1_max": 412.01066315656135, "outflow_rate_mean": 921.402423107625, "outflow_rate_min": 593.519047248161, "cost2_mean": -94.16752142985561, "cost1_min": 228.2419416692502, "cost1_mean": 313.328346351618, "system_level_velocity_min": 8.637242429088209, "system_level_velocity_max": 15.464883526868302}, "timesteps_this_iter": 35826, "info": {"load_time_ms": 8.309, "update_time_ms": 7.603, "grad_time_ms": 8747.123, "default": {"vf_loss": 8.125821113586426, "policy_loss": -0.020782411098480225, "total_loss": 8.111392974853516, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8565718531608582, "kl": 0.018823176622390747, "entropy": 1.4537057876586914, "cur_kl_coeff": 0.33750003576278687}, "sample_time_ms": 12862.106, "num_steps_trained": 976650, "num_steps_sampled": 976650}, "timestamp": 1557101006, "episode_len_mean": 700.0, "iterations_since_restore": 26, "done": false, "timesteps_total": 976650, "episode_reward_max": 870.151635708749, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ccaa58>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca400>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca240>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 17, "timesteps_since_restore": 976650, "time_this_iter_s": 21.548859357833862, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 489, "time_total_s": 564.5323903560638, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-03-26", "training_iteration": 26, "time_since_restore": 564.5323903560638}
{"episode_reward_min": 206.9999213413905, "episode_reward_mean": 589.1091680326432, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 12.320179057286714, "cost2_max": -16.31458315375562, "outflow_rate_max": 1130.7922511817692, "cost2_min": -149.2414437864116, "cost1_max": 407.79207591421863, "outflow_rate_mean": 911.079553502234, "outflow_rate_min": 593.519047248161, "cost2_mean": -87.78490930225301, "cost1_min": 228.39604509909364, "cost1_mean": 320.5935817617919, "system_level_velocity_min": 8.637242429088209, "system_level_velocity_max": 16.10413791744703}, "timesteps_this_iter": 35845, "info": {"load_time_ms": 7.889, "update_time_ms": 7.46, "grad_time_ms": 8719.334, "default": {"vf_loss": 8.574936866760254, "policy_loss": -0.017003748565912247, "total_loss": 8.563372611999512, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8877838253974915, "kl": 0.016118310391902924, "entropy": 1.441640853881836, "cur_kl_coeff": 0.33750006556510925}, "sample_time_ms": 12771.223, "num_steps_trained": 1012495, "num_steps_sampled": 1012495}, "timestamp": 1557101028, "episode_len_mean": 700.0, "iterations_since_restore": 27, "done": false, "timesteps_total": 1012495, "episode_reward_max": 833.955529178656, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd6630>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd66a0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd6668>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 27, "timesteps_since_restore": 1012495, "time_this_iter_s": 22.099077224731445, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 516, "time_total_s": 586.6314675807953, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-03-48", "training_iteration": 27, "time_since_restore": 586.6314675807953}
{"episode_reward_min": 196.97436862176906, "episode_reward_mean": 573.838254661435, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 12.708560280834417, "cost2_max": -16.31458315375562, "outflow_rate_max": 1130.7922511817692, "cost2_min": -181.6196062694213, "cost1_max": 411.8309567738982, "outflow_rate_mean": 899.2587692206378, "outflow_rate_min": 593.519047248161, "cost2_mean": -82.03823517771154, "cost1_min": 228.39604509909364, "cost1_mean": 329.9087137027376, "system_level_velocity_min": 8.637242429088209, "system_level_velocity_max": 16.220259870711022}, "timesteps_this_iter": 35944, "info": {"load_time_ms": 7.946, "update_time_ms": 7.399, "grad_time_ms": 8640.571, "default": {"vf_loss": 9.29952335357666, "policy_loss": -0.01778261922299862, "total_loss": 9.287686347961426, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8801526427268982, "kl": 0.017618782818317413, "entropy": 1.436471939086914, "cur_kl_coeff": 0.33750006556510925}, "sample_time_ms": 12751.679, "num_steps_trained": 1048439, "num_steps_sampled": 1048439}, "timestamp": 1557101050, "episode_len_mean": 700.0, "iterations_since_restore": 28, "done": false, "timesteps_total": 1048439, "episode_reward_max": 833.955529178656, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd49e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4940>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4908>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 22, "timesteps_since_restore": 1048439, "time_this_iter_s": 21.730228900909424, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 538, "time_total_s": 608.3616964817047, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-04-10", "training_iteration": 28, "time_since_restore": 608.3616964817047}
{"episode_reward_min": 196.97436862176906, "episode_reward_mean": 593.0193817416528, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 12.884768849972133, "cost2_max": -16.735599358855357, "outflow_rate_max": 1265.2015770895493, "cost2_min": -181.6196062694213, "cost1_max": 466.31527282812584, "outflow_rate_mean": 915.8249419823925, "outflow_rate_min": 593.519047248161, "cost2_mean": -86.62329123924286, "cost1_min": 228.39604509909364, "cost1_mean": 334.94286093911927, "system_level_velocity_min": 8.637242429088209, "system_level_velocity_max": 18.032327474836006}, "timesteps_this_iter": 36635, "info": {"load_time_ms": 8.048, "update_time_ms": 7.435, "grad_time_ms": 8615.155, "default": {"vf_loss": 10.168190956115723, "policy_loss": -0.019100384786725044, "total_loss": 10.15501594543457, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8504221439361572, "kl": 0.017555102705955505, "entropy": 1.446480631828308, "cur_kl_coeff": 0.33750003576278687}, "sample_time_ms": 12730.36, "num_steps_trained": 1085074, "num_steps_sampled": 1085074}, "timestamp": 1557101072, "episode_len_mean": 700.0, "iterations_since_restore": 29, "done": false, "timesteps_total": 1085074, "episode_reward_max": 878.5884738886914, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd41d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4320>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4240>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 21, "timesteps_since_restore": 1085074, "time_this_iter_s": 21.8096604347229, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 559, "time_total_s": 630.1713569164276, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-04-32", "training_iteration": 29, "time_since_restore": 630.1713569164276}
{"episode_reward_min": 196.97436862176906, "episode_reward_mean": 585.4948168051733, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.095571818773088, "cost2_max": -18.463163398909074, "outflow_rate_max": 1265.2015770895493, "cost2_min": -181.6196062694213, "cost1_max": 466.31527282812584, "outflow_rate_mean": 904.9583545594046, "outflow_rate_min": 593.6517358167663, "cost2_mean": -80.80820238878842, "cost1_min": 243.20588296419308, "cost1_mean": 340.2849719505215, "system_level_velocity_min": 9.51181732151272, "system_level_velocity_max": 18.032327474836006}, "timesteps_this_iter": 34754, "info": {"load_time_ms": 8.196, "update_time_ms": 7.522, "grad_time_ms": 8571.931, "default": {"vf_loss": 9.816728591918945, "policy_loss": -0.02143443562090397, "total_loss": 9.801427841186523, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8887792229652405, "kl": 0.018170582130551338, "entropy": 1.4396297931671143, "cur_kl_coeff": 0.33750003576278687}, "sample_time_ms": 12752.752, "num_steps_trained": 1119828, "num_steps_sampled": 1119828}, "timestamp": 1557101093, "episode_len_mean": 700.0, "iterations_since_restore": 30, "done": false, "timesteps_total": 1119828, "episode_reward_max": 878.5884738886914, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd65f8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd6390>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd6d68>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 25, "timesteps_since_restore": 1119828, "time_this_iter_s": 20.664727210998535, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 584, "time_total_s": 650.8360841274261, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-04-53", "training_iteration": 30, "time_since_restore": 650.8360841274261}
{"episode_reward_min": 47.77760342623753, "episode_reward_mean": 587.1803812670547, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.23858122774546, "cost2_max": -18.270583367457952, "outflow_rate_max": 1265.2015770895493, "cost2_min": -181.6196062694213, "cost1_max": 466.31527282812584, "outflow_rate_mean": 900.8852449834156, "outflow_rate_min": 489.59951705940057, "cost2_mean": -77.84715156905217, "cost1_min": 19.82225706942975, "cost1_mean": 335.58399952605924, "system_level_velocity_min": 9.51181732151272, "system_level_velocity_max": 18.48284019352226}, "timesteps_this_iter": 35070, "info": {"load_time_ms": 7.459, "update_time_ms": 7.708, "grad_time_ms": 8550.871, "default": {"vf_loss": 9.603903770446777, "policy_loss": -0.01937813125550747, "total_loss": 9.590642929077148, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8764745593070984, "kl": 0.018128549680113792, "entropy": 1.4336448907852173, "cur_kl_coeff": 0.33750003576278687}, "sample_time_ms": 12820.023, "num_steps_trained": 1154898, "num_steps_sampled": 1154898}, "timestamp": 1557101114, "episode_len_mean": 686.78, "iterations_since_restore": 31, "done": false, "timesteps_total": 1154898, "episode_reward_max": 878.5884738886914, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4c18>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4c50>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd49b0>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 24, "timesteps_since_restore": 1154898, "time_this_iter_s": 21.789477348327637, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 608, "time_total_s": 672.6255614757538, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-05-14", "training_iteration": 31, "time_since_restore": 672.6255614757538}
{"episode_reward_min": 47.77760342623753, "episode_reward_mean": 587.0196137334071, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.326275667752748, "cost2_max": -18.270583367457952, "outflow_rate_max": 1265.2015770895493, "cost2_min": -145.65411711969946, "cost1_max": 466.31527282812584, "outflow_rate_mean": 888.0706802963564, "outflow_rate_min": 489.59951705940057, "cost2_mean": -71.60508797057074, "cost1_min": 19.82225706942975, "cost1_mean": 338.2659778142357, "system_level_velocity_min": 9.51181732151272, "system_level_velocity_max": 18.48284019352226}, "timesteps_this_iter": 35229, "info": {"load_time_ms": 7.234, "update_time_ms": 7.643, "grad_time_ms": 8461.692, "default": {"vf_loss": 11.455631256103516, "policy_loss": -0.0200188048183918, "total_loss": 11.441706657409668, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8312999606132507, "kl": 0.018056130036711693, "entropy": 1.43959379196167, "cur_kl_coeff": 0.33750006556510925}, "sample_time_ms": 12893.124, "num_steps_trained": 1190127, "num_steps_sampled": 1190127}, "timestamp": 1557101135, "episode_len_mean": 686.78, "iterations_since_restore": 32, "done": false, "timesteps_total": 1190127, "episode_reward_max": 878.5884738886914, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca780>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca400>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca5f8>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 23, "timesteps_since_restore": 1190127, "time_this_iter_s": 20.675682306289673, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 631, "time_total_s": 693.3012437820435, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-05-35", "training_iteration": 32, "time_since_restore": 693.3012437820435}
{"episode_reward_min": 47.77760342623753, "episode_reward_mean": 594.6396238235457, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.493401801399745, "cost2_max": -18.270583367457952, "outflow_rate_max": 1163.8823950694873, "cost2_min": -136.17283004848875, "cost1_max": 435.8622767633575, "outflow_rate_mean": 885.881760675171, "outflow_rate_min": 489.59951705940057, "cost2_mean": -65.53871317791659, "cost1_min": 19.82225706942975, "cost1_mean": 342.8837823689017, "system_level_velocity_min": 11.216200209487603, "system_level_velocity_max": 18.48284019352226}, "timesteps_this_iter": 35041, "info": {"load_time_ms": 6.897, "update_time_ms": 7.583, "grad_time_ms": 8404.799, "default": {"vf_loss": 11.525294303894043, "policy_loss": -0.018718382343649864, "total_loss": 11.512584686279297, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8385936617851257, "kl": 0.01780122146010399, "entropy": 1.4720293283462524, "cur_kl_coeff": 0.33750003576278687}, "sample_time_ms": 12945.501, "num_steps_trained": 1225168, "num_steps_sampled": 1225168}, "timestamp": 1557101157, "episode_len_mean": 686.78, "iterations_since_restore": 33, "done": false, "timesteps_total": 1225168, "episode_reward_max": 848.8408700640641, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd6780>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd6e80>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd6f98>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 24, "timesteps_since_restore": 1225168, "time_this_iter_s": 21.51038956642151, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 655, "time_total_s": 714.811633348465, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-05-57", "training_iteration": 33, "time_since_restore": 714.811633348465}
{"episode_reward_min": 47.77760342623753, "episode_reward_mean": 603.9434429289212, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.586016510253897, "cost2_max": -18.270583367457952, "outflow_rate_max": 1163.8823950694873, "cost2_min": -136.17283004848875, "cost1_max": 435.8622767633575, "outflow_rate_mean": 886.1669726178018, "outflow_rate_min": 489.59951705940057, "cost2_mean": -65.78454611080369, "cost1_min": 19.82225706942975, "cost1_mean": 344.7632161067239, "system_level_velocity_min": 10.528244125086172, "system_level_velocity_max": 18.48284019352226}, "timesteps_this_iter": 35004, "info": {"load_time_ms": 6.344, "update_time_ms": 7.612, "grad_time_ms": 8317.307, "default": {"vf_loss": 12.78092098236084, "policy_loss": -0.02217768132686615, "total_loss": 12.765113830566406, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8606406450271606, "kl": 0.01887349784374237, "entropy": 1.4622546434402466, "cur_kl_coeff": 0.33750003576278687}, "sample_time_ms": 13123.64, "num_steps_trained": 1260172, "num_steps_sampled": 1260172}, "timestamp": 1557101178, "episode_len_mean": 686.78, "iterations_since_restore": 34, "done": false, "timesteps_total": 1260172, "episode_reward_max": 900.9051678855874, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd6390>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd6438>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd64a8>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 25, "timesteps_since_restore": 1260172, "time_this_iter_s": 21.767313957214355, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 680, "time_total_s": 736.5789473056793, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-06-18", "training_iteration": 34, "time_since_restore": 736.5789473056793}
{"episode_reward_min": 47.77760342623753, "episode_reward_mean": 621.8250210151562, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.661651596721004, "cost2_max": -18.270583367457952, "outflow_rate_max": 1163.8823950694873, "cost2_min": -123.70629633127234, "cost1_max": 440.93971102887946, "outflow_rate_mean": 894.1760925212164, "outflow_rate_min": 489.59951705940057, "cost2_mean": -66.5961325534417, "cost1_min": 19.82225706942975, "cost1_mean": 351.12329083327165, "system_level_velocity_min": 9.113872996405545, "system_level_velocity_max": 17.74429097958085}, "timesteps_this_iter": 35722, "info": {"load_time_ms": 6.534, "update_time_ms": 7.699, "grad_time_ms": 8266.203, "default": {"vf_loss": 12.710617065429688, "policy_loss": -0.02225068397819996, "total_loss": 12.695172309875488, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8512423038482666, "kl": 0.020163526758551598, "entropy": 1.4907876253128052, "cur_kl_coeff": 0.33750003576278687}, "sample_time_ms": 13268.588, "num_steps_trained": 1295894, "num_steps_sampled": 1295894}, "timestamp": 1557101201, "episode_len_mean": 693.3, "iterations_since_restore": 35, "done": false, "timesteps_total": 1295894, "episode_reward_max": 900.9051678855874, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1438>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1f60>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1cf8>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 20, "timesteps_since_restore": 1295894, "time_this_iter_s": 22.687725067138672, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 700, "time_total_s": 759.266672372818, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-06-41", "training_iteration": 35, "time_since_restore": 759.266672372818}
{"episode_reward_min": 196.1351892094041, "episode_reward_mean": 627.6621601847252, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.747322658588288, "cost2_max": -22.899262917650518, "outflow_rate_max": 1224.315991874563, "cost2_min": -145.6425472991652, "cost1_max": 452.8517289078244, "outflow_rate_mean": 903.5285487143856, "outflow_rate_min": 588.5780438093782, "cost2_mean": -67.41743402917186, "cost1_min": 236.179848950596, "cost1_mean": 356.7365738843819, "system_level_velocity_min": 9.113872996405545, "system_level_velocity_max": 17.580257181491497}, "timesteps_this_iter": 35601, "info": {"load_time_ms": 6.504, "update_time_ms": 7.484, "grad_time_ms": 8224.191, "default": {"vf_loss": 13.33130168914795, "policy_loss": -0.020262563601136208, "total_loss": 13.31862735748291, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8463914394378662, "kl": 0.014987941831350327, "entropy": 1.4631178379058838, "cur_kl_coeff": 0.5062499046325684}, "sample_time_ms": 13317.157, "num_steps_trained": 1331495, "num_steps_sampled": 1331495}, "timestamp": 1557101223, "episode_len_mean": 700.0, "iterations_since_restore": 36, "done": false, "timesteps_total": 1331495, "episode_reward_max": 900.9051678855874, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca358>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4c18>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3154110518>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 24, "timesteps_since_restore": 1331495, "time_this_iter_s": 21.6014404296875, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 724, "time_total_s": 780.8681128025055, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-07-03", "training_iteration": 36, "time_since_restore": 780.8681128025055}
{"episode_reward_min": 272.89274278283057, "episode_reward_mean": 641.5007404730034, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.799857309354161, "cost2_max": -22.899262917650518, "outflow_rate_max": 1224.315991874563, "cost2_min": -145.6425472991652, "cost1_max": 452.8517289078244, "outflow_rate_mean": 923.8561892821588, "outflow_rate_min": 588.5780438093782, "cost2_mean": -70.5501778292041, "cost1_min": 236.179848950596, "cost1_mean": 357.9163509426855, "system_level_velocity_min": 9.113872996405545, "system_level_velocity_max": 17.580257181491497}, "timesteps_this_iter": 35431, "info": {"load_time_ms": 6.509, "update_time_ms": 7.384, "grad_time_ms": 8180.795, "default": {"vf_loss": 10.40153980255127, "policy_loss": -0.020465511828660965, "total_loss": 10.388754844665527, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8775500059127808, "kl": 0.01517166942358017, "entropy": 1.4694669246673584, "cur_kl_coeff": 0.5062499046325684}, "sample_time_ms": 13455.304, "num_steps_trained": 1366926, "num_steps_sampled": 1366926}, "timestamp": 1557101246, "episode_len_mean": 700.0, "iterations_since_restore": 37, "done": false, "timesteps_total": 1366926, "episode_reward_max": 900.9051678855874, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1a58>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1278>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1a20>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 21, "timesteps_since_restore": 1366926, "time_this_iter_s": 23.062548637390137, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 745, "time_total_s": 803.9306614398956, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-07-26", "training_iteration": 37, "time_since_restore": 803.9306614398956}
{"episode_reward_min": 272.89274278283057, "episode_reward_mean": 636.5675962786396, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.867601012091416, "cost2_max": -21.210051755001764, "outflow_rate_max": 1224.315991874563, "cost2_min": -145.6425472991652, "cost1_max": 452.8517289078244, "outflow_rate_mean": 922.9606320901103, "outflow_rate_min": 588.5780438093782, "cost2_mean": -69.20681780772425, "cost1_min": 236.179848950596, "cost1_mean": 359.3876129662879, "system_level_velocity_min": 9.113872996405545, "system_level_velocity_max": 17.580257181491497}, "timesteps_this_iter": 34800, "info": {"load_time_ms": 6.395, "update_time_ms": 7.369, "grad_time_ms": 8184.305, "default": {"vf_loss": 12.668147087097168, "policy_loss": -0.02002459578216076, "total_loss": 12.65546989440918, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8504579067230225, "kl": 0.014513902366161346, "entropy": 1.4825077056884766, "cur_kl_coeff": 0.5062499046325684}, "sample_time_ms": 13444.585, "num_steps_trained": 1401726, "num_steps_sampled": 1401726}, "timestamp": 1557101268, "episode_len_mean": 700.0, "iterations_since_restore": 38, "done": false, "timesteps_total": 1401726, "episode_reward_max": 837.9322700601459, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4e10>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4940>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4160>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 27, "timesteps_since_restore": 1401726, "time_this_iter_s": 21.687596559524536, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 772, "time_total_s": 825.6182579994202, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-07-48", "training_iteration": 38, "time_since_restore": 825.6182579994202}
{"episode_reward_min": 272.89274278283057, "episode_reward_mean": 632.2648708253448, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.914331701933138, "cost2_max": -21.210051755001764, "outflow_rate_max": 1224.315991874563, "cost2_min": -145.6425472991652, "cost1_max": 452.8517289078244, "outflow_rate_mean": 918.6473294146247, "outflow_rate_min": 588.5780438093782, "cost2_mean": -67.49227879468272, "cost1_min": 140.4985261442287, "cost1_mean": 357.76346834947753, "system_level_velocity_min": 10.073792323248327, "system_level_velocity_max": 17.62309249534347}, "timesteps_this_iter": 35622, "info": {"load_time_ms": 6.038, "update_time_ms": 7.341, "grad_time_ms": 8314.655, "default": {"vf_loss": 12.012205123901367, "policy_loss": -0.02038857899606228, "total_loss": 11.999462127685547, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8467504978179932, "kl": 0.015101110562682152, "entropy": 1.4567286968231201, "cur_kl_coeff": 0.5062499046325684}, "sample_time_ms": 13382.785, "num_steps_trained": 1437348, "num_steps_sampled": 1437348}, "timestamp": 1557101290, "episode_len_mean": 695.48, "iterations_since_restore": 39, "done": false, "timesteps_total": 1437348, "episode_reward_max": 842.0112191148686, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3154128978>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1630>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1080>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 22, "timesteps_since_restore": 1437348, "time_this_iter_s": 22.498353004455566, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 794, "time_total_s": 848.1166110038757, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-08-10", "training_iteration": 39, "time_since_restore": 848.1166110038757}
{"episode_reward_min": 306.3019464505069, "episode_reward_mean": 647.4554962916509, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 14.03364694346484, "cost2_max": -21.210051755001764, "outflow_rate_max": 1224.315991874563, "cost2_min": -129.39698557097904, "cost1_max": 452.8517289078244, "outflow_rate_mean": 932.3586013347666, "outflow_rate_min": 662.6506629294495, "cost2_mean": -68.83451599426867, "cost1_min": 140.4985261442287, "cost1_mean": 360.80587654415206, "system_level_velocity_min": 10.073792323248327, "system_level_velocity_max": 17.62309249534347}, "timesteps_this_iter": 34860, "info": {"load_time_ms": 6.022, "update_time_ms": 7.278, "grad_time_ms": 8408.961, "default": {"vf_loss": 13.23115348815918, "policy_loss": -0.02056490257382393, "total_loss": 13.21859359741211, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8268886208534241, "kl": 0.015812236815690994, "entropy": 1.454474687576294, "cur_kl_coeff": 0.5062499046325684}, "sample_time_ms": 13345.107, "num_steps_trained": 1472208, "num_steps_sampled": 1472208}, "timestamp": 1557101311, "episode_len_mean": 695.48, "iterations_since_restore": 40, "done": false, "timesteps_total": 1472208, "episode_reward_max": 842.3980182123892, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca710>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ccae80>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca358>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 23, "timesteps_since_restore": 1472208, "time_this_iter_s": 21.229280471801758, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 817, "time_total_s": 869.3458914756775, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-08-31", "training_iteration": 40, "time_since_restore": 869.3458914756775}
{"episode_reward_min": 57.87357925224498, "episode_reward_mean": 647.797575361781, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 14.280739945896055, "cost2_max": -21.210051755001764, "outflow_rate_max": 1207.4650635232022, "cost2_min": -129.39698557097904, "cost1_max": 451.8762566120083, "outflow_rate_mean": 922.441101932375, "outflow_rate_min": 495.41473081823796, "cost2_mean": -66.79509662606732, "cost1_min": 27.16479831232806, "cost1_mean": 362.7482737083707, "system_level_velocity_min": 10.339583426444687, "system_level_velocity_max": 17.706255339867546}, "timesteps_this_iter": 34860, "info": {"load_time_ms": 5.585, "update_time_ms": 7.193, "grad_time_ms": 8410.286, "default": {"vf_loss": 14.465642929077148, "policy_loss": -0.02093484252691269, "total_loss": 14.451990127563477, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8180409669876099, "kl": 0.01438537985086441, "entropy": 1.4956128597259521, "cur_kl_coeff": 0.5062499046325684}, "sample_time_ms": 13466.229, "num_steps_trained": 1507068, "num_steps_sampled": 1507068}, "timestamp": 1557101335, "episode_len_mean": 688.89, "iterations_since_restore": 41, "done": false, "timesteps_total": 1507068, "episode_reward_max": 842.3980182123892, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ccaf28>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ccab38>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ccafd0>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 24, "timesteps_since_restore": 1507068, "time_this_iter_s": 22.9971182346344, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 841, "time_total_s": 892.3430097103119, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-08-55", "training_iteration": 41, "time_since_restore": 892.3430097103119}
{"episode_reward_min": 57.87357925224498, "episode_reward_mean": 649.0282148393234, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 14.17933625461458, "cost2_max": -21.210051755001764, "outflow_rate_max": 1207.4650635232022, "cost2_min": -130.44926666818122, "cost1_max": 451.8762566120083, "outflow_rate_mean": 916.7194638766605, "outflow_rate_min": 495.41473081823796, "cost2_mean": -67.27214381795727, "cost1_min": 27.16479831232806, "cost1_mean": 359.63187041134205, "system_level_velocity_min": 9.451685294023195, "system_level_velocity_max": 17.706255339867546}, "timesteps_this_iter": 36905, "info": {"load_time_ms": 5.765, "update_time_ms": 7.328, "grad_time_ms": 8490.03, "default": {"vf_loss": 15.52812671661377, "policy_loss": -0.020558400079607964, "total_loss": 15.515191078186035, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8502638339996338, "kl": 0.015057315118610859, "entropy": 1.472542643547058, "cur_kl_coeff": 0.5062499642372131}, "sample_time_ms": 13581.378, "num_steps_trained": 1543973, "num_steps_sampled": 1543973}, "timestamp": 1557101357, "episode_len_mean": 687.4, "iterations_since_restore": 42, "done": false, "timesteps_total": 1543973, "episode_reward_max": 842.3980182123892, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ccae80>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4ef0>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4940>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 22, "timesteps_since_restore": 1543973, "time_this_iter_s": 22.624312162399292, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 863, "time_total_s": 914.9673218727112, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-09-17", "training_iteration": 42, "time_since_restore": 914.9673218727112}
{"episode_reward_min": 57.87357925224498, "episode_reward_mean": 673.2788825029579, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 14.048527550166487, "cost2_max": -21.873676088675033, "outflow_rate_max": 1146.0716407676775, "cost2_min": -133.94449177591784, "cost1_max": 433.0727984923244, "outflow_rate_mean": 930.6332216721715, "outflow_rate_min": 495.41473081823796, "cost2_mean": -71.47305489589263, "cost1_min": 27.16479831232806, "cost1_mean": 359.57193036229756, "system_level_velocity_min": 9.451685294023195, "system_level_velocity_max": 17.706255339867546}, "timesteps_this_iter": 35577, "info": {"load_time_ms": 5.746, "update_time_ms": 7.274, "grad_time_ms": 8534.681, "default": {"vf_loss": 14.270116806030273, "policy_loss": -0.020130056887865067, "total_loss": 14.257550239562988, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7586811184883118, "kl": 0.014938072301447392, "entropy": 1.4562034606933594, "cur_kl_coeff": 0.5062499046325684}, "sample_time_ms": 13513.529, "num_steps_trained": 1579550, "num_steps_sampled": 1579550}, "timestamp": 1557101379, "episode_len_mean": 691.92, "iterations_since_restore": 43, "done": false, "timesteps_total": 1579550, "episode_reward_max": 925.505351570306, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1588>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cc1b00>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1e10>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 20, "timesteps_since_restore": 1579550, "time_this_iter_s": 21.305125951766968, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 883, "time_total_s": 936.2724478244781, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-09-39", "training_iteration": 43, "time_since_restore": 936.2724478244781}
{"episode_reward_min": 57.87357925224498, "episode_reward_mean": 673.9152412114029, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.875133097389877, "cost2_max": -21.873676088675033, "outflow_rate_max": 1222.0086402875868, "cost2_min": -159.5331580158881, "cost1_max": 440.73967271908555, "outflow_rate_mean": 928.9674486338719, "outflow_rate_min": 495.41473081823796, "cost2_mean": -74.74360053322727, "cost1_min": 27.16479831232806, "cost1_mean": 354.9593745789446, "system_level_velocity_min": 9.451685294023195, "system_level_velocity_max": 17.706255339867546}, "timesteps_this_iter": 35705, "info": {"load_time_ms": 6.156, "update_time_ms": 7.312, "grad_time_ms": 8592.652, "default": {"vf_loss": 15.177000045776367, "policy_loss": -0.019992971792817116, "total_loss": 15.164515495300293, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8220341205596924, "kl": 0.014835820533335209, "entropy": 1.4896694421768188, "cur_kl_coeff": 0.5062499046325684}, "sample_time_ms": 13459.057, "num_steps_trained": 1615255, "num_steps_sampled": 1615255}, "timestamp": 1557101400, "episode_len_mean": 691.92, "iterations_since_restore": 44, "done": false, "timesteps_total": 1615255, "episode_reward_max": 925.505351570306, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca978>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca400>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cca358>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 24, "timesteps_since_restore": 1615255, "time_this_iter_s": 21.788395404815674, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 907, "time_total_s": 958.0608432292938, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-10-00", "training_iteration": 44, "time_since_restore": 958.0608432292938}
{"episode_reward_min": 56.045018868301675, "episode_reward_mean": 678.8722171214242, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.735716474064693, "cost2_max": -21.73324927528266, "outflow_rate_max": 1222.0086402875868, "cost2_min": -159.5331580158881, "cost1_max": 440.73967271908555, "outflow_rate_mean": 932.9440409924024, "outflow_rate_min": 498.3722239827023, "cost2_mean": -76.17773567221715, "cost1_min": 25.325817822602602, "cost1_mean": 351.7263960311356, "system_level_velocity_min": 9.451685294023195, "system_level_velocity_max": 18.11629098963719}, "timesteps_this_iter": 36164, "info": {"load_time_ms": 6.352, "update_time_ms": 7.478, "grad_time_ms": 8750.183, "default": {"vf_loss": 12.672148704528809, "policy_loss": -0.018698664382100105, "total_loss": 12.660770416259766, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8246766328811646, "kl": 0.014458372257649899, "entropy": 1.496375322341919, "cur_kl_coeff": 0.5062499642372131}, "sample_time_ms": 13358.56, "num_steps_trained": 1651419, "num_steps_sampled": 1651419}, "timestamp": 1557101424, "episode_len_mean": 691.9, "iterations_since_restore": 45, "done": false, "timesteps_total": 1651419, "episode_reward_max": 925.505351570306, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd48d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd43c8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4a20>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 20, "timesteps_since_restore": 1651419, "time_this_iter_s": 23.262091398239136, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 927, "time_total_s": 981.322934627533, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-10-24", "training_iteration": 45, "time_since_restore": 981.322934627533}
{"episode_reward_min": 56.045018868301675, "episode_reward_mean": 693.2059950561301, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.586186586178707, "cost2_max": -21.73324927528266, "outflow_rate_max": 1222.0086402875868, "cost2_min": -159.5331580158881, "cost1_max": 440.73967271908555, "outflow_rate_mean": 944.0782791679005, "outflow_rate_min": 498.3722239827023, "cost2_mean": -79.98550277388189, "cost1_min": 25.325817822602602, "cost1_mean": 348.3707859977, "system_level_velocity_min": 9.451685294023195, "system_level_velocity_max": 18.11629098963719}, "timesteps_this_iter": 35896, "info": {"load_time_ms": 6.569, "update_time_ms": 7.572, "grad_time_ms": 8791.485, "default": {"vf_loss": 13.008427619934082, "policy_loss": -0.0223796758800745, "total_loss": 12.993884086608887, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.865766704082489, "kl": 0.015477614477276802, "entropy": 1.4853010177612305, "cur_kl_coeff": 0.5062499642372131}, "sample_time_ms": 13421.039, "num_steps_trained": 1687315, "num_steps_sampled": 1687315}, "timestamp": 1557101446, "episode_len_mean": 691.9, "iterations_since_restore": 46, "done": false, "timesteps_total": 1687315, "episode_reward_max": 925.505351570306, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1208>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce16d8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce10b8>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 22, "timesteps_since_restore": 1687315, "time_this_iter_s": 22.633612632751465, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 949, "time_total_s": 1003.9565472602844, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-10-46", "training_iteration": 46, "time_since_restore": 1003.9565472602844}
{"episode_reward_min": 47.509877155817755, "episode_reward_mean": 676.5749141512098, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.78442425284847, "cost2_max": -17.052891175354635, "outflow_rate_max": 1222.0086402875868, "cost2_min": -159.5331580158881, "cost1_max": 441.52859256796535, "outflow_rate_mean": 927.4930016928731, "outflow_rate_min": 486.645392700168, "cost2_mean": -75.5042570706082, "cost1_min": 21.184370817056454, "cost1_mean": 344.6312832274591, "system_level_velocity_min": 10.14427306652658, "system_level_velocity_max": 18.812757575377365}, "timesteps_this_iter": 35470, "info": {"load_time_ms": 6.549, "update_time_ms": 7.628, "grad_time_ms": 8816.857, "default": {"vf_loss": 12.97320556640625, "policy_loss": -0.022119596600532532, "total_loss": 12.95863151550293, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8034501075744629, "kl": 0.01490701362490654, "entropy": 1.51824152469635, "cur_kl_coeff": 0.5062499046325684}, "sample_time_ms": 13218.283, "num_steps_trained": 1722785, "num_steps_sampled": 1722785}, "timestamp": 1557101468, "episode_len_mean": 680.05, "iterations_since_restore": 47, "done": false, "timesteps_total": 1722785, "episode_reward_max": 890.5916418092261, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd6ac8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1c50>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3154165f60>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 23, "timesteps_since_restore": 1722785, "time_this_iter_s": 21.27736520767212, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 972, "time_total_s": 1025.2339124679565, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-11-08", "training_iteration": 47, "time_since_restore": 1025.2339124679565}
{"episode_reward_min": 47.509877155817755, "episode_reward_mean": 679.190579117114, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 13.882057054471023, "cost2_max": -17.052891175354635, "outflow_rate_max": 1192.5107565028547, "cost2_min": -159.5331580158881, "cost1_max": 442.03676964419327, "outflow_rate_mean": 923.8555700447224, "outflow_rate_min": 486.645392700168, "cost2_mean": -71.96732108572422, "cost1_min": 21.184370817056454, "cost1_mean": 347.51056362719964, "system_level_velocity_min": 10.45506153422118, "system_level_velocity_max": 18.812757575377365}, "timesteps_this_iter": 34627, "info": {"load_time_ms": 6.555, "update_time_ms": 7.687, "grad_time_ms": 8789.827, "default": {"vf_loss": 13.309118270874023, "policy_loss": -0.01833713799715042, "total_loss": 13.29794979095459, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8238790035247803, "kl": 0.014161724597215652, "entropy": 1.5256502628326416, "cur_kl_coeff": 0.5062499046325684}, "sample_time_ms": 13158.335, "num_steps_trained": 1757412, "num_steps_sampled": 1757412}, "timestamp": 1557101489, "episode_len_mean": 680.05, "iterations_since_restore": 48, "done": false, "timesteps_total": 1757412, "episode_reward_max": 890.5916418092261, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4048>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4358>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153cd4240>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 21, "timesteps_since_restore": 1757412, "time_this_iter_s": 20.788837671279907, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 993, "time_total_s": 1046.0227501392365, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-11-29", "training_iteration": 48, "time_since_restore": 1046.0227501392365}
{"episode_reward_min": 47.509877155817755, "episode_reward_mean": 685.2762550383861, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 14.018741513657604, "cost2_max": -17.052891175354635, "outflow_rate_max": 1192.5107565028547, "cost2_min": -154.54865283729592, "cost1_max": 442.03676964419327, "outflow_rate_mean": 935.4994042740274, "outflow_rate_min": 486.645392700168, "cost2_mean": -70.99675311709913, "cost1_min": 21.184370817056454, "cost1_mean": 355.3587754576476, "system_level_velocity_min": 11.006800251522751, "system_level_velocity_max": 18.812757575377365}, "timesteps_this_iter": 35684, "info": {"load_time_ms": 6.559, "update_time_ms": 7.74, "grad_time_ms": 8686.062, "default": {"vf_loss": 12.708983421325684, "policy_loss": -0.021442284807562828, "total_loss": 12.69483757019043, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8402653336524963, "kl": 0.014414289966225624, "entropy": 1.5204343795776367, "cur_kl_coeff": 0.5062499046325684}, "sample_time_ms": 13269.745, "num_steps_trained": 1793096, "num_steps_sampled": 1793096}, "timestamp": 1557101511, "episode_len_mean": 686.66, "iterations_since_restore": 49, "done": false, "timesteps_total": 1793096, "episode_reward_max": 866.473652618513, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce13c8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1dd8>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1208>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 22, "timesteps_since_restore": 1793096, "time_this_iter_s": 22.572850465774536, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 1015, "time_total_s": 1068.595600605011, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-11-51", "training_iteration": 49, "time_since_restore": 1068.595600605011}
{"episode_reward_min": 47.509877155817755, "episode_reward_mean": 687.447652627031, "hostname": "flow-main", "node_ip": "10.138.0.2", "policy_reward_mean": {}, "custom_metrics": {"system_level_velocity_mean": 14.121859180584327, "cost2_max": -17.052891175354635, "outflow_rate_max": 1184.0659087410797, "cost2_min": -131.65353935701677, "cost1_max": 442.03676964419327, "outflow_rate_mean": 931.8081442051146, "outflow_rate_min": 486.645392700168, "cost2_mean": -66.53803339998885, "cost1_min": 21.184370817056454, "cost1_mean": 357.98776035757766, "system_level_velocity_min": 10.674232350953993, "system_level_velocity_max": 18.812757575377365}, "timesteps_this_iter": 36191, "info": {"load_time_ms": 6.704, "update_time_ms": 7.807, "grad_time_ms": 8642.942, "default": {"vf_loss": 14.1968355178833, "policy_loss": -0.021472280845046043, "total_loss": 14.182530403137207, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8118982911109924, "kl": 0.014157797209918499, "entropy": 1.5490174293518066, "cur_kl_coeff": 0.5062499642372131}, "sample_time_ms": 13402.821, "num_steps_trained": 1829287, "num_steps_sampled": 1829287}, "timestamp": 1557101533, "episode_len_mean": 686.31, "iterations_since_restore": 50, "done": true, "timesteps_total": 1829287, "episode_reward_max": 866.473652618513, "pid": 56389, "config": {"synchronize_filters": true, "vf_clip_param": 1000000.0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "input": "sampler", "optimizer": {}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "output": null, "vf_loss_coeff": 1.0, "horizon": 1500, "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1860>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1278>", "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3153ce1160>"}, "train_batch_size": 30000, "num_cpus_per_worker": 1, "sample_async": false, "input_evaluation": null, "num_envs_per_worker": 1, "kl_coeff": 0.2, "simple_optimizer": false, "straggler_mitigation": false, "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "sample_batch_size": 200, "lr": 0.0005, "output_compress_columns": ["obs", "new_obs"], "num_gpus_per_worker": 0, "lambda": 0.97, "clip_param": 0.3, "gamma": 0.99, "tf_session_args": {"device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "log_device_placement": false}, "num_gpus": 0, "log_level": "INFO", "sgd_minibatch_size": 128, "model": {"channel_major": false, "free_log_std": false, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "dim": 84, "custom_preprocessor": null, "framestack": true, "custom_model": null, "use_lstm": false, "max_seq_len": 20, "squash_to_range": false, "custom_options": {}, "conv_filters": null, "lstm_cell_size": 256, "conv_activation": "relu", "zero_mean": true, "grayscale": false, "fcnet_hiddens": [128, 64, 32]}, "num_sgd_iter": 10, "custom_resources_per_worker": {}, "preprocessor_pref": "deepmind", "monitor": false, "batch_mode": "truncate_episodes", "compress_observations": false, "kl_target": 0.01, "vf_share_layers": false, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "clip_actions": false, "lr_schedule": null, "clip_rewards": null, "entropy_coeff": 0.0, "collect_metrics_timeout": 180, "num_cpus_for_driver": 1, "num_workers": 20, "use_gae": true}, "episodes_this_iter": 22, "timesteps_since_restore": 1829287, "time_this_iter_s": 22.150073051452637, "experiment_id": "55723b7b6678492fa0f08fa618ba411b", "episodes_total": 1037, "time_total_s": 1090.7456736564636, "num_metric_batches_dropped": 0, "date": "2019-05-06_00-12-13", "training_iteration": 50, "time_since_restore": 1090.7456736564636}
