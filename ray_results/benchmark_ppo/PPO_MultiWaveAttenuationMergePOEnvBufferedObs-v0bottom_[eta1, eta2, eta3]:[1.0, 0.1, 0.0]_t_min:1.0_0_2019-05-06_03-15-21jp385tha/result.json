{"episode_len_mean": 700.0, "time_this_iter_s": 39.32922720909119, "node_ip": "10.138.0.2", "episodes_total": 9, "time_since_restore": 39.32922720909119, "episode_reward_mean": 290.3395642673585, "hostname": "flow-main", "timesteps_since_restore": 39226, "timesteps_this_iter": 39226, "timesteps_total": 39226, "pid": 24594, "time_total_s": 39.32922720909119, "custom_metrics": {"system_level_velocity_min": 6.963837204763856, "cost2_max": 0.0, "cost1_mean": 212.5688488095817, "system_level_velocity_mean": 8.234812153825729, "cost1_min": 180.5492400544157, "outflow_rate_min": 556.2323741204773, "system_level_velocity_max": 9.860187640216227, "cost2_min": 0.0, "cost1_max": 244.48959566018462, "outflow_rate_mean": 613.78659202142, "cost2_mean": 0.0, "outflow_rate_max": 684.9138409718284}, "done": false, "iterations_since_restore": 1, "episode_reward_min": 235.57547136430915, "episode_reward_max": 377.8927264779507, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976829c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976829c88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976829cf8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 30580.348, "num_steps_sampled": 39226, "num_steps_trained": 39226, "grad_time_ms": 7729.989, "default": {"total_loss": 1.4705116748809814, "entropy": 1.4098594188690186, "vf_explained_var": 0.8800840973854065, "cur_kl_coeff": 0.20000003278255463, "cur_lr": 0.0005000000237487257, "vf_loss": 1.471122145652771, "policy_loss": -0.0009239877108484507, "kl": 0.0015677915653213859}, "update_time_ms": 797.1, "load_time_ms": 94.81}, "timestamp": 1557112585, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 9, "date": "2019-05-06_03-16-25", "training_iteration": 1}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.191312313079834, "node_ip": "10.138.0.2", "episodes_total": 29, "time_since_restore": 60.52053952217102, "episode_reward_mean": 301.8682795296223, "hostname": "flow-main", "timesteps_since_restore": 79238, "timesteps_this_iter": 40012, "timesteps_total": 79238, "pid": 24594, "time_total_s": 60.52053952217102, "custom_metrics": {"system_level_velocity_min": 6.890118024205768, "cost2_max": 0.0, "cost1_mean": 204.77072541125767, "system_level_velocity_mean": 7.926604711321579, "cost1_min": 175.458962921863, "outflow_rate_min": 552.9032515631949, "system_level_velocity_max": 9.860187640216227, "cost2_min": -0.14912828524179325, "cost1_max": 244.48959566018462, "outflow_rate_mean": 620.9234788592248, "cost2_mean": -0.005142354663510112, "outflow_rate_max": 779.33701303096}, "done": false, "iterations_since_restore": 2, "episode_reward_min": 176.2312837968747, "episode_reward_max": 415.3637932165388, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c90b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 21846.247, "num_steps_sampled": 79238, "num_steps_trained": 79238, "grad_time_ms": 7858.331, "default": {"total_loss": 0.9994755983352661, "entropy": 1.4035999774932861, "vf_explained_var": 0.94386887550354, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 1.0043442249298096, "policy_loss": -0.0060705142095685005, "kl": 0.012019079178571701}, "update_time_ms": 401.803, "load_time_ms": 52.144}, "timestamp": 1557112606, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_03-16-46", "training_iteration": 2}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.729745388031006, "node_ip": "10.138.0.2", "episodes_total": 41, "time_since_restore": 81.25028491020203, "episode_reward_mean": 322.6610597831381, "hostname": "flow-main", "timesteps_since_restore": 122815, "timesteps_this_iter": 43577, "timesteps_total": 122815, "pid": 24594, "time_total_s": 81.25028491020203, "custom_metrics": {"system_level_velocity_min": 6.890118024205768, "cost2_max": 0.0, "cost1_mean": 207.98262519612678, "system_level_velocity_mean": 8.026507709225353, "cost1_min": 175.458962921863, "outflow_rate_min": 552.9032515631949, "system_level_velocity_max": 9.860187640216227, "cost2_min": -0.14912828524179325, "cost1_max": 244.48959566018462, "outflow_rate_mean": 634.2277755539251, "cost2_mean": -0.0036372752497998355, "outflow_rate_max": 779.33701303096}, "done": false, "iterations_since_restore": 3, "episode_reward_min": 176.2312837968747, "episode_reward_max": 548.7983496734723, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841828>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841400>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 18579.817, "num_steps_sampled": 122815, "num_steps_trained": 122815, "grad_time_ms": 8099.725, "default": {"total_loss": 2.0249030590057373, "entropy": 1.3923672437667847, "vf_explained_var": 0.9430311918258667, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 2.0274083614349365, "policy_loss": -0.003305740188807249, "kl": 0.008005731739103794}, "update_time_ms": 271.41, "load_time_ms": 38.789}, "timestamp": 1557112627, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 12, "date": "2019-05-06_03-17-07", "training_iteration": 3}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.915177822113037, "node_ip": "10.138.0.2", "episodes_total": 59, "time_since_restore": 103.16546273231506, "episode_reward_mean": 398.7844666177026, "hostname": "flow-main", "timesteps_since_restore": 164092, "timesteps_this_iter": 41277, "timesteps_total": 164092, "pid": 24594, "time_total_s": 103.16546273231506, "custom_metrics": {"system_level_velocity_min": 4.553691759579185, "cost2_max": 0.0, "cost1_mean": 211.62648522405212, "system_level_velocity_mean": 8.121785404114652, "cost1_min": 116.12199355120336, "outflow_rate_min": 540.4177521525929, "system_level_velocity_max": 10.677376810834167, "cost2_min": -0.7261161618031108, "cost1_max": 287.77824446084, "outflow_rate_mean": 667.0123284600572, "cost2_mean": -0.01509246574432896, "outflow_rate_max": 964.660391768825}, "done": false, "iterations_since_restore": 4, "episode_reward_min": 176.2312837968747, "episode_reward_max": 755.5494921372701, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9f60>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c93c8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 17198.768, "num_steps_sampled": 164092, "num_steps_trained": 164092, "grad_time_ms": 8266.32, "default": {"total_loss": 2.962522506713867, "entropy": 1.3711291551589966, "vf_explained_var": 0.9428929090499878, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 2.966454029083252, "policy_loss": -0.005132055841386318, "kl": 0.012006264179944992}, "update_time_ms": 205.217, "load_time_ms": 32.027}, "timestamp": 1557112649, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-17-29", "training_iteration": 4}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.32368040084839, "node_ip": "10.138.0.2", "episodes_total": 77, "time_since_restore": 125.48914313316345, "episode_reward_mean": 464.8623780170865, "hostname": "flow-main", "timesteps_since_restore": 207261, "timesteps_this_iter": 43169, "timesteps_total": 207261, "pid": 24594, "time_total_s": 125.48914313316345, "custom_metrics": {"system_level_velocity_min": 4.553691759579185, "cost2_max": 0.0, "cost1_mean": 220.2059075828134, "system_level_velocity_mean": 8.421269370214981, "cost1_min": 116.12199355120336, "outflow_rate_min": 540.4177521525929, "system_level_velocity_max": 10.892321753032917, "cost2_min": -0.7261161618031108, "cost1_max": 296.0478389798162, "outflow_rate_mean": 709.5619331017199, "cost2_mean": -0.018732879662130313, "outflow_rate_max": 987.7012857824834}, "done": false, "iterations_since_restore": 5, "episode_reward_min": 176.2312837968747, "episode_reward_max": 829.3063285312168, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841fd0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841cf8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 16249.437, "num_steps_sampled": 207261, "num_steps_trained": 207261, "grad_time_ms": 8564.687, "default": {"total_loss": 3.55684232711792, "entropy": 1.3501193523406982, "vf_explained_var": 0.9161056280136108, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 3.558858871459961, "policy_loss": -0.0026679213624447584, "kl": 0.006516643334180117}, "update_time_ms": 166.098, "load_time_ms": 26.86}, "timestamp": 1557112671, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-17-51", "training_iteration": 5}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.78873300552368, "node_ip": "10.138.0.2", "episodes_total": 86, "time_since_restore": 147.27787613868713, "episode_reward_mean": 494.19585476960816, "hostname": "flow-main", "timesteps_since_restore": 250022, "timesteps_this_iter": 42761, "timesteps_total": 250022, "pid": 24594, "time_total_s": 147.27787613868713, "custom_metrics": {"system_level_velocity_min": 4.553691759579185, "cost2_max": 0.0, "cost1_mean": 223.69106547238152, "system_level_velocity_mean": 8.539492405886545, "cost1_min": 116.12199355120336, "outflow_rate_min": 540.4177521525929, "system_level_velocity_max": 11.024037826954155, "cost2_min": -0.7261161618031108, "cost1_max": 297.5724905695713, "outflow_rate_mean": 726.5853072331948, "cost2_mean": -0.016772462023070166, "outflow_rate_max": 1000.4439230886454}, "done": false, "iterations_since_restore": 6, "episode_reward_min": 176.2312837968747, "episode_reward_max": 889.510261428998, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768412b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841390>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 15446.033, "num_steps_sampled": 250022, "num_steps_trained": 250022, "grad_time_ms": 8847.254, "default": {"total_loss": 3.3973629474639893, "entropy": 1.323185682296753, "vf_explained_var": 0.927813708782196, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 3.3995566368103027, "policy_loss": -0.0029156075324863195, "kl": 0.007218248210847378}, "update_time_ms": 139.61, "load_time_ms": 24.375}, "timestamp": 1557112693, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 9, "date": "2019-05-06_03-18-13", "training_iteration": 6}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.996580123901367, "node_ip": "10.138.0.2", "episodes_total": 105, "time_since_restore": 169.2744562625885, "episode_reward_mean": 553.7174833146212, "hostname": "flow-main", "timesteps_since_restore": 292504, "timesteps_this_iter": 42482, "timesteps_total": 292504, "pid": 24594, "time_total_s": 169.2744562625885, "custom_metrics": {"system_level_velocity_min": 4.553691759579185, "cost2_max": 0.0, "cost1_mean": 230.5250702931892, "system_level_velocity_mean": 8.773183680369412, "cost1_min": 116.12199355120336, "outflow_rate_min": 540.4177521525929, "system_level_velocity_max": 11.024037826954155, "cost2_min": -0.7261161618031108, "cost1_max": 297.5724905695713, "outflow_rate_mean": 759.9391592979699, "cost2_mean": -0.01790725775635385, "outflow_rate_max": 1000.4439230886454}, "done": false, "iterations_since_restore": 7, "episode_reward_min": 176.2312837968747, "episode_reward_max": 889.510261428998, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976829fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9978>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 14888.728, "num_steps_sampled": 292504, "num_steps_trained": 292504, "grad_time_ms": 9061.545, "default": {"total_loss": 5.163020133972168, "entropy": 1.3015631437301636, "vf_explained_var": 0.8895670175552368, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 5.164113521575928, "policy_loss": -0.00164345046505332, "kl": 0.005506748799234629}, "update_time_ms": 120.797, "load_time_ms": 22.665}, "timestamp": 1557112715, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-18-35", "training_iteration": 7}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.522486925125122, "node_ip": "10.138.0.2", "episodes_total": 120, "time_since_restore": 191.79694318771362, "episode_reward_mean": 625.7655759846468, "hostname": "flow-main", "timesteps_since_restore": 335761, "timesteps_this_iter": 43257, "timesteps_total": 335761, "pid": 24594, "time_total_s": 191.79694318771362, "custom_metrics": {"system_level_velocity_min": 4.553691759579185, "cost2_max": 0.0, "cost1_mean": 238.5547964445292, "system_level_velocity_mean": 9.038746911671835, "cost1_min": 116.12199355120336, "outflow_rate_min": 540.4177521525929, "system_level_velocity_max": 11.056407580870362, "cost2_min": -0.7261161618031108, "cost1_max": 297.6531003050691, "outflow_rate_mean": 800.1924119908758, "cost2_mean": -0.019135757280518924, "outflow_rate_max": 1010.6579980858793}, "done": false, "iterations_since_restore": 8, "episode_reward_min": 231.9969912537364, "episode_reward_max": 889.510261428998, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9fd0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 14503.782, "num_steps_sampled": 335761, "num_steps_trained": 335761, "grad_time_ms": 9256.806, "default": {"total_loss": 4.857311725616455, "entropy": 1.3100982904434204, "vf_explained_var": 0.8926659822463989, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 4.857944488525391, "policy_loss": -0.001274529960937798, "kl": 0.006419880781322718}, "update_time_ms": 106.5, "load_time_ms": 21.362}, "timestamp": 1557112737, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_03-18-57", "training_iteration": 8}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.746416330337524, "node_ip": "10.138.0.2", "episodes_total": 130, "time_since_restore": 213.54335951805115, "episode_reward_mean": 670.6842819748107, "hostname": "flow-main", "timesteps_since_restore": 379799, "timesteps_this_iter": 44038, "timesteps_total": 379799, "pid": 24594, "time_total_s": 213.54335951805115, "custom_metrics": {"system_level_velocity_min": 4.553691759579185, "cost2_max": 0.0, "cost1_mean": 242.77894611611296, "system_level_velocity_mean": 9.178233853184361, "cost1_min": 116.12199355120336, "outflow_rate_min": 540.4177521525929, "system_level_velocity_max": 11.056407580870362, "cost2_min": -0.7261161618031108, "cost1_max": 297.6531003050691, "outflow_rate_mean": 823.1280349546878, "cost2_mean": -0.030233377980931033, "outflow_rate_max": 1010.6579980858793}, "done": false, "iterations_since_restore": 9, "episode_reward_min": 302.61780936180514, "episode_reward_max": 889.510261428998, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841630>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 14096.45, "num_steps_sampled": 379799, "num_steps_trained": 379799, "grad_time_ms": 9430.662, "default": {"total_loss": 3.7109766006469727, "entropy": 1.2943342924118042, "vf_explained_var": 0.9294549822807312, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 3.7123682498931885, "policy_loss": -0.0020398765336722136, "kl": 0.00648273853585124}, "update_time_ms": 95.42, "load_time_ms": 20.125}, "timestamp": 1557112759, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 10, "date": "2019-05-06_03-19-19", "training_iteration": 9}
{"episode_len_mean": 700.0, "time_this_iter_s": 23.425745964050293, "node_ip": "10.138.0.2", "episodes_total": 149, "time_since_restore": 236.96910548210144, "episode_reward_mean": 709.8814747491564, "hostname": "flow-main", "timesteps_since_restore": 423398, "timesteps_this_iter": 43599, "timesteps_total": 423398, "pid": 24594, "time_total_s": 236.96910548210144, "custom_metrics": {"system_level_velocity_min": 4.553691759579185, "cost2_max": 0.0, "cost1_mean": 243.52622207400637, "system_level_velocity_mean": 9.196220906887687, "cost1_min": 116.12199355120336, "outflow_rate_min": 497.4740523584222, "system_level_velocity_max": 11.056407580870362, "cost2_min": -1.1428571428571428, "cost1_max": 297.6531003050691, "outflow_rate_mean": 833.9324885627086, "cost2_mean": -0.049154406042456224, "outflow_rate_max": 1010.6579980858793}, "done": false, "iterations_since_restore": 10, "episode_reward_min": 437.7571621056225, "episode_reward_max": 889.510261428998, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9cc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9f98>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 13937.155, "num_steps_sampled": 423398, "num_steps_trained": 423398, "grad_time_ms": 9569.002, "default": {"total_loss": 5.13026762008667, "entropy": 1.2883187532424927, "vf_explained_var": 0.913329005241394, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 5.132788181304932, "policy_loss": -0.0033881221897900105, "kl": 0.008676113560795784}, "update_time_ms": 86.58, "load_time_ms": 19.566}, "timestamp": 1557112783, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-19-43", "training_iteration": 10}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.31314468383789, "node_ip": "10.138.0.2", "episodes_total": 163, "time_since_restore": 259.28225016593933, "episode_reward_mean": 726.4054902238183, "hostname": "flow-main", "timesteps_since_restore": 466950, "timesteps_this_iter": 43552, "timesteps_total": 466950, "pid": 24594, "time_total_s": 259.28225016593933, "custom_metrics": {"system_level_velocity_min": 6.787969968111311, "cost2_max": 0.0, "cost1_mean": 247.51810586404557, "system_level_velocity_mean": 9.337320053185033, "cost1_min": 175.77222554307494, "outflow_rate_min": 497.4740523584222, "system_level_velocity_max": 11.056407580870362, "cost2_min": -1.1428571428571428, "cost1_max": 297.6531003050691, "outflow_rate_mean": 848.1761794021268, "cost2_mean": -0.045754136899785795, "outflow_rate_max": 1010.6579980858793}, "done": false, "iterations_since_restore": 11, "episode_reward_min": 454.1470594549628, "episode_reward_max": 889.510261428998, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9828>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12030.942, "num_steps_sampled": 466950, "num_steps_trained": 466950, "grad_time_ms": 9865.317, "default": {"total_loss": 3.7500832080841064, "entropy": 1.2784265279769897, "vf_explained_var": 0.9544225335121155, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 3.752023220062256, "policy_loss": -0.0027213767170906067, "kl": 0.007815160788595676}, "update_time_ms": 7.5, "load_time_ms": 11.01}, "timestamp": 1557112805, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "date": "2019-05-06_03-20-05", "training_iteration": 11}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.60929250717163, "node_ip": "10.138.0.2", "episodes_total": 179, "time_since_restore": 280.89154267311096, "episode_reward_mean": 744.3049104007885, "hostname": "flow-main", "timesteps_since_restore": 508469, "timesteps_this_iter": 41519, "timesteps_total": 508469, "pid": 24594, "time_total_s": 280.89154267311096, "custom_metrics": {"system_level_velocity_min": 6.787969968111311, "cost2_max": 0.0, "cost1_mean": 251.89426931026716, "system_level_velocity_mean": 9.490356257192918, "cost1_min": 175.77222554307494, "outflow_rate_min": 497.4740523584222, "system_level_velocity_max": 12.011968004975243, "cost2_min": -1.1428571428571428, "cost1_max": 324.3677909642407, "outflow_rate_mean": 863.1592060812341, "cost2_mean": -0.04703627169274587, "outflow_rate_max": 1074.7525860326252}, "done": false, "iterations_since_restore": 12, "episode_reward_min": 454.1470594549628, "episode_reward_max": 974.5622813713854, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841cc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768414a8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11883.411, "num_steps_sampled": 508469, "num_steps_trained": 508469, "grad_time_ms": 10054.096, "default": {"total_loss": 5.00885534286499, "entropy": 1.2549099922180176, "vf_explained_var": 0.9425815343856812, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 5.0107269287109375, "policy_loss": -0.002440037904307246, "kl": 0.005682008806616068}, "update_time_ms": 7.572, "load_time_ms": 11.179}, "timestamp": 1557112826, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-20-26", "training_iteration": 12}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.09027934074402, "node_ip": "10.138.0.2", "episodes_total": 195, "time_since_restore": 302.981822013855, "episode_reward_mean": 756.495720036597, "hostname": "flow-main", "timesteps_since_restore": 551370, "timesteps_this_iter": 42901, "timesteps_total": 551370, "pid": 24594, "time_total_s": 302.981822013855, "custom_metrics": {"system_level_velocity_min": 6.787969968111311, "cost2_max": 0.0, "cost1_mean": 258.46102335052854, "system_level_velocity_mean": 9.734435726249652, "cost1_min": 175.77222554307494, "outflow_rate_min": 497.4740523584222, "system_level_velocity_max": 12.19861864692216, "cost2_min": -1.1428571428571428, "cost1_max": 330.4769676004428, "outflow_rate_mean": 883.9174861575151, "cost2_mean": -0.05399008024897842, "outflow_rate_max": 1085.4426222389868}, "done": false, "iterations_since_restore": 13, "episode_reward_min": 454.1470594549628, "episode_reward_max": 974.5622813713854, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c99b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9d30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c97f0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11848.296, "num_steps_sampled": 551370, "num_steps_trained": 551370, "grad_time_ms": 10225.865, "default": {"total_loss": 6.446338653564453, "entropy": 1.2433958053588867, "vf_explained_var": 0.9100120663642883, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 6.448040962219238, "policy_loss": -0.0023742341436445713, "kl": 0.006707376334816217}, "update_time_ms": 7.233, "load_time_ms": 11.353}, "timestamp": 1557112849, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-20-49", "training_iteration": 13}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.033567905426025, "node_ip": "10.138.0.2", "episodes_total": 205, "time_since_restore": 323.015389919281, "episode_reward_mean": 763.7472639126369, "hostname": "flow-main", "timesteps_since_restore": 594324, "timesteps_this_iter": 42954, "timesteps_total": 594324, "pid": 24594, "time_total_s": 323.015389919281, "custom_metrics": {"system_level_velocity_min": 6.787969968111311, "cost2_max": 0.0, "cost1_mean": 262.06367355429336, "system_level_velocity_mean": 9.866343521314667, "cost1_min": 175.77222554307494, "outflow_rate_min": 497.4740523584222, "system_level_velocity_max": 12.19861864692216, "cost2_min": -1.1428571428571428, "cost1_max": 330.4769676004428, "outflow_rate_mean": 894.2630906771446, "cost2_mean": -0.0612336466490631, "outflow_rate_max": 1085.4426222389868}, "done": false, "iterations_since_restore": 14, "episode_reward_min": 454.1470594549628, "episode_reward_max": 974.5622813713854, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff97684e748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832c50>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11671.382, "num_steps_sampled": 594324, "num_steps_trained": 594324, "grad_time_ms": 10215.577, "default": {"total_loss": 4.7254719734191895, "entropy": 1.2259345054626465, "vf_explained_var": 0.9450035691261292, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 4.72642183303833, "policy_loss": -0.0014736517332494259, "kl": 0.005236429627984762}, "update_time_ms": 7.326, "load_time_ms": 10.539}, "timestamp": 1557112869, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 10, "date": "2019-05-06_03-21-09", "training_iteration": 14}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.541635751724243, "node_ip": "10.138.0.2", "episodes_total": 223, "time_since_restore": 344.55702567100525, "episode_reward_mean": 776.4881010726971, "hostname": "flow-main", "timesteps_since_restore": 636556, "timesteps_this_iter": 42232, "timesteps_total": 636556, "pid": 24594, "time_total_s": 344.55702567100525, "custom_metrics": {"system_level_velocity_min": 6.787969968111311, "cost2_max": 0.0, "cost1_mean": 270.11320660650597, "system_level_velocity_mean": 10.178359097119976, "cost1_min": 175.77222554307494, "outflow_rate_min": 497.4740523584222, "system_level_velocity_max": 13.322098432409206, "cost2_min": -1.1428571428571428, "cost1_max": 355.73879169328484, "outflow_rate_mean": 917.3383825960373, "cost2_mean": -0.06091240782498712, "outflow_rate_max": 1133.0090782431773}, "done": false, "iterations_since_restore": 15, "episode_reward_min": 454.1470594549628, "episode_reward_max": 979.5910596758604, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841208>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841240>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11553.327, "num_steps_sampled": 636556, "num_steps_trained": 636556, "grad_time_ms": 10257.739, "default": {"total_loss": 7.103237152099609, "entropy": 1.216186761856079, "vf_explained_var": 0.9180401563644409, "cur_kl_coeff": 0.10000000149011612, "cur_lr": 0.0005000000237487257, "vf_loss": 7.105576992034912, "policy_loss": -0.0030321695376187563, "kl": 0.006929993163794279}, "update_time_ms": 6.977, "load_time_ms": 11.111}, "timestamp": 1557112890, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-21-30", "training_iteration": 15}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.374693393707275, "node_ip": "10.138.0.2", "episodes_total": 241, "time_since_restore": 366.9317190647125, "episode_reward_mean": 794.3239751460596, "hostname": "flow-main", "timesteps_since_restore": 677735, "timesteps_this_iter": 41179, "timesteps_total": 677735, "pid": 24594, "time_total_s": 366.9317190647125, "custom_metrics": {"system_level_velocity_min": 6.630483021845926, "cost2_max": 0.0, "cost1_mean": 279.7064077212536, "system_level_velocity_mean": 10.547001025203631, "cost1_min": 169.23064937371458, "outflow_rate_min": 642.3003605705954, "system_level_velocity_max": 13.322098432409206, "cost2_min": -0.75, "cost1_max": 355.73879169328484, "outflow_rate_mean": 948.8610775680132, "cost2_mean": -0.05867580384891832, "outflow_rate_max": 1133.0090782431773}, "done": false, "iterations_since_restore": 16, "episode_reward_min": 561.4428118335424, "episode_reward_max": 979.5910596758604, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9b38>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11523.234, "num_steps_sampled": 677735, "num_steps_trained": 677735, "grad_time_ms": 10347.441, "default": {"total_loss": 7.51469612121582, "entropy": 1.2036900520324707, "vf_explained_var": 0.9174361824989319, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 7.515839576721191, "policy_loss": -0.001643560011871159, "kl": 0.005007406231015921}, "update_time_ms": 6.884, "load_time_ms": 11.165}, "timestamp": 1557112913, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-21-53", "training_iteration": 16}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.08477544784546, "node_ip": "10.138.0.2", "episodes_total": 258, "time_since_restore": 389.016494512558, "episode_reward_mean": 817.854336843198, "hostname": "flow-main", "timesteps_since_restore": 719275, "timesteps_this_iter": 41540, "timesteps_total": 719275, "pid": 24594, "time_total_s": 389.016494512558, "custom_metrics": {"system_level_velocity_min": 6.630483021845926, "cost2_max": 0.0, "cost1_mean": 287.9133437325555, "system_level_velocity_mean": 10.863063742584611, "cost1_min": 169.23064937371458, "outflow_rate_min": 661.4975406451036, "system_level_velocity_max": 13.34918414810609, "cost2_min": -0.75, "cost1_max": 358.1465173887981, "outflow_rate_mean": 980.6549639380933, "cost2_mean": -0.06268099642264795, "outflow_rate_max": 1133.0090782431773}, "done": false, "iterations_since_restore": 17, "episode_reward_min": 583.935541578198, "episode_reward_max": 1010.2433838600894, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832cc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832358>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11547.006, "num_steps_sampled": 719275, "num_steps_trained": 719275, "grad_time_ms": 10334.436, "default": {"total_loss": 7.33470344543457, "entropy": 1.2036467790603638, "vf_explained_var": 0.9069801568984985, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 7.335878849029541, "policy_loss": -0.0017627953784540296, "kl": 0.0058671473525464535}, "update_time_ms": 6.729, "load_time_ms": 10.633}, "timestamp": 1557112935, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-22-15", "training_iteration": 17}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.641681909561157, "node_ip": "10.138.0.2", "episodes_total": 274, "time_since_restore": 410.65817642211914, "episode_reward_mean": 826.7375367707333, "hostname": "flow-main", "timesteps_since_restore": 760724, "timesteps_this_iter": 41449, "timesteps_total": 760724, "pid": 24594, "time_total_s": 410.65817642211914, "custom_metrics": {"system_level_velocity_min": 6.630483021845926, "cost2_max": 0.0, "cost1_mean": 291.91571794545524, "system_level_velocity_mean": 11.023484382308693, "cost1_min": 169.23064937371458, "outflow_rate_min": 738.3483457300086, "system_level_velocity_max": 13.34918414810609, "cost2_min": -0.75, "cost1_max": 358.1465173887981, "outflow_rate_mean": 993.6964512725986, "cost2_mean": -0.06391612853846335, "outflow_rate_max": 1133.0090782431773}, "done": false, "iterations_since_restore": 18, "episode_reward_min": 645.3232541163034, "episode_reward_max": 1010.2433838600894, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841b00>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11489.715, "num_steps_sampled": 760724, "num_steps_trained": 760724, "grad_time_ms": 10302.596, "default": {"total_loss": 7.120265960693359, "entropy": 1.1821001768112183, "vf_explained_var": 0.9135356545448303, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 7.121491432189941, "policy_loss": -0.0018314850749447942, "kl": 0.0060595436953008175}, "update_time_ms": 6.753, "load_time_ms": 10.557}, "timestamp": 1557112956, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-22-36", "training_iteration": 18}
{"episode_len_mean": 693.36, "time_this_iter_s": 21.669410705566406, "node_ip": "10.138.0.2", "episodes_total": 285, "time_since_restore": 432.32758712768555, "episode_reward_mean": 824.0173780746164, "hostname": "flow-main", "timesteps_since_restore": 803616, "timesteps_this_iter": 42892, "timesteps_total": 803616, "pid": 24594, "time_total_s": 432.32758712768555, "custom_metrics": {"system_level_velocity_min": 6.630483021845926, "cost2_max": 0.0, "cost1_mean": 291.03752653496554, "system_level_velocity_mean": 11.17289761549004, "cost1_min": 23.566993864121237, "outflow_rate_min": 487.77191853957004, "system_level_velocity_max": 18.50545140756161, "cost2_min": -0.75, "cost1_max": 411.1337926734392, "outflow_rate_mean": 993.8242288090925, "cost2_mean": -0.06083003129956859, "outflow_rate_max": 1245.664627447871}, "done": false, "iterations_since_restore": 19, "episode_reward_min": 52.63935149933175, "episode_reward_max": 1203.8025492373727, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c99b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9860>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11519.358, "num_steps_sampled": 803616, "num_steps_trained": 803616, "grad_time_ms": 10264.04, "default": {"total_loss": 5.27947473526001, "entropy": 1.1915799379348755, "vf_explained_var": 0.9473015069961548, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 5.281269550323486, "policy_loss": -0.0025609354488551617, "kl": 0.007657341659069061}, "update_time_ms": 6.887, "load_time_ms": 10.72}, "timestamp": 1557112978, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 11, "date": "2019-05-06_03-22-58", "training_iteration": 19}
{"episode_len_mean": 693.36, "time_this_iter_s": 21.463216543197632, "node_ip": "10.138.0.2", "episodes_total": 303, "time_since_restore": 453.7908036708832, "episode_reward_mean": 816.5383596239102, "hostname": "flow-main", "timesteps_since_restore": 845354, "timesteps_this_iter": 41738, "timesteps_total": 845354, "pid": 24594, "time_total_s": 453.7908036708832, "custom_metrics": {"system_level_velocity_min": 6.630483021845926, "cost2_max": 0.0, "cost1_mean": 289.8313688085475, "system_level_velocity_mean": 11.137203688491612, "cost1_min": 23.566993864121237, "outflow_rate_min": 487.77191853957004, "system_level_velocity_max": 18.50545140756161, "cost2_min": -0.75, "cost1_max": 411.1337926734392, "outflow_rate_mean": 991.2618782653424, "cost2_mean": -0.06232625116725657, "outflow_rate_max": 1245.664627447871}, "done": false, "iterations_since_restore": 20, "episode_reward_min": 52.63935149933175, "episode_reward_max": 1203.8025492373727, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768320b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832358>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11371.06, "num_steps_sampled": 845354, "num_steps_trained": 845354, "grad_time_ms": 10217.75, "default": {"total_loss": 7.808374404907227, "entropy": 1.1746526956558228, "vf_explained_var": 0.921867311000824, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 7.810586452484131, "policy_loss": -0.0029719509184360504, "kl": 0.00759646063670516}, "update_time_ms": 6.907, "load_time_ms": 9.981}, "timestamp": 1557113000, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-23-20", "training_iteration": 20}
{"episode_len_mean": 693.36, "time_this_iter_s": 21.726091384887695, "node_ip": "10.138.0.2", "episodes_total": 321, "time_since_restore": 475.5168950557709, "episode_reward_mean": 815.9296854470458, "hostname": "flow-main", "timesteps_since_restore": 886790, "timesteps_this_iter": 41436, "timesteps_total": 886790, "pid": 24594, "time_total_s": 475.5168950557709, "custom_metrics": {"system_level_velocity_min": 6.630483021845926, "cost2_max": 0.0, "cost1_mean": 290.2681992698741, "system_level_velocity_mean": 11.144431117179629, "cost1_min": 23.566993864121237, "outflow_rate_min": 487.77191853957004, "system_level_velocity_max": 18.50545140756161, "cost2_min": -0.75, "cost1_max": 411.1337926734392, "outflow_rate_mean": 993.1504171297721, "cost2_mean": -0.06782663259435438, "outflow_rate_max": 1245.664627447871}, "done": false, "iterations_since_restore": 21, "episode_reward_min": 52.63935149933175, "episode_reward_max": 1203.8025492373727, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff97687dd30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768321d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832dd8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11356.032, "num_steps_sampled": 886790, "num_steps_trained": 886790, "grad_time_ms": 10174.456, "default": {"total_loss": 7.846822738647461, "entropy": 1.181157112121582, "vf_explained_var": 0.9195147752761841, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 7.848269939422607, "policy_loss": -0.0020449429284781218, "kl": 0.005972251761704683}, "update_time_ms": 6.951, "load_time_ms": 10.236}, "timestamp": 1557113021, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-23-41", "training_iteration": 21}
{"episode_len_mean": 693.36, "time_this_iter_s": 21.674694538116455, "node_ip": "10.138.0.2", "episodes_total": 336, "time_since_restore": 497.19158959388733, "episode_reward_mean": 816.143608313151, "hostname": "flow-main", "timesteps_since_restore": 927897, "timesteps_this_iter": 41107, "timesteps_total": 927897, "pid": 24594, "time_total_s": 497.19158959388733, "custom_metrics": {"system_level_velocity_min": 6.95444032019407, "cost2_max": 0.0, "cost1_mean": 289.9353571762686, "system_level_velocity_mean": 11.139207366681378, "cost1_min": 23.566993864121237, "outflow_rate_min": 487.77191853957004, "system_level_velocity_max": 18.50545140756161, "cost2_min": -0.5637834870638889, "cost1_max": 411.1337926734392, "outflow_rate_mean": 993.4117114973307, "cost2_mean": -0.06244810948784076, "outflow_rate_max": 1245.664627447871}, "done": false, "iterations_since_restore": 22, "episode_reward_min": 52.63935149933175, "episode_reward_max": 1203.8025492373727, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c94e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768412b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841d68>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11313.84, "num_steps_sampled": 927897, "num_steps_trained": 927897, "grad_time_ms": 10223.259, "default": {"total_loss": 7.444719314575195, "entropy": 1.1741756200790405, "vf_explained_var": 0.916903555393219, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 7.4460577964782715, "policy_loss": -0.0019253210630267859, "kl": 0.005865409970283508}, "update_time_ms": 6.917, "load_time_ms": 10.326}, "timestamp": 1557113043, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_03-24-03", "training_iteration": 22}
{"episode_len_mean": 693.36, "time_this_iter_s": 22.597284078598022, "node_ip": "10.138.0.2", "episodes_total": 353, "time_since_restore": 519.7888736724854, "episode_reward_mean": 809.6593183036945, "hostname": "flow-main", "timesteps_since_restore": 970544, "timesteps_this_iter": 42647, "timesteps_total": 970544, "pid": 24594, "time_total_s": 519.7888736724854, "custom_metrics": {"system_level_velocity_min": 7.0881139704514515, "cost2_max": 0.0, "cost1_mean": 288.1836479459158, "system_level_velocity_mean": 11.08399244196271, "cost1_min": 23.566993864121237, "outflow_rate_min": 487.77191853957004, "system_level_velocity_max": 18.50545140756161, "cost2_min": -1.7521603657580875, "cost1_max": 411.1337926734392, "outflow_rate_mean": 989.7502718383095, "cost2_mean": -0.08861953911855865, "outflow_rate_max": 1245.664627447871}, "done": false, "iterations_since_restore": 23, "episode_reward_min": 52.63935149933175, "episode_reward_max": 1203.8025492373727, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832cc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ac8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11337.52, "num_steps_sampled": 970544, "num_steps_trained": 970544, "grad_time_ms": 10250.677, "default": {"total_loss": 7.032587051391602, "entropy": 1.1795088052749634, "vf_explained_var": 0.914411187171936, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 7.035618305206299, "policy_loss": -0.0038936303462833166, "kl": 0.008627532050013542}, "update_time_ms": 6.846, "load_time_ms": 9.666}, "timestamp": 1557113066, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-24-26", "training_iteration": 23}
{"episode_len_mean": 686.71, "time_this_iter_s": 21.46460485458374, "node_ip": "10.138.0.2", "episodes_total": 365, "time_since_restore": 541.2534785270691, "episode_reward_mean": 805.7359238277141, "hostname": "flow-main", "timesteps_since_restore": 1012464, "timesteps_this_iter": 41920, "timesteps_total": 1012464, "pid": 24594, "time_total_s": 541.2534785270691, "custom_metrics": {"system_level_velocity_min": 7.0881139704514515, "cost2_max": 0.0, "cost1_mean": 285.8086809099826, "system_level_velocity_mean": 11.166333658568753, "cost1_min": 23.24171977337312, "outflow_rate_min": 487.77191853957004, "system_level_velocity_max": 18.50545140756161, "cost2_min": -1.7521603657580875, "cost1_max": 411.1337926734392, "outflow_rate_mean": 983.4850142556993, "cost2_mean": -0.09990220963663204, "outflow_rate_max": 1245.664627447871}, "done": false, "iterations_since_restore": 24, "episode_reward_min": 52.63935149933175, "episode_reward_max": 1203.8025492373727, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768320f0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11281.954, "num_steps_sampled": 1012464, "num_steps_trained": 1012464, "grad_time_ms": 10445.548, "default": {"total_loss": 6.895097255706787, "entropy": 1.1557738780975342, "vf_explained_var": 0.9299523830413818, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 6.897341251373291, "policy_loss": -0.003020016010850668, "kl": 0.007754165679216385}, "update_time_ms": 6.721, "load_time_ms": 10.622}, "timestamp": 1557113087, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 12, "date": "2019-05-06_03-24-47", "training_iteration": 24}
{"episode_len_mean": 693.35, "time_this_iter_s": 21.48651671409607, "node_ip": "10.138.0.2", "episodes_total": 383, "time_since_restore": 562.7399952411652, "episode_reward_mean": 803.6984820385057, "hostname": "flow-main", "timesteps_since_restore": 1053542, "timesteps_this_iter": 41078, "timesteps_total": 1053542, "pid": 24594, "time_total_s": 562.7399952411652, "custom_metrics": {"system_level_velocity_min": 7.0881139704514515, "cost2_max": 0.0, "cost1_mean": 287.41123488729727, "system_level_velocity_mean": 11.069947915597458, "cost1_min": 23.24171977337312, "outflow_rate_min": 506.1120103097443, "system_level_velocity_max": 17.972859899526707, "cost2_min": -1.7521603657580875, "cost1_max": 365.6984081313718, "outflow_rate_mean": 983.1772709169578, "cost2_mean": -0.1049687542018078, "outflow_rate_max": 1164.5158204627587}, "done": false, "iterations_since_restore": 25, "episode_reward_min": 56.24563321847667, "episode_reward_max": 962.6138634055012, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff97687dd30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768327b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768322e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11243.343, "num_steps_sampled": 1053542, "num_steps_trained": 1053542, "grad_time_ms": 10478.112, "default": {"total_loss": 8.107887268066406, "entropy": 1.1479684114456177, "vf_explained_var": 0.9211975336074829, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 8.110121726989746, "policy_loss": -0.0031323737930506468, "kl": 0.008977317251265049}, "update_time_ms": 7.003, "load_time_ms": 10.673}, "timestamp": 1557113109, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-25-09", "training_iteration": 25}
{"episode_len_mean": 693.35, "time_this_iter_s": 21.99741291999817, "node_ip": "10.138.0.2", "episodes_total": 402, "time_since_restore": 584.7374081611633, "episode_reward_mean": 811.5224170636511, "hostname": "flow-main", "timesteps_since_restore": 1094714, "timesteps_this_iter": 41172, "timesteps_total": 1094714, "pid": 24594, "time_total_s": 584.7374081611633, "custom_metrics": {"system_level_velocity_min": 7.0881139704514515, "cost2_max": 0.0, "cost1_mean": 289.7056845181578, "system_level_velocity_mean": 11.17742654106847, "cost1_min": 23.24171977337312, "outflow_rate_min": 506.1120103097443, "system_level_velocity_max": 17.972859899526707, "cost2_min": -1.7521603657580875, "cost1_max": 413.3135291511295, "outflow_rate_mean": 989.9561784967726, "cost2_mean": -0.10629218463593011, "outflow_rate_max": 1263.3322833486666}, "done": false, "iterations_since_restore": 26, "episode_reward_min": 56.24563321847667, "episode_reward_max": 1097.110472115883, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d82b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8198>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11284.681, "num_steps_sampled": 1094714, "num_steps_trained": 1094714, "grad_time_ms": 10398.105, "default": {"total_loss": 8.878812789916992, "entropy": 1.1322360038757324, "vf_explained_var": 0.9263214468955994, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 8.880770683288574, "policy_loss": -0.0028489334508776665, "kl": 0.008913748897612095}, "update_time_ms": 7.041, "load_time_ms": 10.177}, "timestamp": 1557113131, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-25-31", "training_iteration": 26}
{"episode_len_mean": 693.35, "time_this_iter_s": 21.668896436691284, "node_ip": "10.138.0.2", "episodes_total": 417, "time_since_restore": 606.4063045978546, "episode_reward_mean": 810.8306171886649, "hostname": "flow-main", "timesteps_since_restore": 1135348, "timesteps_this_iter": 40634, "timesteps_total": 1135348, "pid": 24594, "time_total_s": 606.4063045978546, "custom_metrics": {"system_level_velocity_min": 7.0881139704514515, "cost2_max": 0.0, "cost1_mean": 289.6612929796236, "system_level_velocity_mean": 11.202770540130766, "cost1_min": 23.24171977337312, "outflow_rate_min": 506.1120103097443, "system_level_velocity_max": 17.972859899526707, "cost2_min": -1.7521603657580875, "cost1_max": 447.7496885624272, "outflow_rate_mean": 990.2219754695051, "cost2_mean": -0.11019220299192725, "outflow_rate_max": 1263.4595829415025}, "done": false, "iterations_since_restore": 27, "episode_reward_min": 56.24563321847667, "episode_reward_max": 1097.110472115883, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768320f0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11266.05, "num_steps_sampled": 1135348, "num_steps_trained": 1135348, "grad_time_ms": 10374.33, "default": {"total_loss": 7.863518238067627, "entropy": 1.1225097179412842, "vf_explained_var": 0.9311178922653198, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 7.865507125854492, "policy_loss": -0.002906088251620531, "kl": 0.009172231890261173}, "update_time_ms": 7.124, "load_time_ms": 10.25}, "timestamp": 1557113152, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_03-25-52", "training_iteration": 27}
{"episode_len_mean": 693.35, "time_this_iter_s": 22.608990907669067, "node_ip": "10.138.0.2", "episodes_total": 433, "time_since_restore": 629.0152955055237, "episode_reward_mean": 813.4346649418626, "hostname": "flow-main", "timesteps_since_restore": 1177289, "timesteps_this_iter": 41941, "timesteps_total": 1177289, "pid": 24594, "time_total_s": 629.0152955055237, "custom_metrics": {"system_level_velocity_min": 7.0881139704514515, "cost2_max": 0.0, "cost1_mean": 294.12199762393703, "system_level_velocity_mean": 11.376978105213489, "cost1_min": 23.24171977337312, "outflow_rate_min": 506.1120103097443, "system_level_velocity_max": 17.972859899526707, "cost2_min": -1.7521603657580875, "cost1_max": 447.7496885624272, "outflow_rate_mean": 1001.4839886745566, "cost2_mean": -0.09581514614626933, "outflow_rate_max": 1263.4595829415025}, "done": false, "iterations_since_restore": 28, "episode_reward_min": 56.24563321847667, "episode_reward_max": 1097.110472115883, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768328d0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11300.226, "num_steps_sampled": 1177289, "num_steps_trained": 1177289, "grad_time_ms": 10437.13, "default": {"total_loss": 7.579274654388428, "entropy": 1.1377841234207153, "vf_explained_var": 0.89765465259552, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 7.582013130187988, "policy_loss": -0.00365218217484653, "kl": 0.00912497192621231}, "update_time_ms": 7.05, "load_time_ms": 10.48}, "timestamp": 1557113175, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-26-15", "training_iteration": 28}
{"episode_len_mean": 693.35, "time_this_iter_s": 22.25409722328186, "node_ip": "10.138.0.2", "episodes_total": 445, "time_since_restore": 651.2693927288055, "episode_reward_mean": 816.7786724226601, "hostname": "flow-main", "timesteps_since_restore": 1219233, "timesteps_this_iter": 41944, "timesteps_total": 1219233, "pid": 24594, "time_total_s": 651.2693927288055, "custom_metrics": {"system_level_velocity_min": 7.679867999334287, "cost2_max": 0.0, "cost1_mean": 293.5325242325091, "system_level_velocity_mean": 11.370287427526266, "cost1_min": 23.24171977337312, "outflow_rate_min": 506.1120103097443, "system_level_velocity_max": 17.972859899526707, "cost2_min": -0.670914439593046, "cost1_max": 447.7496885624272, "outflow_rate_mean": 1001.2812127542061, "cost2_mean": -0.06332912347519418, "outflow_rate_max": 1263.4595829415025}, "done": false, "iterations_since_restore": 29, "episode_reward_min": 56.24563321847667, "episode_reward_max": 1097.110472115883, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976829fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8208>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8c18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11354.279, "num_steps_sampled": 1219233, "num_steps_trained": 1219233, "grad_time_ms": 10441.761, "default": {"total_loss": 6.071323394775391, "entropy": 1.1243497133255005, "vf_explained_var": 0.9352407455444336, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 6.0749969482421875, "policy_loss": -0.004684180486947298, "kl": 0.01011486817151308}, "update_time_ms": 6.906, "load_time_ms": 10.308}, "timestamp": 1557113197, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 12, "date": "2019-05-06_03-26-37", "training_iteration": 29}
{"episode_len_mean": 693.39, "time_this_iter_s": 21.980188846588135, "node_ip": "10.138.0.2", "episodes_total": 463, "time_since_restore": 673.2495815753937, "episode_reward_mean": 817.4856752951015, "hostname": "flow-main", "timesteps_since_restore": 1260983, "timesteps_this_iter": 41750, "timesteps_total": 1260983, "pid": 24594, "time_total_s": 673.2495815753937, "custom_metrics": {"system_level_velocity_min": 7.679867999334287, "cost2_max": 0.0, "cost1_mean": 294.8696430321572, "system_level_velocity_mean": 11.435850449170905, "cost1_min": 25.821658848440737, "outflow_rate_min": 506.9942358597947, "system_level_velocity_max": 18.63209889908293, "cost2_min": -0.35648167869166125, "cost1_max": 447.7496885624272, "outflow_rate_mean": 1007.4478799205222, "cost2_mean": -0.05596835035937662, "outflow_rate_max": 1263.4595829415025}, "done": false, "iterations_since_restore": 30, "episode_reward_min": 65.10555063264592, "episode_reward_max": 1097.110472115883, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768417f0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11435.323, "num_steps_sampled": 1260983, "num_steps_trained": 1260983, "grad_time_ms": 10412.016, "default": {"total_loss": 9.031449317932129, "entropy": 1.1071561574935913, "vf_explained_var": 0.9304167628288269, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 9.03374195098877, "policy_loss": -0.003200266510248184, "kl": 0.009078667499125004}, "update_time_ms": 6.873, "load_time_ms": 10.843}, "timestamp": 1557113219, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-26-59", "training_iteration": 30}
{"episode_len_mean": 693.39, "time_this_iter_s": 20.03861689567566, "node_ip": "10.138.0.2", "episodes_total": 481, "time_since_restore": 693.2881984710693, "episode_reward_mean": 825.3109271007971, "hostname": "flow-main", "timesteps_since_restore": 1302710, "timesteps_this_iter": 41727, "timesteps_total": 1302710, "pid": 24594, "time_total_s": 693.2881984710693, "custom_metrics": {"system_level_velocity_min": 7.679867999334287, "cost2_max": 0.0, "cost1_mean": 298.5261578749211, "system_level_velocity_mean": 11.573159565748783, "cost1_min": 25.821658848440737, "outflow_rate_min": 506.9942358597947, "system_level_velocity_max": 18.63209889908293, "cost2_min": -0.4327852160935579, "cost1_max": 447.7496885624272, "outflow_rate_mean": 1019.1670579520645, "cost2_mean": -0.057499105096194804, "outflow_rate_max": 1263.4595829415025}, "done": false, "iterations_since_restore": 31, "episode_reward_min": 65.10555063264592, "episode_reward_max": 1097.110472115883, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8358>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11420.147, "num_steps_sampled": 1302710, "num_steps_trained": 1302710, "grad_time_ms": 10259.107, "default": {"total_loss": 9.985349655151367, "entropy": 1.0973739624023438, "vf_explained_var": 0.9030669927597046, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 9.987916946411133, "policy_loss": -0.003521233331412077, "kl": 0.00953500997275114}, "update_time_ms": 6.981, "load_time_ms": 10.765}, "timestamp": 1557113239, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-27-19", "training_iteration": 31}
{"episode_len_mean": 693.39, "time_this_iter_s": 21.12373399734497, "node_ip": "10.138.0.2", "episodes_total": 498, "time_since_restore": 714.4119324684143, "episode_reward_mean": 821.9057799649522, "hostname": "flow-main", "timesteps_since_restore": 1342551, "timesteps_this_iter": 39841, "timesteps_total": 1342551, "pid": 24594, "time_total_s": 714.4119324684143, "custom_metrics": {"system_level_velocity_min": 7.679867999334287, "cost2_max": 0.0, "cost1_mean": 298.0159376979064, "system_level_velocity_mean": 11.55189883999916, "cost1_min": 25.821658848440737, "outflow_rate_min": 506.9942358597947, "system_level_velocity_max": 18.63209889908293, "cost2_min": -0.4327852160935579, "cost1_max": 455.5721014750659, "outflow_rate_mean": 1017.3199817446621, "cost2_mean": -0.05516494046453417, "outflow_rate_max": 1263.4595829415025}, "done": false, "iterations_since_restore": 32, "episode_reward_min": 65.10555063264592, "episode_reward_max": 1060.5498803948892, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8c18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11389.248, "num_steps_sampled": 1342551, "num_steps_trained": 1342551, "grad_time_ms": 10235.446, "default": {"total_loss": 10.013994216918945, "entropy": 1.0811114311218262, "vf_explained_var": 0.928074300289154, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 10.016120910644531, "policy_loss": -0.002909724833443761, "kl": 0.007821878418326378}, "update_time_ms": 6.869, "load_time_ms": 10.302}, "timestamp": 1557113261, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-27-41", "training_iteration": 32}
{"episode_len_mean": 693.39, "time_this_iter_s": 22.43883776664734, "node_ip": "10.138.0.2", "episodes_total": 515, "time_since_restore": 736.8507702350616, "episode_reward_mean": 818.764218356336, "hostname": "flow-main", "timesteps_since_restore": 1383225, "timesteps_this_iter": 40674, "timesteps_total": 1383225, "pid": 24594, "time_total_s": 736.8507702350616, "custom_metrics": {"system_level_velocity_min": 7.679867999334287, "cost2_max": 0.0, "cost1_mean": 298.2971627841601, "system_level_velocity_mean": 11.558960651006533, "cost1_min": 25.821658848440737, "outflow_rate_min": 506.9942358597947, "system_level_velocity_max": 18.63209889908293, "cost2_min": -0.6249844521655937, "cost1_max": 455.5721014750659, "outflow_rate_mean": 1017.6667637773277, "cost2_mean": -0.07678281300093158, "outflow_rate_max": 1271.8901639270896}, "done": false, "iterations_since_restore": 33, "episode_reward_min": 65.10555063264592, "episode_reward_max": 1060.5498803948892, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841cf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841278>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11366.073, "num_steps_sampled": 1383225, "num_steps_trained": 1383225, "grad_time_ms": 10241.331, "default": {"total_loss": 8.585193634033203, "entropy": 1.0898847579956055, "vf_explained_var": 0.9235126376152039, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 8.588961601257324, "policy_loss": -0.004606718197464943, "kl": 0.008389521390199661}, "update_time_ms": 6.985, "load_time_ms": 10.899}, "timestamp": 1557113283, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-28-03", "training_iteration": 33}
{"episode_len_mean": 693.39, "time_this_iter_s": 21.68508768081665, "node_ip": "10.138.0.2", "episodes_total": 528, "time_since_restore": 758.5358579158783, "episode_reward_mean": 818.6820593634253, "hostname": "flow-main", "timesteps_since_restore": 1424653, "timesteps_this_iter": 41428, "timesteps_total": 1424653, "pid": 24594, "time_total_s": 758.5358579158783, "custom_metrics": {"system_level_velocity_min": 7.679867999334287, "cost2_max": 0.0, "cost1_mean": 300.4233994201661, "system_level_velocity_mean": 11.634940429962082, "cost1_min": 25.821658848440737, "outflow_rate_min": 506.9942358597947, "system_level_velocity_max": 18.63209889908293, "cost2_min": -0.6249844521655937, "cost1_max": 455.5721014750659, "outflow_rate_mean": 1020.8805934924007, "cost2_mean": -0.08287238094068008, "outflow_rate_max": 1271.8901639270896}, "done": false, "iterations_since_restore": 34, "episode_reward_min": 65.10555063264592, "episode_reward_max": 1060.5498803948892, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d82e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8dd8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11392.372, "num_steps_sampled": 1424653, "num_steps_trained": 1424653, "grad_time_ms": 10239.784, "default": {"total_loss": 7.177561283111572, "entropy": 1.0725797414779663, "vf_explained_var": 0.9382297992706299, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 7.180235385894775, "policy_loss": -0.0035214361269026995, "kl": 0.00847233273088932}, "update_time_ms": 7.086, "load_time_ms": 10.324}, "timestamp": 1557113305, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 13, "date": "2019-05-06_03-28-25", "training_iteration": 34}
{"episode_len_mean": 693.39, "time_this_iter_s": 21.6231472492218, "node_ip": "10.138.0.2", "episodes_total": 545, "time_since_restore": 780.1590051651001, "episode_reward_mean": 818.2914185506497, "hostname": "flow-main", "timesteps_since_restore": 1466300, "timesteps_this_iter": 41647, "timesteps_total": 1466300, "pid": 24594, "time_total_s": 780.1590051651001, "custom_metrics": {"system_level_velocity_min": 8.03524547623332, "cost2_max": 0.0, "cost1_mean": 302.32600949844453, "system_level_velocity_mean": 11.69856603708502, "cost1_min": 25.821658848440737, "outflow_rate_min": 506.9942358597947, "system_level_velocity_max": 18.63209889908293, "cost2_min": -0.6249844521655937, "cost1_max": 455.5721014750659, "outflow_rate_mean": 1023.6515761604506, "cost2_mean": -0.08235449971697838, "outflow_rate_max": 1271.8901639270896}, "done": false, "iterations_since_restore": 35, "episode_reward_min": 65.10555063264592, "episode_reward_max": 1060.5498803948892, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8c18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8048>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11496.791, "num_steps_sampled": 1466300, "num_steps_trained": 1466300, "grad_time_ms": 10149.321, "default": {"total_loss": 8.395486831665039, "entropy": 1.070716142654419, "vf_explained_var": 0.9259859323501587, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 8.396888732910156, "policy_loss": -0.0022490634582936764, "kl": 0.008466231636703014}, "update_time_ms": 6.934, "load_time_ms": 10.346}, "timestamp": 1557113326, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-28-46", "training_iteration": 35}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.496192693710327, "node_ip": "10.138.0.2", "episodes_total": 561, "time_since_restore": 801.6551978588104, "episode_reward_mean": 819.9067970614868, "hostname": "flow-main", "timesteps_since_restore": 1506888, "timesteps_this_iter": 40588, "timesteps_total": 1506888, "pid": 24594, "time_total_s": 801.6551978588104, "custom_metrics": {"system_level_velocity_min": 8.03524547623332, "cost2_max": 0.0, "cost1_mean": 304.8877264703952, "system_level_velocity_mean": 11.623242271348243, "cost1_min": 206.3735651551344, "outflow_rate_min": 830.5874245001345, "system_level_velocity_max": 17.0975987927831, "cost2_min": -0.6249844521655937, "cost1_max": 455.5721014750659, "outflow_rate_mean": 1028.0921549455938, "cost2_mean": -0.08081278362915095, "outflow_rate_max": 1271.8901639270896}, "done": false, "iterations_since_restore": 36, "episode_reward_min": 636.4340141696581, "episode_reward_max": 1060.5498803948892, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768419e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841630>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11456.05, "num_steps_sampled": 1506888, "num_steps_trained": 1506888, "grad_time_ms": 10140.127, "default": {"total_loss": 8.598973274230957, "entropy": 1.0668706893920898, "vf_explained_var": 0.9340734481811523, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 8.601888656616211, "policy_loss": -0.0038415566086769104, "kl": 0.009253937751054764}, "update_time_ms": 7.093, "load_time_ms": 11.012}, "timestamp": 1557113348, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-29-08", "training_iteration": 36}
{"episode_len_mean": 693.46, "time_this_iter_s": 21.61494016647339, "node_ip": "10.138.0.2", "episodes_total": 579, "time_since_restore": 823.2701380252838, "episode_reward_mean": 806.8552508174721, "hostname": "flow-main", "timesteps_since_restore": 1547488, "timesteps_this_iter": 40600, "timesteps_total": 1547488, "pid": 24594, "time_total_s": 823.2701380252838, "custom_metrics": {"system_level_velocity_min": 9.072485978920476, "cost2_max": 0.0, "cost1_mean": 300.9350675194762, "system_level_velocity_mean": 11.661837335723149, "cost1_min": 30.68790508563966, "outflow_rate_min": 534.6432135854955, "system_level_velocity_max": 18.882500764126053, "cost2_min": -0.6249844521655937, "cost1_max": 455.5721014750659, "outflow_rate_mean": 1019.2310621302845, "cost2_mean": -0.081008279591235, "outflow_rate_max": 1271.8901639270896}, "done": false, "iterations_since_restore": 37, "episode_reward_min": 68.73098476181362, "episode_reward_max": 1015.0777632414563, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8cf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8a58>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11415.373, "num_steps_sampled": 1547488, "num_steps_trained": 1547488, "grad_time_ms": 10175.581, "default": {"total_loss": 10.451150894165039, "entropy": 1.0818778276443481, "vf_explained_var": 0.9080914258956909, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 10.454026222229004, "policy_loss": -0.003962693735957146, "kl": 0.010884313844144344}, "update_time_ms": 7.017, "load_time_ms": 11.062}, "timestamp": 1557113370, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-29-30", "training_iteration": 37}
{"episode_len_mean": 693.46, "time_this_iter_s": 21.873751163482666, "node_ip": "10.138.0.2", "episodes_total": 596, "time_since_restore": 845.1438891887665, "episode_reward_mean": 808.0980143447127, "hostname": "flow-main", "timesteps_since_restore": 1587929, "timesteps_this_iter": 40441, "timesteps_total": 1587929, "pid": 24594, "time_total_s": 845.1438891887665, "custom_metrics": {"system_level_velocity_min": 9.072485978920476, "cost2_max": 0.0, "cost1_mean": 300.4045213290252, "system_level_velocity_mean": 11.645101080407109, "cost1_min": 30.68790508563966, "outflow_rate_min": 534.6432135854955, "system_level_velocity_max": 18.882500764126053, "cost2_min": -0.6249844521655937, "cost1_max": 420.34014288840694, "outflow_rate_mean": 1020.1722055460441, "cost2_mean": -0.07258738755607579, "outflow_rate_max": 1275.867842667194}, "done": false, "iterations_since_restore": 38, "episode_reward_min": 68.73098476181362, "episode_reward_max": 1036.799607173464, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8048>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11400.59, "num_steps_sampled": 1587929, "num_steps_trained": 1587929, "grad_time_ms": 10116.278, "default": {"total_loss": 9.564927101135254, "entropy": 1.0913783311843872, "vf_explained_var": 0.9288589954376221, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 9.567388534545898, "policy_loss": -0.003311114851385355, "kl": 0.008505690842866898}, "update_time_ms": 7.141, "load_time_ms": 10.996}, "timestamp": 1557113391, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-29-51", "training_iteration": 38}
{"episode_len_mean": 686.79, "time_this_iter_s": 20.818982124328613, "node_ip": "10.138.0.2", "episodes_total": 611, "time_since_restore": 865.9628713130951, "episode_reward_mean": 804.4766695427389, "hostname": "flow-main", "timesteps_since_restore": 1627682, "timesteps_this_iter": 39753, "timesteps_total": 1627682, "pid": 24594, "time_total_s": 865.9628713130951, "custom_metrics": {"system_level_velocity_min": 9.072485978920476, "cost2_max": 0.0, "cost1_mean": 299.542853748757, "system_level_velocity_mean": 11.791360640014519, "cost1_min": 22.256753888526738, "outflow_rate_min": 497.51150295452504, "system_level_velocity_max": 18.882500764126053, "cost2_min": -0.501736403455042, "cost1_max": 443.0022963422156, "outflow_rate_mean": 1018.8478263150167, "cost2_mean": -0.055079600462056275, "outflow_rate_max": 1295.9523032967397}, "done": false, "iterations_since_restore": 39, "episode_reward_min": 48.950342940352634, "episode_reward_max": 1070.4686072830543, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d87b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11328.286, "num_steps_sampled": 1627682, "num_steps_trained": 1627682, "grad_time_ms": 10044.391, "default": {"total_loss": 11.057770729064941, "entropy": 1.069469690322876, "vf_explained_var": 0.9299107789993286, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 11.061044692993164, "policy_loss": -0.004417418967932463, "kl": 0.011432191357016563}, "update_time_ms": 7.268, "load_time_ms": 11.334}, "timestamp": 1557113412, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_03-30-12", "training_iteration": 39}
{"episode_len_mean": 680.13, "time_this_iter_s": 21.614225387573242, "node_ip": "10.138.0.2", "episodes_total": 628, "time_since_restore": 887.5770967006683, "episode_reward_mean": 801.2767657985943, "hostname": "flow-main", "timesteps_since_restore": 1668292, "timesteps_this_iter": 40610, "timesteps_total": 1668292, "pid": 24594, "time_total_s": 887.5770967006683, "custom_metrics": {"system_level_velocity_min": 9.16440287544449, "cost2_max": 0.0, "cost1_mean": 301.4137141548362, "system_level_velocity_mean": 12.033395112951247, "cost1_min": 22.256753888526738, "outflow_rate_min": 497.51150295452504, "system_level_velocity_max": 18.882500764126053, "cost2_min": -0.41149349775425437, "cost1_max": 443.0022963422156, "outflow_rate_mean": 1023.8848028258878, "cost2_mean": -0.045091057673312465, "outflow_rate_max": 1295.9523032967397}, "done": false, "iterations_since_restore": 40, "episode_reward_min": 48.950342940352634, "episode_reward_max": 1070.4686072830543, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8128>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11275.821, "num_steps_sampled": 1668292, "num_steps_trained": 1668292, "grad_time_ms": 10059.115, "default": {"total_loss": 12.168497085571289, "entropy": 1.059980034828186, "vf_explained_var": 0.9132607579231262, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 12.171442031860352, "policy_loss": -0.0040294090285897255, "kl": 0.01085093803703785}, "update_time_ms": 7.283, "load_time_ms": 11.805}, "timestamp": 1557113434, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-30-34", "training_iteration": 40}
{"episode_len_mean": 680.13, "time_this_iter_s": 21.246272563934326, "node_ip": "10.138.0.2", "episodes_total": 645, "time_since_restore": 908.8233692646027, "episode_reward_mean": 801.9045072753934, "hostname": "flow-main", "timesteps_since_restore": 1709724, "timesteps_this_iter": 41432, "timesteps_total": 1709724, "pid": 24594, "time_total_s": 908.8233692646027, "custom_metrics": {"system_level_velocity_min": 9.375555518075648, "cost2_max": 0.0, "cost1_mean": 301.93741090514015, "system_level_velocity_mean": 12.061644045286611, "cost1_min": 22.256753888526738, "outflow_rate_min": 497.51150295452504, "system_level_velocity_max": 18.882500764126053, "cost2_min": -0.5878899887813293, "cost1_max": 443.0022963422156, "outflow_rate_mean": 1023.075267120883, "cost2_mean": -0.05490350763975237, "outflow_rate_max": 1295.9523032967397}, "done": false, "iterations_since_restore": 41, "episode_reward_min": 48.950342940352634, "episode_reward_max": 1093.1362919280116, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc2e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcbe0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11241.256, "num_steps_sampled": 1709724, "num_steps_trained": 1709724, "grad_time_ms": 10212.393, "default": {"total_loss": 11.449470520019531, "entropy": 1.070944905281067, "vf_explained_var": 0.9221299290657043, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 11.453010559082031, "policy_loss": -0.004524306859821081, "kl": 0.009845995344221592}, "update_time_ms": 7.175, "load_time_ms": 12.295}, "timestamp": 1557113455, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-30-55", "training_iteration": 41}
{"episode_len_mean": 680.13, "time_this_iter_s": 19.875703811645508, "node_ip": "10.138.0.2", "episodes_total": 662, "time_since_restore": 928.6990730762482, "episode_reward_mean": 811.25896214088, "hostname": "flow-main", "timesteps_since_restore": 1751422, "timesteps_this_iter": 41698, "timesteps_total": 1751422, "pid": 24594, "time_total_s": 928.6990730762482, "custom_metrics": {"system_level_velocity_min": 8.919652221496428, "cost2_max": 0.0, "cost1_mean": 305.7759658803515, "system_level_velocity_mean": 12.202631879427518, "cost1_min": 22.256753888526738, "outflow_rate_min": 497.51150295452504, "system_level_velocity_max": 18.882500764126053, "cost2_min": -0.5878899887813293, "cost1_max": 443.0022963422156, "outflow_rate_mean": 1030.6156523922973, "cost2_mean": -0.05139412783065907, "outflow_rate_max": 1295.9523032967397}, "done": false, "iterations_since_restore": 42, "episode_reward_min": 48.950342940352634, "episode_reward_max": 1093.1362919280116, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d83c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8d68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d87b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11252.442, "num_steps_sampled": 1751422, "num_steps_trained": 1751422, "grad_time_ms": 10076.309, "default": {"total_loss": 10.408706665039062, "entropy": 1.075191617012024, "vf_explained_var": 0.9119701385498047, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 10.412018775939941, "policy_loss": -0.004345860332250595, "kl": 0.010345662012696266}, "update_time_ms": 7.277, "load_time_ms": 12.881}, "timestamp": 1557113475, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-31-15", "training_iteration": 42}
{"episode_len_mean": 686.67, "time_this_iter_s": 21.85144805908203, "node_ip": "10.138.0.2", "episodes_total": 680, "time_since_restore": 950.5505211353302, "episode_reward_mean": 823.2224038530093, "hostname": "flow-main", "timesteps_since_restore": 1791999, "timesteps_this_iter": 40577, "timesteps_total": 1791999, "pid": 24594, "time_total_s": 950.5505211353302, "custom_metrics": {"system_level_velocity_min": 8.919652221496428, "cost2_max": 0.0, "cost1_mean": 309.1746895905891, "system_level_velocity_mean": 12.158039167975284, "cost1_min": 22.256753888526738, "outflow_rate_min": 497.51150295452504, "system_level_velocity_max": 18.28059611687415, "cost2_min": -0.5878899887813293, "cost1_max": 448.5876131375431, "outflow_rate_mean": 1035.19967685881, "cost2_mean": -0.053211554511736016, "outflow_rate_max": 1295.9523032967397}, "done": false, "iterations_since_restore": 43, "episode_reward_min": 48.950342940352634, "episode_reward_max": 1152.9946489284996, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8be0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d84a8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11252.388, "num_steps_sampled": 1791999, "num_steps_trained": 1791999, "grad_time_ms": 10018.765, "default": {"total_loss": 12.111262321472168, "entropy": 1.0786160230636597, "vf_explained_var": 0.9299212694168091, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 12.115220069885254, "policy_loss": -0.005267556291073561, "kl": 0.013086800463497639}, "update_time_ms": 7.179, "load_time_ms": 12.434}, "timestamp": 1557113497, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-31-37", "training_iteration": 43}
{"episode_len_mean": 686.67, "time_this_iter_s": 19.39992880821228, "node_ip": "10.138.0.2", "episodes_total": 694, "time_since_restore": 969.9504499435425, "episode_reward_mean": 827.0406627610322, "hostname": "flow-main", "timesteps_since_restore": 1832353, "timesteps_this_iter": 40354, "timesteps_total": 1832353, "pid": 24594, "time_total_s": 969.9504499435425, "custom_metrics": {"system_level_velocity_min": 8.919652221496428, "cost2_max": 0.0, "cost1_mean": 314.09499440434496, "system_level_velocity_mean": 12.347899303630179, "cost1_min": 22.256753888526738, "outflow_rate_min": 497.51150295452504, "system_level_velocity_max": 18.28059611687415, "cost2_min": -0.5878899887813293, "cost1_max": 448.5876131375431, "outflow_rate_mean": 1043.5948892773288, "cost2_mean": -0.0488611397103242, "outflow_rate_max": 1295.9523032967397}, "done": false, "iterations_since_restore": 44, "episode_reward_min": 48.950342940352634, "episode_reward_max": 1152.9946489284996, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc7b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11257.969, "num_steps_sampled": 1832353, "num_steps_trained": 1832353, "grad_time_ms": 9783.34, "default": {"total_loss": 9.8878755569458, "entropy": 1.049363613128662, "vf_explained_var": 0.9431849122047424, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 9.891098976135254, "policy_loss": -0.0044744438491761684, "kl": 0.012499645352363586}, "update_time_ms": 7.143, "load_time_ms": 12.882}, "timestamp": 1557113516, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "date": "2019-05-06_03-31-56", "training_iteration": 44}
{"episode_len_mean": 693.34, "time_this_iter_s": 22.053523063659668, "node_ip": "10.138.0.2", "episodes_total": 710, "time_since_restore": 992.0039730072021, "episode_reward_mean": 838.8612476823529, "hostname": "flow-main", "timesteps_since_restore": 1873800, "timesteps_this_iter": 41447, "timesteps_total": 1873800, "pid": 24594, "time_total_s": 992.0039730072021, "custom_metrics": {"system_level_velocity_min": 8.615132559438248, "cost2_max": 0.0, "cost1_mean": 319.3805959699962, "system_level_velocity_mean": 12.369122806939526, "cost1_min": 22.757810542163785, "outflow_rate_min": 504.157147787641, "system_level_velocity_max": 18.154947276163412, "cost2_min": -0.5878899887813293, "cost1_max": 448.5876131375431, "outflow_rate_mean": 1052.8991282602274, "cost2_mean": -0.047821709348038643, "outflow_rate_max": 1295.9523032967397}, "done": false, "iterations_since_restore": 45, "episode_reward_min": 57.99616790335524, "episode_reward_max": 1152.9946489284996, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc8d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcfd0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11250.422, "num_steps_sampled": 1873800, "num_steps_trained": 1873800, "grad_time_ms": 9833.731, "default": {"total_loss": 9.945176124572754, "entropy": 1.0514355897903442, "vf_explained_var": 0.9304589629173279, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 9.949136734008789, "policy_loss": -0.005128421820700169, "kl": 0.011672904714941978}, "update_time_ms": 7.139, "load_time_ms": 12.385}, "timestamp": 1557113538, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-32-18", "training_iteration": 45}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.69543147087097, "node_ip": "10.138.0.2", "episodes_total": 729, "time_since_restore": 1013.6994044780731, "episode_reward_mean": 844.5288728628318, "hostname": "flow-main", "timesteps_since_restore": 1915139, "timesteps_this_iter": 41339, "timesteps_total": 1915139, "pid": 24594, "time_total_s": 1013.6994044780731, "custom_metrics": {"system_level_velocity_min": 8.615132559438248, "cost2_max": 0.0, "cost1_mean": 316.99722192464924, "system_level_velocity_mean": 12.117751005689945, "cost1_min": 223.1151677498251, "outflow_rate_min": 873.6110921939728, "system_level_velocity_max": 16.955905636015945, "cost2_min": -0.5878899887813293, "cost1_max": 448.5876131375431, "outflow_rate_mean": 1047.786205854939, "cost2_mean": -0.04888843262123684, "outflow_rate_max": 1275.9732638420019}, "done": false, "iterations_since_restore": 46, "episode_reward_min": 683.6496148398634, "episode_reward_max": 1152.9946489284996, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8e80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8cc0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11269.112, "num_steps_sampled": 1915139, "num_steps_trained": 1915139, "grad_time_ms": 9833.869, "default": {"total_loss": 10.991655349731445, "entropy": 1.0475910902023315, "vf_explained_var": 0.9219689965248108, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 10.99494457244873, "policy_loss": -0.0045153070241212845, "kl": 0.012261140160262585}, "update_time_ms": 6.917, "load_time_ms": 12.384}, "timestamp": 1557113560, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-32-40", "training_iteration": 46}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.76035213470459, "node_ip": "10.138.0.2", "episodes_total": 744, "time_since_restore": 1034.4597566127777, "episode_reward_mean": 845.1593539302647, "hostname": "flow-main", "timesteps_since_restore": 1955573, "timesteps_this_iter": 40434, "timesteps_total": 1955573, "pid": 24594, "time_total_s": 1034.4597566127777, "custom_metrics": {"system_level_velocity_min": 8.615132559438248, "cost2_max": 0.0, "cost1_mean": 317.6863665085833, "system_level_velocity_mean": 12.151730887973768, "cost1_min": 223.1151677498251, "outflow_rate_min": 873.6110921939728, "system_level_velocity_max": 16.955905636015945, "cost2_min": -0.3333333333333333, "cost1_max": 448.5876131375431, "outflow_rate_mean": 1051.9710667140143, "cost2_mean": -0.038066365222066655, "outflow_rate_max": 1275.9732638420019}, "done": false, "iterations_since_restore": 47, "episode_reward_min": 676.5259271453924, "episode_reward_max": 1152.9946489284996, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832860>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832940>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11237.695, "num_steps_sampled": 1955573, "num_steps_trained": 1955573, "grad_time_ms": 9779.821, "default": {"total_loss": 9.080205917358398, "entropy": 1.0366239547729492, "vf_explained_var": 0.9329473376274109, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 9.083382606506348, "policy_loss": -0.004464155528694391, "kl": 0.012871194630861282}, "update_time_ms": 6.895, "load_time_ms": 12.771}, "timestamp": 1557113581, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_03-33-01", "training_iteration": 47}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.224709510803223, "node_ip": "10.138.0.2", "episodes_total": 758, "time_since_restore": 1055.684466123581, "episode_reward_mean": 850.3040004421813, "hostname": "flow-main", "timesteps_since_restore": 1996656, "timesteps_this_iter": 41083, "timesteps_total": 1996656, "pid": 24594, "time_total_s": 1055.684466123581, "custom_metrics": {"system_level_velocity_min": 8.615132559438248, "cost2_max": 0.0, "cost1_mean": 318.2445461207006, "system_level_velocity_mean": 12.168818792044258, "cost1_min": 223.1151677498251, "outflow_rate_min": 886.1112647920697, "system_level_velocity_max": 16.955905636015945, "cost2_min": -0.3744331983247048, "cost1_max": 448.5876131375431, "outflow_rate_mean": 1054.2967053299317, "cost2_mean": -0.03963745458594967, "outflow_rate_max": 1275.9732638420019}, "done": false, "iterations_since_restore": 48, "episode_reward_min": 676.5259271453924, "episode_reward_max": 1152.9946489284996, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dccf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcfd0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11189.267, "num_steps_sampled": 1996656, "num_steps_trained": 1996656, "grad_time_ms": 9762.885, "default": {"total_loss": 8.719237327575684, "entropy": 1.0323350429534912, "vf_explained_var": 0.9332525134086609, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 8.722143173217773, "policy_loss": -0.004025639034807682, "kl": 0.011192207224667072}, "update_time_ms": 6.852, "load_time_ms": 12.685}, "timestamp": 1557113602, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "date": "2019-05-06_03-33-22", "training_iteration": 48}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.237228393554688, "node_ip": "10.138.0.2", "episodes_total": 774, "time_since_restore": 1076.9216945171356, "episode_reward_mean": 846.0333414376057, "hostname": "flow-main", "timesteps_since_restore": 2038007, "timesteps_this_iter": 41351, "timesteps_total": 2038007, "pid": 24594, "time_total_s": 1076.9216945171356, "custom_metrics": {"system_level_velocity_min": 8.615132559438248, "cost2_max": 0.0, "cost1_mean": 319.36666564527627, "system_level_velocity_mean": 12.207721850336679, "cost1_min": 223.1151677498251, "outflow_rate_min": 886.1112647920697, "system_level_velocity_max": 15.858786825649757, "cost2_min": -0.44057659436245195, "cost1_max": 417.45114668249687, "outflow_rate_mean": 1057.8737903192666, "cost2_mean": -0.04275308274887376, "outflow_rate_max": 1264.3293283984283}, "done": false, "iterations_since_restore": 49, "episode_reward_min": 676.5259271453924, "episode_reward_max": 993.7387651093287, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcdd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcbe0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11311.865, "num_steps_sampled": 2038007, "num_steps_trained": 2038007, "grad_time_ms": 9682.971, "default": {"total_loss": 9.653764724731445, "entropy": 1.019197940826416, "vf_explained_var": 0.9397996068000793, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 9.657220840454102, "policy_loss": -0.004701170139014721, "kl": 0.012449580244719982}, "update_time_ms": 6.708, "load_time_ms": 12.02}, "timestamp": 1557113623, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-33-43", "training_iteration": 49}
{"episode_len_mean": 700.0, "time_this_iter_s": 19.366269826889038, "node_ip": "10.138.0.2", "episodes_total": 792, "time_since_restore": 1096.2879643440247, "episode_reward_mean": 841.6344753064483, "hostname": "flow-main", "timesteps_since_restore": 2078513, "timesteps_this_iter": 40506, "timesteps_total": 2078513, "pid": 24594, "time_total_s": 1096.2879643440247, "custom_metrics": {"system_level_velocity_min": 8.615132559438248, "cost2_max": 0.0, "cost1_mean": 315.28495329599116, "system_level_velocity_mean": 12.046935487109897, "cost1_min": 223.1151677498251, "outflow_rate_min": 886.1112647920697, "system_level_velocity_max": 15.858786825649757, "cost2_min": -0.4468348638208899, "cost1_max": 417.45114668249687, "outflow_rate_mean": 1051.441199529406, "cost2_mean": -0.04694355428614084, "outflow_rate_max": 1264.3293283984283}, "done": false, "iterations_since_restore": 50, "episode_reward_min": 676.5259271453924, "episode_reward_max": 993.7387651093287, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841940>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11307.585, "num_steps_sampled": 2078513, "num_steps_trained": 2078513, "grad_time_ms": 9463.845, "default": {"total_loss": 10.924084663391113, "entropy": 1.0142837762832642, "vf_explained_var": 0.9392396807670593, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 10.928218841552734, "policy_loss": -0.005398676730692387, "kl": 0.012649878859519958}, "update_time_ms": 6.742, "load_time_ms": 11.687}, "timestamp": 1557113643, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-34-03", "training_iteration": 50}
{"episode_len_mean": 700.0, "time_this_iter_s": 19.665952444076538, "node_ip": "10.138.0.2", "episodes_total": 809, "time_since_restore": 1115.9539167881012, "episode_reward_mean": 840.7473092439675, "hostname": "flow-main", "timesteps_since_restore": 2119127, "timesteps_this_iter": 40614, "timesteps_total": 2119127, "pid": 24594, "time_total_s": 1115.9539167881012, "custom_metrics": {"system_level_velocity_min": 9.250776902271221, "cost2_max": 0.0, "cost1_mean": 315.27939528192064, "system_level_velocity_mean": 12.039800471341488, "cost1_min": 237.54459572557454, "outflow_rate_min": 874.0393213698812, "system_level_velocity_max": 15.508543091908, "cost2_min": -0.6106269449199891, "cost1_max": 412.059058272005, "outflow_rate_mean": 1050.2143782710239, "cost2_mean": -0.056102190560611706, "outflow_rate_max": 1264.3293283984283}, "done": false, "iterations_since_restore": 51, "episode_reward_min": 676.5259271453924, "episode_reward_max": 1032.392216136326, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768324e0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11322.499, "num_steps_sampled": 2119127, "num_steps_trained": 2119127, "grad_time_ms": 9293.047, "default": {"total_loss": 10.225818634033203, "entropy": 1.0332914590835571, "vf_explained_var": 0.9275628924369812, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 10.229805946350098, "policy_loss": -0.005299081560224295, "kl": 0.013129150494933128}, "update_time_ms": 6.731, "load_time_ms": 11.396}, "timestamp": 1557113663, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-34-23", "training_iteration": 51}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.76864790916443, "node_ip": "10.138.0.2", "episodes_total": 826, "time_since_restore": 1136.7225646972656, "episode_reward_mean": 840.8995218131136, "hostname": "flow-main", "timesteps_since_restore": 2159168, "timesteps_this_iter": 40041, "timesteps_total": 2159168, "pid": 24594, "time_total_s": 1136.7225646972656, "custom_metrics": {"system_level_velocity_min": 9.250776902271221, "cost2_max": 0.0, "cost1_mean": 315.03676373723727, "system_level_velocity_mean": 12.03126817969044, "cost1_min": 237.54459572557454, "outflow_rate_min": 874.0393213698812, "system_level_velocity_max": 15.508543091908, "cost2_min": -0.6106269449199891, "cost1_max": 412.059058272005, "outflow_rate_mean": 1048.7790547906877, "cost2_mean": -0.06718564441259756, "outflow_rate_max": 1264.3293283984283}, "done": false, "iterations_since_restore": 52, "episode_reward_min": 667.0191948586292, "episode_reward_max": 1032.392216136326, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8e80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11298.325, "num_steps_sampled": 2159168, "num_steps_trained": 2159168, "grad_time_ms": 9406.558, "default": {"total_loss": 10.8582181930542, "entropy": 1.0178372859954834, "vf_explained_var": 0.9314996600151062, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 10.860544204711914, "policy_loss": -0.0034830505028367043, "kl": 0.011566703207790852}, "update_time_ms": 6.627, "load_time_ms": 11.336}, "timestamp": 1557113683, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-34-43", "training_iteration": 52}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.46955394744873, "node_ip": "10.138.0.2", "episodes_total": 843, "time_since_restore": 1158.1921186447144, "episode_reward_mean": 847.2374679545419, "hostname": "flow-main", "timesteps_since_restore": 2199199, "timesteps_this_iter": 40031, "timesteps_total": 2199199, "pid": 24594, "time_total_s": 1158.1921186447144, "custom_metrics": {"system_level_velocity_min": 9.250776902271221, "cost2_max": 0.0, "cost1_mean": 319.27033037298804, "system_level_velocity_mean": 12.168879290399703, "cost1_min": 237.54459572557454, "outflow_rate_min": 874.0393213698812, "system_level_velocity_max": 15.508543091908, "cost2_min": -0.7136813333727474, "cost1_max": 412.059058272005, "outflow_rate_mean": 1055.3904796315455, "cost2_mean": -0.07902432311679147, "outflow_rate_max": 1264.3293283984283}, "done": false, "iterations_since_restore": 53, "episode_reward_min": 667.0191948586292, "episode_reward_max": 1032.392216136326, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc748>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11286.968, "num_steps_sampled": 2199199, "num_steps_trained": 2199199, "grad_time_ms": 9380.036, "default": {"total_loss": 11.849199295043945, "entropy": 1.0381810665130615, "vf_explained_var": 0.9203540086746216, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 11.8530855178833, "policy_loss": -0.005113392136991024, "kl": 0.01226169802248478}, "update_time_ms": 6.838, "load_time_ms": 11.324}, "timestamp": 1557113705, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-35-05", "training_iteration": 53}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.619725465774536, "node_ip": "10.138.0.2", "episodes_total": 858, "time_since_restore": 1178.811844110489, "episode_reward_mean": 844.0027445455837, "hostname": "flow-main", "timesteps_since_restore": 2239403, "timesteps_this_iter": 40204, "timesteps_total": 2239403, "pid": 24594, "time_total_s": 1178.811844110489, "custom_metrics": {"system_level_velocity_min": 9.250776902271221, "cost2_max": 0.0, "cost1_mean": 318.31175773872974, "system_level_velocity_mean": 12.12433264445391, "cost1_min": 237.54459572557454, "outflow_rate_min": 874.0393213698812, "system_level_velocity_max": 15.508543091908, "cost2_min": -0.7136813333727474, "cost1_max": 412.059058272005, "outflow_rate_mean": 1049.8814845689803, "cost2_mean": -0.06998972024466432, "outflow_rate_max": 1249.526744467446}, "done": false, "iterations_since_restore": 54, "episode_reward_min": 667.0191948586292, "episode_reward_max": 1032.392216136326, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768329e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832358>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11251.483, "num_steps_sampled": 2239403, "num_steps_trained": 2239403, "grad_time_ms": 9538.559, "default": {"total_loss": 10.382403373718262, "entropy": 1.044695258140564, "vf_explained_var": 0.9203518629074097, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 10.3866548538208, "policy_loss": -0.005752875469624996, "kl": 0.015018723905086517}, "update_time_ms": 6.774, "load_time_ms": 11.48}, "timestamp": 1557113725, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_03-35-25", "training_iteration": 54}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.57630491256714, "node_ip": "10.138.0.2", "episodes_total": 872, "time_since_restore": 1199.388149023056, "episode_reward_mean": 843.9490690773727, "hostname": "flow-main", "timesteps_since_restore": 2279719, "timesteps_this_iter": 40316, "timesteps_total": 2279719, "pid": 24594, "time_total_s": 1199.388149023056, "custom_metrics": {"system_level_velocity_min": 9.250776902271221, "cost2_max": 0.0, "cost1_mean": 315.74420536579674, "system_level_velocity_mean": 12.023549711046366, "cost1_min": 237.54459572557454, "outflow_rate_min": 874.0393213698812, "system_level_velocity_max": 15.508543091908, "cost2_min": -0.7136813333727474, "cost1_max": 412.059058272005, "outflow_rate_mean": 1042.2440909010459, "cost2_mean": -0.06543508324564785, "outflow_rate_max": 1239.033775015439}, "done": false, "iterations_since_restore": 55, "episode_reward_min": 667.0191948586292, "episode_reward_max": 1032.392216136326, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8cc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8390>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11118.435, "num_steps_sampled": 2279719, "num_steps_trained": 2279719, "grad_time_ms": 9523.896, "default": {"total_loss": 9.92383098602295, "entropy": 1.0370855331420898, "vf_explained_var": 0.9313784837722778, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 9.92794418334961, "policy_loss": -0.0054435948841273785, "kl": 0.013299491256475449}, "update_time_ms": 6.708, "load_time_ms": 11.533}, "timestamp": 1557113746, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "date": "2019-05-06_03-35-46", "training_iteration": 55}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.736502170562744, "node_ip": "10.138.0.2", "episodes_total": 889, "time_since_restore": 1220.1246511936188, "episode_reward_mean": 848.9926203878105, "hostname": "flow-main", "timesteps_since_restore": 2319789, "timesteps_this_iter": 40070, "timesteps_total": 2319789, "pid": 24594, "time_total_s": 1220.1246511936188, "custom_metrics": {"system_level_velocity_min": 9.250776902271221, "cost2_max": 0.0, "cost1_mean": 318.6973050585341, "system_level_velocity_mean": 12.128087193736855, "cost1_min": 237.54459572557454, "outflow_rate_min": 874.0393213698812, "system_level_velocity_max": 15.508543091908, "cost2_min": -0.7136813333727474, "cost1_max": 412.059058272005, "outflow_rate_mean": 1044.1924220452047, "cost2_mean": -0.07126443037074419, "outflow_rate_max": 1239.033775015439}, "done": false, "iterations_since_restore": 56, "episode_reward_min": 667.0191948586292, "episode_reward_max": 1032.392216136326, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc5c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc128>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11069.214, "num_steps_sampled": 2319789, "num_steps_trained": 2319789, "grad_time_ms": 9477.59, "default": {"total_loss": 13.455767631530762, "entropy": 1.0311285257339478, "vf_explained_var": 0.9234588146209717, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 13.458619117736816, "policy_loss": -0.004156542010605335, "kl": 0.013045140542089939}, "update_time_ms": 6.829, "load_time_ms": 11.765}, "timestamp": 1557113767, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-36-07", "training_iteration": 56}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.50990867614746, "node_ip": "10.138.0.2", "episodes_total": 909, "time_since_restore": 1240.6345598697662, "episode_reward_mean": 857.7967456092467, "hostname": "flow-main", "timesteps_since_restore": 2359822, "timesteps_this_iter": 40033, "timesteps_total": 2359822, "pid": 24594, "time_total_s": 1240.6345598697662, "custom_metrics": {"system_level_velocity_min": 9.847901085041526, "cost2_max": 0.0, "cost1_mean": 319.32540631781467, "system_level_velocity_mean": 12.130269132259386, "cost1_min": 251.64455194984674, "outflow_rate_min": 901.6913704688275, "system_level_velocity_max": 15.486354008327408, "cost2_min": -0.7136813333727474, "cost1_max": 409.7890697607687, "outflow_rate_mean": 1043.6509665683209, "cost2_mean": -0.06044543155673223, "outflow_rate_max": 1237.8242333734324}, "done": false, "iterations_since_restore": 57, "episode_reward_min": 667.0191948586292, "episode_reward_max": 1002.8381688530457, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768322e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832198>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11042.542, "num_steps_sampled": 2359822, "num_steps_trained": 2359822, "grad_time_ms": 9479.17, "default": {"total_loss": 10.964642524719238, "entropy": 1.0427954196929932, "vf_explained_var": 0.9406390190124512, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 10.968880653381348, "policy_loss": -0.005586347542703152, "kl": 0.013472853228449821}, "update_time_ms": 6.948, "load_time_ms": 11.244}, "timestamp": 1557113787, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_03-36-27", "training_iteration": 57}
{"episode_len_mean": 700.0, "time_this_iter_s": 19.181130170822144, "node_ip": "10.138.0.2", "episodes_total": 926, "time_since_restore": 1259.8156900405884, "episode_reward_mean": 858.4904649590671, "hostname": "flow-main", "timesteps_since_restore": 2400591, "timesteps_this_iter": 40769, "timesteps_total": 2400591, "pid": 24594, "time_total_s": 1259.8156900405884, "custom_metrics": {"system_level_velocity_min": 9.839526309609765, "cost2_max": 0.0, "cost1_mean": 321.2633050864795, "system_level_velocity_mean": 12.188645502967994, "cost1_min": 252.7583826136537, "outflow_rate_min": 910.6187407800506, "system_level_velocity_max": 15.006553172266061, "cost2_min": -1.0, "cost1_max": 399.8252086217524, "outflow_rate_mean": 1045.0691320154508, "cost2_mean": -0.0637670747444439, "outflow_rate_max": 1219.8867953758124}, "done": false, "iterations_since_restore": 58, "episode_reward_min": 668.0256896532374, "episode_reward_max": 1031.0918510926012, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768324e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9b38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c97f0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11022.315, "num_steps_sampled": 2400591, "num_steps_trained": 2400591, "grad_time_ms": 9297.07, "default": {"total_loss": 11.403814315795898, "entropy": 1.0402605533599854, "vf_explained_var": 0.9252012372016907, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 11.407744407653809, "policy_loss": -0.005334761925041676, "kl": 0.014057439751923084}, "update_time_ms": 6.915, "load_time_ms": 10.763}, "timestamp": 1557113807, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-36-47", "training_iteration": 58}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.893145084381104, "node_ip": "10.138.0.2", "episodes_total": 942, "time_since_restore": 1281.7088351249695, "episode_reward_mean": 859.6517895966905, "hostname": "flow-main", "timesteps_since_restore": 2440825, "timesteps_this_iter": 40234, "timesteps_total": 2440825, "pid": 24594, "time_total_s": 1281.7088351249695, "custom_metrics": {"system_level_velocity_min": 9.053510333398316, "cost2_max": 0.0, "cost1_mean": 320.06231392901435, "system_level_velocity_mean": 12.139295443862855, "cost1_min": 235.72398158881373, "outflow_rate_min": 902.5872406219214, "system_level_velocity_max": 15.003201551074758, "cost2_min": -1.0, "cost1_max": 399.2349638783815, "outflow_rate_mean": 1040.26566232347, "cost2_mean": -0.054579931520028956, "outflow_rate_max": 1214.984557170729}, "done": false, "iterations_since_restore": 59, "episode_reward_min": 668.0256896532374, "episode_reward_max": 1031.0918510926012, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c94e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c90f0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 10994.811, "num_steps_sampled": 2440825, "num_steps_trained": 2440825, "grad_time_ms": 9390.125, "default": {"total_loss": 10.447330474853516, "entropy": 1.0381861925125122, "vf_explained_var": 0.9468168020248413, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 10.450607299804688, "policy_loss": -0.004519617184996605, "kl": 0.012427081353962421}, "update_time_ms": 6.88, "load_time_ms": 10.825}, "timestamp": 1557113828, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-37-08", "training_iteration": 59}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.44227123260498, "node_ip": "10.138.0.2", "episodes_total": 958, "time_since_restore": 1303.1511063575745, "episode_reward_mean": 859.8051856289213, "hostname": "flow-main", "timesteps_since_restore": 2481576, "timesteps_this_iter": 40751, "timesteps_total": 2481576, "pid": 24594, "time_total_s": 1303.1511063575745, "custom_metrics": {"system_level_velocity_min": 9.053510333398316, "cost2_max": 0.0, "cost1_mean": 322.8745322290666, "system_level_velocity_mean": 12.24305102257713, "cost1_min": 235.72398158881373, "outflow_rate_min": 902.5872406219214, "system_level_velocity_max": 15.003201551074758, "cost2_min": -1.0, "cost1_max": 399.2349638783815, "outflow_rate_mean": 1045.292876657177, "cost2_mean": -0.05487244288061526, "outflow_rate_max": 1214.984557170729}, "done": false, "iterations_since_restore": 60, "episode_reward_min": 702.4866149869066, "episode_reward_max": 1031.0918510926012, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832eb8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768322e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 10994.352, "num_steps_sampled": 2481576, "num_steps_trained": 2481576, "grad_time_ms": 9595.977, "default": {"total_loss": 10.245424270629883, "entropy": 1.0355093479156494, "vf_explained_var": 0.939353883266449, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 10.249360084533691, "policy_loss": -0.005206292495131493, "kl": 0.012706628069281578}, "update_time_ms": 6.846, "load_time_ms": 10.984}, "timestamp": 1557113850, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-37-30", "training_iteration": 60}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.551161289215088, "node_ip": "10.138.0.2", "episodes_total": 972, "time_since_restore": 1324.7022676467896, "episode_reward_mean": 861.512337345197, "hostname": "flow-main", "timesteps_since_restore": 2522544, "timesteps_this_iter": 40968, "timesteps_total": 2522544, "pid": 24594, "time_total_s": 1324.7022676467896, "custom_metrics": {"system_level_velocity_min": 9.053510333398316, "cost2_max": 0.0, "cost1_mean": 323.4774757858048, "system_level_velocity_mean": 12.265600615033723, "cost1_min": 235.72398158881373, "outflow_rate_min": 902.5872406219214, "system_level_velocity_max": 14.96998466221256, "cost2_min": -1.0, "cost1_max": 399.2349638783815, "outflow_rate_mean": 1047.2933833065056, "cost2_mean": -0.05358141070694446, "outflow_rate_max": 1214.984557170729}, "done": false, "iterations_since_restore": 61, "episode_reward_min": 677.3056523383837, "episode_reward_max": 1042.2186485988364, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcc50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcef0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 10986.024, "num_steps_sampled": 2522544, "num_steps_trained": 2522544, "grad_time_ms": 9791.037, "default": {"total_loss": 8.77025318145752, "entropy": 1.021845817565918, "vf_explained_var": 0.9375472068786621, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 8.774222373962402, "policy_loss": -0.005285494960844517, "kl": 0.013152016326785088}, "update_time_ms": 7.015, "load_time_ms": 11.599}, "timestamp": 1557113872, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "date": "2019-05-06_03-37-52", "training_iteration": 61}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.971872568130493, "node_ip": "10.138.0.2", "episodes_total": 989, "time_since_restore": 1345.67414021492, "episode_reward_mean": 861.5978521498754, "hostname": "flow-main", "timesteps_since_restore": 2562638, "timesteps_this_iter": 40094, "timesteps_total": 2562638, "pid": 24594, "time_total_s": 1345.67414021492, "custom_metrics": {"system_level_velocity_min": 9.053510333398316, "cost2_max": 0.0, "cost1_mean": 319.29830058939206, "system_level_velocity_mean": 12.115958015226237, "cost1_min": 235.72398158881373, "outflow_rate_min": 902.5872406219214, "system_level_velocity_max": 14.96998466221256, "cost2_min": -1.0, "cost1_max": 399.2349638783815, "outflow_rate_mean": 1042.1709545889435, "cost2_mean": -0.04669236638884715, "outflow_rate_max": 1214.984557170729}, "done": false, "iterations_since_restore": 62, "episode_reward_min": 677.3056523383837, "episode_reward_max": 1042.2186485988364, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c90f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9cc0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11007.348, "num_steps_sampled": 2562638, "num_steps_trained": 2562638, "grad_time_ms": 9787.8, "default": {"total_loss": 11.344834327697754, "entropy": 1.0124915838241577, "vf_explained_var": 0.9464187622070312, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 11.347545623779297, "policy_loss": -0.003962360788136721, "kl": 0.01251189038157463}, "update_time_ms": 7.335, "load_time_ms": 11.71}, "timestamp": 1557113893, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-38-13", "training_iteration": 62}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.624484539031982, "node_ip": "10.138.0.2", "episodes_total": 1007, "time_since_restore": 1366.298624753952, "episode_reward_mean": 859.8145698488005, "hostname": "flow-main", "timesteps_since_restore": 2602677, "timesteps_this_iter": 40039, "timesteps_total": 2602677, "pid": 24594, "time_total_s": 1366.298624753952, "custom_metrics": {"system_level_velocity_min": 9.053510333398316, "cost2_max": 0.0, "cost1_mean": 321.8374477057808, "system_level_velocity_mean": 12.222878847426117, "cost1_min": 235.72398158881373, "outflow_rate_min": 902.5872406219214, "system_level_velocity_max": 15.109766596446269, "cost2_min": -1.0, "cost1_max": 401.53725401674524, "outflow_rate_mean": 1049.4700754915443, "cost2_mean": -0.04800549870166449, "outflow_rate_max": 1223.4514069801357}, "done": false, "iterations_since_restore": 63, "episode_reward_min": 677.3056523383837, "episode_reward_max": 1042.2186485988364, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e10b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1160>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e15c0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 10895.033, "num_steps_sampled": 2602677, "num_steps_trained": 2602677, "grad_time_ms": 9815.555, "default": {"total_loss": 11.977275848388672, "entropy": 1.0159310102462769, "vf_explained_var": 0.9433537125587463, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 11.980798721313477, "policy_loss": -0.0048913368955254555, "kl": 0.013696706853806973}, "update_time_ms": 7.252, "load_time_ms": 11.979}, "timestamp": 1557113913, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-38-33", "training_iteration": 63}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.14785122871399, "node_ip": "10.138.0.2", "episodes_total": 1025, "time_since_restore": 1387.446475982666, "episode_reward_mean": 859.4779907457163, "hostname": "flow-main", "timesteps_since_restore": 2642771, "timesteps_this_iter": 40094, "timesteps_total": 2642771, "pid": 24594, "time_total_s": 1387.446475982666, "custom_metrics": {"system_level_velocity_min": 9.053510333398316, "cost2_max": 0.0, "cost1_mean": 323.73240829981404, "system_level_velocity_mean": 12.30444784543206, "cost1_min": 235.72398158881373, "outflow_rate_min": 902.5872406219214, "system_level_velocity_max": 16.20566190702331, "cost2_min": -0.3233212869397727, "cost1_max": 427.42135835615034, "outflow_rate_mean": 1055.8705764005701, "cost2_mean": -0.03887525357766688, "outflow_rate_max": 1295.9475449026168}, "done": false, "iterations_since_restore": 64, "episode_reward_min": 677.3056523383837, "episode_reward_max": 1054.1367063035714, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcda0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff97687dd30>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 10961.74, "num_steps_sampled": 2642771, "num_steps_trained": 2642771, "grad_time_ms": 9801.198, "default": {"total_loss": 13.294568061828613, "entropy": 1.011389136314392, "vf_explained_var": 0.9321169853210449, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 13.298806190490723, "policy_loss": -0.0056753987446427345, "kl": 0.014372507110238075}, "update_time_ms": 7.283, "load_time_ms": 12.161}, "timestamp": 1557113934, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-38-54", "training_iteration": 64}
{"episode_len_mean": 700.0, "time_this_iter_s": 19.80173945426941, "node_ip": "10.138.0.2", "episodes_total": 1042, "time_since_restore": 1407.2482154369354, "episode_reward_mean": 860.7213462119778, "hostname": "flow-main", "timesteps_since_restore": 2684090, "timesteps_this_iter": 41319, "timesteps_total": 2684090, "pid": 24594, "time_total_s": 1407.2482154369354, "custom_metrics": {"system_level_velocity_min": 9.305698405759994, "cost2_max": 0.0, "cost1_mean": 322.07854125340486, "system_level_velocity_mean": 12.265472539125517, "cost1_min": 238.7903505603579, "outflow_rate_min": 879.5517239506355, "system_level_velocity_max": 16.329746124989992, "cost2_min": -0.6330114343112829, "cost1_max": 429.6541734530932, "outflow_rate_mean": 1056.1971772867455, "cost2_mean": -0.045340159879992924, "outflow_rate_max": 1299.645138366864}, "done": false, "iterations_since_restore": 65, "episode_reward_min": 677.3056523383837, "episode_reward_max": 1054.1367063035714, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768324e0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11063.016, "num_steps_sampled": 2684090, "num_steps_trained": 2684090, "grad_time_ms": 9622.03, "default": {"total_loss": 12.277227401733398, "entropy": 1.0370659828186035, "vf_explained_var": 0.9287841320037842, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 12.280488967895508, "policy_loss": -0.004525525029748678, "kl": 0.01264967955648899}, "update_time_ms": 7.261, "load_time_ms": 12.335}, "timestamp": 1557113954, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-39-14", "training_iteration": 65}
{"episode_len_mean": 700.0, "time_this_iter_s": 19.27411913871765, "node_ip": "10.138.0.2", "episodes_total": 1055, "time_since_restore": 1426.522334575653, "episode_reward_mean": 863.7146676597253, "hostname": "flow-main", "timesteps_since_restore": 2724986, "timesteps_this_iter": 40896, "timesteps_total": 2724986, "pid": 24594, "time_total_s": 1426.522334575653, "custom_metrics": {"system_level_velocity_min": 9.305698405759994, "cost2_max": 0.0, "cost1_mean": 323.9706330798085, "system_level_velocity_mean": 12.348139470374306, "cost1_min": 238.7903505603579, "outflow_rate_min": 879.5517239506355, "system_level_velocity_max": 16.329746124989992, "cost2_min": -0.6330114343112829, "cost1_max": 429.6541734530932, "outflow_rate_mean": 1063.5248903102786, "cost2_mean": -0.05136743842887994, "outflow_rate_max": 1299.645138366864}, "done": false, "iterations_since_restore": 66, "episode_reward_min": 677.3056523383837, "episode_reward_max": 1054.1367063035714, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11050.415, "num_steps_sampled": 2724986, "num_steps_trained": 2724986, "grad_time_ms": 9486.911, "default": {"total_loss": 9.868346214294434, "entropy": 1.0213348865509033, "vf_explained_var": 0.9462161660194397, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 9.871672630310059, "policy_loss": -0.004584415350109339, "kl": 0.012577385641634464}, "update_time_ms": 7.197, "load_time_ms": 12.259}, "timestamp": 1557113973, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 13, "date": "2019-05-06_03-39-33", "training_iteration": 66}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.546800136566162, "node_ip": "10.138.0.2", "episodes_total": 1070, "time_since_restore": 1447.0691347122192, "episode_reward_mean": 860.172555611062, "hostname": "flow-main", "timesteps_since_restore": 2765160, "timesteps_this_iter": 40174, "timesteps_total": 2765160, "pid": 24594, "time_total_s": 1447.0691347122192, "custom_metrics": {"system_level_velocity_min": 9.305698405759994, "cost2_max": 0.0, "cost1_mean": 322.9111264094838, "system_level_velocity_mean": 12.325535330179035, "cost1_min": 238.7903505603579, "outflow_rate_min": 879.5517239506355, "system_level_velocity_max": 16.53866037433409, "cost2_min": -0.8, "cost1_max": 436.8670858299894, "outflow_rate_mean": 1062.6109815820657, "cost2_mean": -0.05918253565207614, "outflow_rate_max": 1299.645138366864}, "done": false, "iterations_since_restore": 67, "episode_reward_min": 726.4491470453587, "episode_reward_max": 1054.1367063035714, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc1d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8eb8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11045.479, "num_steps_sampled": 2765160, "num_steps_trained": 2765160, "grad_time_ms": 9494.204, "default": {"total_loss": 12.026580810546875, "entropy": 0.9942805171012878, "vf_explained_var": 0.9494228363037109, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 12.029733657836914, "policy_loss": -0.004459982737898827, "kl": 0.013070384040474892}, "update_time_ms": 7.157, "load_time_ms": 13.572}, "timestamp": 1557113994, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_03-39-54", "training_iteration": 67}
{"episode_len_mean": 693.44, "time_this_iter_s": 21.433449029922485, "node_ip": "10.138.0.2", "episodes_total": 1090, "time_since_restore": 1468.5025837421417, "episode_reward_mean": 859.1662372271301, "hostname": "flow-main", "timesteps_since_restore": 2804474, "timesteps_this_iter": 39314, "timesteps_total": 2804474, "pid": 24594, "time_total_s": 1468.5025837421417, "custom_metrics": {"system_level_velocity_min": 9.472007444430544, "cost2_max": 0.0, "cost1_mean": 328.15118697475094, "system_level_velocity_mean": 12.70573279195504, "cost1_min": 29.308159804457816, "outflow_rate_min": 510.41351578183816, "system_level_velocity_max": 18.641758136592102, "cost2_min": -0.8, "cost1_max": 481.269839879497, "outflow_rate_mean": 1071.8438888173637, "cost2_mean": -0.06192839186506016, "outflow_rate_max": 1301.3468682082316}, "done": false, "iterations_since_restore": 68, "episode_reward_min": 69.95902344088452, "episode_reward_max": 1152.9468875763403, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcbe0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc278>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11140.899, "num_steps_sampled": 2804474, "num_steps_trained": 2804474, "grad_time_ms": 9622.777, "default": {"total_loss": 18.512939453125, "entropy": 0.9969202280044556, "vf_explained_var": 0.924127459526062, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 18.515357971191406, "policy_loss": -0.0037716033402830362, "kl": 0.01353701576590538}, "update_time_ms": 7.257, "load_time_ms": 14.157}, "timestamp": 1557114016, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_03-40-16", "training_iteration": 68}
{"episode_len_mean": 687.79, "time_this_iter_s": 20.43526864051819, "node_ip": "10.138.0.2", "episodes_total": 1109, "time_since_restore": 1488.93785238266, "episode_reward_mean": 852.4680278406555, "hostname": "flow-main", "timesteps_since_restore": 2842835, "timesteps_this_iter": 38361, "timesteps_total": 2842835, "pid": 24594, "time_total_s": 1488.93785238266, "custom_metrics": {"system_level_velocity_min": 9.472007444430544, "cost2_max": 0.0, "cost1_mean": 327.085109406388, "system_level_velocity_mean": 12.850908890616582, "cost1_min": 29.308159804457816, "outflow_rate_min": 510.41351578183816, "system_level_velocity_max": 18.772909142270287, "cost2_min": -0.8, "cost1_max": 481.269839879497, "outflow_rate_mean": 1070.7622429061503, "cost2_mean": -0.06951411444381123, "outflow_rate_max": 1320.131148759825}, "done": false, "iterations_since_restore": 69, "episode_reward_min": 69.95902344088452, "episode_reward_max": 1154.7800686715457, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768326a0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11061.364, "num_steps_sampled": 2842835, "num_steps_trained": 2842835, "grad_time_ms": 9556.777, "default": {"total_loss": 15.834846496582031, "entropy": 1.0068235397338867, "vf_explained_var": 0.9271932244300842, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 15.83834457397461, "policy_loss": -0.004899101331830025, "kl": 0.014014040119946003}, "update_time_ms": 7.327, "load_time_ms": 14.543}, "timestamp": 1557114036, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-40-36", "training_iteration": 69}
{"episode_len_mean": 687.79, "time_this_iter_s": 20.135898113250732, "node_ip": "10.138.0.2", "episodes_total": 1127, "time_since_restore": 1509.0737504959106, "episode_reward_mean": 855.6354575178564, "hostname": "flow-main", "timesteps_since_restore": 2881702, "timesteps_this_iter": 38867, "timesteps_total": 2881702, "pid": 24594, "time_total_s": 1509.0737504959106, "custom_metrics": {"system_level_velocity_min": 9.472007444430544, "cost2_max": 0.0, "cost1_mean": 327.96198792195116, "system_level_velocity_mean": 12.894849760449016, "cost1_min": 29.308159804457816, "outflow_rate_min": 510.41351578183816, "system_level_velocity_max": 18.772909142270287, "cost2_min": -0.8, "cost1_max": 481.269839879497, "outflow_rate_mean": 1069.9881643770152, "cost2_mean": -0.059257709288377675, "outflow_rate_max": 1320.131148759825}, "done": false, "iterations_since_restore": 70, "episode_reward_min": 69.95902344088452, "episode_reward_max": 1154.7800686715457, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c93c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11003.121, "num_steps_sampled": 2881702, "num_steps_trained": 2881702, "grad_time_ms": 9484.107, "default": {"total_loss": 12.389524459838867, "entropy": 1.0135711431503296, "vf_explained_var": 0.9410413503646851, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 12.39354133605957, "policy_loss": -0.00535178417339921, "kl": 0.013346281833946705}, "update_time_ms": 7.325, "load_time_ms": 14.303}, "timestamp": 1557114056, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-40-56", "training_iteration": 70}
{"episode_len_mean": 687.79, "time_this_iter_s": 21.217583417892456, "node_ip": "10.138.0.2", "episodes_total": 1145, "time_since_restore": 1530.291333913803, "episode_reward_mean": 856.0341799934176, "hostname": "flow-main", "timesteps_since_restore": 2920805, "timesteps_this_iter": 39103, "timesteps_total": 2920805, "pid": 24594, "time_total_s": 1530.291333913803, "custom_metrics": {"system_level_velocity_min": 9.871050157634485, "cost2_max": 0.0, "cost1_mean": 333.6296821683708, "system_level_velocity_mean": 13.118895102880709, "cost1_min": 29.308159804457816, "outflow_rate_min": 510.41351578183816, "system_level_velocity_max": 18.772909142270287, "cost2_min": -0.8, "cost1_max": 481.269839879497, "outflow_rate_mean": 1077.4875475475333, "cost2_mean": -0.06491201182951677, "outflow_rate_max": 1331.5741774499954}, "done": false, "iterations_since_restore": 71, "episode_reward_min": 69.95902344088452, "episode_reward_max": 1154.7800686715457, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc2b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce48>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11037.177, "num_steps_sampled": 2920805, "num_steps_trained": 2920805, "grad_time_ms": 9417.122, "default": {"total_loss": 14.523845672607422, "entropy": 0.9901348352432251, "vf_explained_var": 0.9379168152809143, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 14.526748657226562, "policy_loss": -0.004316785838454962, "kl": 0.01412944309413433}, "update_time_ms": 7.275, "load_time_ms": 14.164}, "timestamp": 1557114077, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-41-17", "training_iteration": 71}
{"episode_len_mean": 687.79, "time_this_iter_s": 22.72102451324463, "node_ip": "10.138.0.2", "episodes_total": 1161, "time_since_restore": 1553.0123584270477, "episode_reward_mean": 866.8765970047441, "hostname": "flow-main", "timesteps_since_restore": 2961426, "timesteps_this_iter": 40621, "timesteps_total": 2961426, "pid": 24594, "time_total_s": 1553.0123584270477, "custom_metrics": {"system_level_velocity_min": 9.871050157634485, "cost2_max": 0.0, "cost1_mean": 338.4282171010834, "system_level_velocity_mean": 13.308405136016052, "cost1_min": 29.308159804457816, "outflow_rate_min": 510.41351578183816, "system_level_velocity_max": 18.772909142270287, "cost2_min": -0.8, "cost1_max": 481.269839879497, "outflow_rate_mean": 1084.60722450902, "cost2_mean": -0.07711234487009005, "outflow_rate_max": 1351.6636071203018}, "done": false, "iterations_since_restore": 72, "episode_reward_min": 69.95902344088452, "episode_reward_max": 1164.4460805646886, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832d68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768324a8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11222.352, "num_steps_sampled": 2961426, "num_steps_trained": 2961426, "grad_time_ms": 9408.485, "default": {"total_loss": 15.596054077148438, "entropy": 1.0059146881103516, "vf_explained_var": 0.9209325313568115, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 15.60166072845459, "policy_loss": -0.007143271621316671, "kl": 0.01535581424832344}, "update_time_ms": 7.023, "load_time_ms": 13.971}, "timestamp": 1557114100, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-41-40", "training_iteration": 72}
{"episode_len_mean": 687.79, "time_this_iter_s": 21.786478281021118, "node_ip": "10.138.0.2", "episodes_total": 1174, "time_since_restore": 1574.7988367080688, "episode_reward_mean": 865.3310459125739, "hostname": "flow-main", "timesteps_since_restore": 3003169, "timesteps_this_iter": 41743, "timesteps_total": 3003169, "pid": 24594, "time_total_s": 1574.7988367080688, "custom_metrics": {"system_level_velocity_min": 9.732197002641302, "cost2_max": 0.0, "cost1_mean": 336.12772565303334, "system_level_velocity_mean": 13.22778452621119, "cost1_min": 29.308159804457816, "outflow_rate_min": 510.41351578183816, "system_level_velocity_max": 18.772909142270287, "cost2_min": -0.567787015953449, "cost1_max": 478.5662563823892, "outflow_rate_mean": 1081.1316117341216, "cost2_mean": -0.06650580461512855, "outflow_rate_max": 1351.6636071203018}, "done": false, "iterations_since_restore": 73, "episode_reward_min": 69.95902344088452, "episode_reward_max": 1164.4460805646886, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1240>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11317.34, "num_steps_sampled": 3003169, "num_steps_trained": 3003169, "grad_time_ms": 9427.751, "default": {"total_loss": 7.843306064605713, "entropy": 1.0498441457748413, "vf_explained_var": 0.9371357560157776, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 7.847317218780518, "policy_loss": -0.005365779157727957, "kl": 0.013548201881349087}, "update_time_ms": 6.917, "load_time_ms": 15.788}, "timestamp": 1557114122, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 13, "date": "2019-05-06_03-42-02", "training_iteration": 73}
{"episode_len_mean": 694.35, "time_this_iter_s": 20.10914421081543, "node_ip": "10.138.0.2", "episodes_total": 1190, "time_since_restore": 1594.9079809188843, "episode_reward_mean": 870.1567598500139, "hostname": "flow-main", "timesteps_since_restore": 3043344, "timesteps_this_iter": 40175, "timesteps_total": 3043344, "pid": 24594, "time_total_s": 1594.9079809188843, "custom_metrics": {"system_level_velocity_min": 9.416853982179173, "cost2_max": 0.0, "cost1_mean": 335.85435807291555, "system_level_velocity_mean": 13.055056990405124, "cost1_min": 92.91542773589143, "outflow_rate_min": 750.7009614404046, "system_level_velocity_max": 18.772909142270287, "cost2_min": -0.567787015953449, "cost1_max": 478.5662563823892, "outflow_rate_mean": 1080.7535450705789, "cost2_mean": -0.07299717107453206, "outflow_rate_max": 1351.6636071203018}, "done": false, "iterations_since_restore": 74, "episode_reward_min": 204.71394566071083, "episode_reward_max": 1164.4460805646886, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcbe0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc630>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc240>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11376.906, "num_steps_sampled": 3043344, "num_steps_trained": 3043344, "grad_time_ms": 9264.536, "default": {"total_loss": 11.875168800354004, "entropy": 1.0189529657363892, "vf_explained_var": 0.9482024312019348, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 11.879932403564453, "policy_loss": -0.006275393534451723, "kl": 0.015122842974960804}, "update_time_ms": 6.873, "load_time_ms": 16.203}, "timestamp": 1557114142, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-42-22", "training_iteration": 74}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.493239164352417, "node_ip": "10.138.0.2", "episodes_total": 1210, "time_since_restore": 1615.4012200832367, "episode_reward_mean": 875.7550669156735, "hostname": "flow-main", "timesteps_since_restore": 3083083, "timesteps_this_iter": 39739, "timesteps_total": 3083083, "pid": 24594, "time_total_s": 1615.4012200832367, "custom_metrics": {"system_level_velocity_min": 9.215084525765347, "cost2_max": 0.0, "cost1_mean": 336.6662413287239, "system_level_velocity_mean": 12.927802772631331, "cost1_min": 237.84204322522083, "outflow_rate_min": 898.5983861763481, "system_level_velocity_max": 18.375559079930436, "cost2_min": -0.567787015953449, "cost1_max": 478.5662563823892, "outflow_rate_mean": 1079.6621709878345, "cost2_mean": -0.06798102263475028, "outflow_rate_max": 1351.6636071203018}, "done": false, "iterations_since_restore": 75, "episode_reward_min": 712.0037701822071, "episode_reward_max": 1164.4460805646886, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832a58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768327b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11459.378, "num_steps_sampled": 3083083, "num_steps_trained": 3083083, "grad_time_ms": 9249.932, "default": {"total_loss": 15.128153800964355, "entropy": 1.017569661140442, "vf_explained_var": 0.9352794885635376, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 15.13305377960205, "policy_loss": -0.006415924523025751, "kl": 0.015161203220486641}, "update_time_ms": 6.867, "load_time_ms": 18.554}, "timestamp": 1557114163, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_03-42-43", "training_iteration": 75}
{"episode_len_mean": 693.39, "time_this_iter_s": 19.537578582763672, "node_ip": "10.138.0.2", "episodes_total": 1230, "time_since_restore": 1634.9387986660004, "episode_reward_mean": 864.3942985332814, "hostname": "flow-main", "timesteps_since_restore": 3122537, "timesteps_this_iter": 39454, "timesteps_total": 3122537, "pid": 24594, "time_total_s": 1634.9387986660004, "custom_metrics": {"system_level_velocity_min": 9.215084525765347, "cost2_max": 0.0, "cost1_mean": 331.95680667435386, "system_level_velocity_mean": 12.930992893526648, "cost1_min": 26.291439384291497, "outflow_rate_min": 510.4653568657159, "system_level_velocity_max": 18.375559079930436, "cost2_min": -0.567787015953449, "cost1_max": 478.5662563823892, "outflow_rate_mean": 1070.9936181333683, "cost2_mean": -0.07038560496762139, "outflow_rate_max": 1351.6636071203018}, "done": false, "iterations_since_restore": 76, "episode_reward_min": 66.50488364693912, "episode_reward_max": 1164.4460805646886, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e12b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1f98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1748>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11521.276, "num_steps_sampled": 3122537, "num_steps_trained": 3122537, "grad_time_ms": 9217.219, "default": {"total_loss": 13.016705513000488, "entropy": 1.0173205137252808, "vf_explained_var": 0.9358867406845093, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 13.020853996276855, "policy_loss": -0.0054905298165977, "kl": 0.013420303352177143}, "update_time_ms": 6.934, "load_time_ms": 18.465}, "timestamp": 1557114182, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_03-43-02", "training_iteration": 76}
{"episode_len_mean": 693.39, "time_this_iter_s": 21.712058544158936, "node_ip": "10.138.0.2", "episodes_total": 1246, "time_since_restore": 1656.6508572101593, "episode_reward_mean": 865.3555825248321, "hostname": "flow-main", "timesteps_since_restore": 3162271, "timesteps_this_iter": 39734, "timesteps_total": 3162271, "pid": 24594, "time_total_s": 1656.6508572101593, "custom_metrics": {"system_level_velocity_min": 9.215084525765347, "cost2_max": 0.0, "cost1_mean": 330.0549544706206, "system_level_velocity_mean": 12.854678803624118, "cost1_min": 26.291439384291497, "outflow_rate_min": 510.4653568657159, "system_level_velocity_max": 18.375559079930436, "cost2_min": -0.567787015953449, "cost1_max": 478.5662563823892, "outflow_rate_mean": 1067.6652013130076, "cost2_mean": -0.05618327364496205, "outflow_rate_max": 1351.6636071203018}, "done": false, "iterations_since_restore": 77, "episode_reward_min": 66.50488364693912, "episode_reward_max": 1164.4460805646886, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d87b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8160>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11640.706, "num_steps_sampled": 3162271, "num_steps_trained": 3162271, "grad_time_ms": 9215.751, "default": {"total_loss": 11.076544761657715, "entropy": 1.0153851509094238, "vf_explained_var": 0.9495910406112671, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 11.080174446105957, "policy_loss": -0.00493174884468317, "kl": 0.01302422396838665}, "update_time_ms": 6.897, "load_time_ms": 17.593}, "timestamp": 1557114204, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-43-24", "training_iteration": 77}
{"episode_len_mean": 693.39, "time_this_iter_s": 21.18801736831665, "node_ip": "10.138.0.2", "episodes_total": 1262, "time_since_restore": 1677.838874578476, "episode_reward_mean": 860.2071879335724, "hostname": "flow-main", "timesteps_since_restore": 3202794, "timesteps_this_iter": 40523, "timesteps_total": 3202794, "pid": 24594, "time_total_s": 1677.838874578476, "custom_metrics": {"system_level_velocity_min": 9.215084525765347, "cost2_max": 0.0, "cost1_mean": 326.00356288194854, "system_level_velocity_mean": 12.698798185660761, "cost1_min": 26.291439384291497, "outflow_rate_min": 510.4653568657159, "system_level_velocity_max": 18.323185529028567, "cost2_min": -0.3966055568397274, "cost1_max": 468.6830944474172, "outflow_rate_mean": 1058.7013437308733, "cost2_mean": -0.047031993887279244, "outflow_rate_max": 1304.7500143966456}, "done": false, "iterations_since_restore": 78, "episode_reward_min": 66.50488364693912, "episode_reward_max": 1138.983931814178, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc6d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcfd0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc940>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11575.535, "num_steps_sampled": 3202794, "num_steps_trained": 3202794, "grad_time_ms": 9256.641, "default": {"total_loss": 11.577262878417969, "entropy": 0.9915050864219666, "vf_explained_var": 0.9447954297065735, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 11.582193374633789, "policy_loss": -0.0064381626434624195, "kl": 0.015078731812536716}, "update_time_ms": 6.904, "load_time_ms": 17.386}, "timestamp": 1557114225, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-43-45", "training_iteration": 78}
{"episode_len_mean": 693.39, "time_this_iter_s": 21.232458114624023, "node_ip": "10.138.0.2", "episodes_total": 1276, "time_since_restore": 1699.0713326931, "episode_reward_mean": 862.5721853915668, "hostname": "flow-main", "timesteps_since_restore": 3243033, "timesteps_this_iter": 40239, "timesteps_total": 3243033, "pid": 24594, "time_total_s": 1699.0713326931, "custom_metrics": {"system_level_velocity_min": 9.215084525765347, "cost2_max": 0.0, "cost1_mean": 328.7078749825836, "system_level_velocity_mean": 12.793244352935558, "cost1_min": 26.291439384291497, "outflow_rate_min": 510.4653568657159, "system_level_velocity_max": 18.323185529028567, "cost2_min": -0.3966055568397274, "cost1_max": 468.6830944474172, "outflow_rate_mean": 1060.1046539631216, "cost2_mean": -0.04396099903448649, "outflow_rate_max": 1304.7500143966456}, "done": false, "iterations_since_restore": 79, "episode_reward_min": 66.50488364693912, "episode_reward_max": 1138.983931814178, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832780>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11588.992, "num_steps_sampled": 3243033, "num_steps_trained": 3243033, "grad_time_ms": 9322.628, "default": {"total_loss": 12.001200675964355, "entropy": 0.9807822108268738, "vf_explained_var": 0.9428673982620239, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 12.007267951965332, "policy_loss": -0.00767946382984519, "kl": 0.016123376786708832}, "update_time_ms": 6.899, "load_time_ms": 17.755}, "timestamp": 1557114246, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "date": "2019-05-06_03-44-06", "training_iteration": 79}
{"episode_len_mean": 693.39, "time_this_iter_s": 20.7647066116333, "node_ip": "10.138.0.2", "episodes_total": 1293, "time_since_restore": 1719.8360393047333, "episode_reward_mean": 864.63617181546, "hostname": "flow-main", "timesteps_since_restore": 3282998, "timesteps_this_iter": 39965, "timesteps_total": 3282998, "pid": 24594, "time_total_s": 1719.8360393047333, "custom_metrics": {"system_level_velocity_min": 9.215084525765347, "cost2_max": 0.0, "cost1_mean": 332.32099156254486, "system_level_velocity_mean": 12.916528276125252, "cost1_min": 26.291439384291497, "outflow_rate_min": 510.4653568657159, "system_level_velocity_max": 18.323185529028567, "cost2_min": -0.6060558691326141, "cost1_max": 468.6830944474172, "outflow_rate_mean": 1063.4310146355926, "cost2_mean": -0.03885012608097494, "outflow_rate_max": 1304.7500143966456}, "done": false, "iterations_since_restore": 80, "episode_reward_min": 66.50488364693912, "episode_reward_max": 1138.983931814178, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841940>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11607.857, "num_steps_sampled": 3282998, "num_steps_trained": 3282998, "grad_time_ms": 9368.52, "default": {"total_loss": 12.87395191192627, "entropy": 0.9743556380271912, "vf_explained_var": 0.9391888380050659, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 12.877917289733887, "policy_loss": -0.005403078626841307, "kl": 0.014380500651896}, "update_time_ms": 6.86, "load_time_ms": 17.595}, "timestamp": 1557114267, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-44-27", "training_iteration": 80}
{"episode_len_mean": 693.39, "time_this_iter_s": 20.54057240486145, "node_ip": "10.138.0.2", "episodes_total": 1313, "time_since_restore": 1740.3766117095947, "episode_reward_mean": 864.0159534100957, "hostname": "flow-main", "timesteps_since_restore": 3321625, "timesteps_this_iter": 38627, "timesteps_total": 3321625, "pid": 24594, "time_total_s": 1740.3766117095947, "custom_metrics": {"system_level_velocity_min": 10.101421007701722, "cost2_max": 0.0, "cost1_mean": 333.48772084491503, "system_level_velocity_mean": 12.946531572539797, "cost1_min": 26.291439384291497, "outflow_rate_min": 510.4653568657159, "system_level_velocity_max": 18.323185529028567, "cost2_min": -0.6060558691326141, "cost1_max": 449.666490742791, "outflow_rate_mean": 1062.7918441121465, "cost2_mean": -0.03605453458289344, "outflow_rate_max": 1267.5744782148752}, "done": false, "iterations_since_restore": 81, "episode_reward_min": 66.50488364693912, "episode_reward_max": 1138.983931814178, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc588>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11558.604, "num_steps_sampled": 3321625, "num_steps_trained": 3321625, "grad_time_ms": 9350.46, "default": {"total_loss": 13.590621948242188, "entropy": 0.9776161313056946, "vf_explained_var": 0.9446762204170227, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 13.596193313598633, "policy_loss": -0.007281879894435406, "kl": 0.01709871180355549}, "update_time_ms": 6.78, "load_time_ms": 17.425}, "timestamp": 1557114288, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_03-44-48", "training_iteration": 81}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.08681559562683, "node_ip": "10.138.0.2", "episodes_total": 1331, "time_since_restore": 1760.4634273052216, "episode_reward_mean": 872.1793569877206, "hostname": "flow-main", "timesteps_since_restore": 3360106, "timesteps_this_iter": 38481, "timesteps_total": 3360106, "pid": 24594, "time_total_s": 1760.4634273052216, "custom_metrics": {"system_level_velocity_min": 9.973587957478546, "cost2_max": 0.0, "cost1_mean": 336.6233322163218, "system_level_velocity_mean": 12.885580174480207, "cost1_min": 254.69623068816728, "outflow_rate_min": 935.6702372101995, "system_level_velocity_max": 17.019230761663415, "cost2_min": -0.6196375845119175, "cost1_max": 449.666490742791, "outflow_rate_mean": 1060.826020154996, "cost2_mean": -0.04310571414303945, "outflow_rate_max": 1267.5744782148752}, "done": false, "iterations_since_restore": 82, "episode_reward_min": 736.1677225194126, "episode_reward_max": 1138.983931814178, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e12e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e19b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11317.058, "num_steps_sampled": 3360106, "num_steps_trained": 3360106, "grad_time_ms": 9329.516, "default": {"total_loss": 17.401987075805664, "entropy": 0.9760005474090576, "vf_explained_var": 0.9137874245643616, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 17.407386779785156, "policy_loss": -0.006863459013402462, "kl": 0.014648727141320705}, "update_time_ms": 6.779, "load_time_ms": 16.868}, "timestamp": 1557114308, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-45-08", "training_iteration": 82}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.187569618225098, "node_ip": "10.138.0.2", "episodes_total": 1351, "time_since_restore": 1781.6509969234467, "episode_reward_mean": 872.2133899501645, "hostname": "flow-main", "timesteps_since_restore": 3396965, "timesteps_this_iter": 36859, "timesteps_total": 3396965, "pid": 24594, "time_total_s": 1781.6509969234467, "custom_metrics": {"system_level_velocity_min": 9.240134748118916, "cost2_max": 0.0, "cost1_mean": 336.70939499991647, "system_level_velocity_mean": 12.874460236284904, "cost1_min": 238.18540592843135, "outflow_rate_min": 875.1393350439794, "system_level_velocity_max": 17.019230761663415, "cost2_min": -0.6196375845119175, "cost1_max": 449.666490742791, "outflow_rate_mean": 1052.327553875217, "cost2_mean": -0.0441303126772171, "outflow_rate_max": 1267.5744782148752}, "done": false, "iterations_since_restore": 83, "episode_reward_min": 750.4599271308821, "episode_reward_max": 1138.983931814178, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc3c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcc88>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11372.572, "num_steps_sampled": 3396965, "num_steps_trained": 3396965, "grad_time_ms": 9217.198, "default": {"total_loss": 21.5989933013916, "entropy": 0.9401236772537231, "vf_explained_var": 0.9117876887321472, "cur_kl_coeff": 0.10000000149011612, "cur_lr": 0.0005000000237487257, "vf_loss": 21.603761672973633, "policy_loss": -0.006183823570609093, "kl": 0.014149283990263939}, "update_time_ms": 6.767, "load_time_ms": 14.592}, "timestamp": 1557114329, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_03-45-29", "training_iteration": 83}
{"episode_len_mean": 693.33, "time_this_iter_s": 21.070804595947266, "node_ip": "10.138.0.2", "episodes_total": 1372, "time_since_restore": 1802.721801519394, "episode_reward_mean": 858.1491166577367, "hostname": "flow-main", "timesteps_since_restore": 3434741, "timesteps_this_iter": 37776, "timesteps_total": 3434741, "pid": 24594, "time_total_s": 1802.721801519394, "custom_metrics": {"system_level_velocity_min": 9.240134748118916, "cost2_max": 0.0, "cost1_mean": 340.29852887185706, "system_level_velocity_mean": 13.179645259475297, "cost1_min": 22.243948453384075, "outflow_rate_min": 500.73415127394753, "system_level_velocity_max": 18.271171904408373, "cost2_min": -0.6196375845119175, "cost1_max": 457.01626409084037, "outflow_rate_mean": 1046.4237158457875, "cost2_mean": -0.04301271687371295, "outflow_rate_max": 1245.7757572779935}, "done": false, "iterations_since_restore": 84, "episode_reward_min": 50.91259211977174, "episode_reward_max": 1026.280667616963, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc6d8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcbe0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11321.198, "num_steps_sampled": 3434741, "num_steps_trained": 3434741, "grad_time_ms": 9365.551, "default": {"total_loss": 29.69404411315918, "entropy": 0.9125804901123047, "vf_explained_var": 0.8482153415679932, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 29.698984146118164, "policy_loss": -0.006663436070084572, "kl": 0.017229897901415825}, "update_time_ms": 6.787, "load_time_ms": 13.827}, "timestamp": 1557114350, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 21, "date": "2019-05-06_03-45-50", "training_iteration": 84}
{"episode_len_mean": 693.33, "time_this_iter_s": 21.146185159683228, "node_ip": "10.138.0.2", "episodes_total": 1391, "time_since_restore": 1823.8679866790771, "episode_reward_mean": 862.7707106010494, "hostname": "flow-main", "timesteps_since_restore": 3472040, "timesteps_this_iter": 37299, "timesteps_total": 3472040, "pid": 24594, "time_total_s": 1823.8679866790771, "custom_metrics": {"system_level_velocity_min": 9.240134748118916, "cost2_max": 0.0, "cost1_mean": 344.9480138455006, "system_level_velocity_mean": 13.350548591333833, "cost1_min": 22.243948453384075, "outflow_rate_min": 500.73415127394753, "system_level_velocity_max": 18.271171904408373, "cost2_min": -0.6196375845119175, "cost1_max": 457.01626409084037, "outflow_rate_mean": 1047.0823208831498, "cost2_mean": -0.03799745514065163, "outflow_rate_max": 1251.0882385704638}, "done": false, "iterations_since_restore": 85, "episode_reward_min": 50.91259211977174, "episode_reward_max": 1072.3429608646638, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d83c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8320>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11265.296, "num_steps_sampled": 3472040, "num_steps_trained": 3472040, "grad_time_ms": 9487.56, "default": {"total_loss": 29.077373504638672, "entropy": 0.9305087327957153, "vf_explained_var": 0.8810399770736694, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 29.083078384399414, "policy_loss": -0.007332733832299709, "kl": 0.01631271466612816}, "update_time_ms": 6.778, "load_time_ms": 12.719}, "timestamp": 1557114371, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-46-11", "training_iteration": 85}
{"episode_len_mean": 693.33, "time_this_iter_s": 20.98391056060791, "node_ip": "10.138.0.2", "episodes_total": 1410, "time_since_restore": 1844.851897239685, "episode_reward_mean": 858.1954819076686, "hostname": "flow-main", "timesteps_since_restore": 3509929, "timesteps_this_iter": 37889, "timesteps_total": 3509929, "pid": 24594, "time_total_s": 1844.851897239685, "custom_metrics": {"system_level_velocity_min": 9.240134748118916, "cost2_max": 0.0, "cost1_mean": 349.3097880681238, "system_level_velocity_mean": 13.525473341501549, "cost1_min": 22.243948453384075, "outflow_rate_min": 500.73415127394753, "system_level_velocity_max": 18.271171904408373, "cost2_min": -0.6196375845119175, "cost1_max": 457.01626409084037, "outflow_rate_mean": 1045.4359973212192, "cost2_mean": -0.03761458001431483, "outflow_rate_max": 1251.0882385704638}, "done": false, "iterations_since_restore": 86, "episode_reward_min": 50.91259211977174, "episode_reward_max": 1072.3429608646638, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcf60>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc588>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11256.383, "num_steps_sampled": 3509929, "num_steps_trained": 3509929, "grad_time_ms": 9641.619, "default": {"total_loss": 22.609371185302734, "entropy": 0.9345678091049194, "vf_explained_var": 0.9004642367362976, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 22.614967346191406, "policy_loss": -0.007198576349765062, "kl": 0.016049597412347794}, "update_time_ms": 6.726, "load_time_ms": 11.894}, "timestamp": 1557114392, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-46-32", "training_iteration": 86}
{"episode_len_mean": 686.71, "time_this_iter_s": 20.840669870376587, "node_ip": "10.138.0.2", "episodes_total": 1432, "time_since_restore": 1865.6925671100616, "episode_reward_mean": 860.4716619605503, "hostname": "flow-main", "timesteps_since_restore": 3546994, "timesteps_this_iter": 37065, "timesteps_total": 3546994, "pid": 24594, "time_total_s": 1865.6925671100616, "custom_metrics": {"system_level_velocity_min": 8.427450158786272, "cost2_max": 0.0, "cost1_mean": 357.3802385333064, "system_level_velocity_mean": 14.009305419181773, "cost1_min": 22.243948453384075, "outflow_rate_min": 500.73415127394753, "system_level_velocity_max": 18.789673053749738, "cost2_min": -0.3864199030771204, "cost1_max": 466.7065926134111, "outflow_rate_mean": 1049.5029340160834, "cost2_mean": -0.03308120503313422, "outflow_rate_max": 1251.0882385704638}, "done": false, "iterations_since_restore": 87, "episode_reward_min": 50.91259211977174, "episode_reward_max": 1084.3870963139216, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc2e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc0f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dccf8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11244.179, "num_steps_sampled": 3546994, "num_steps_trained": 3546994, "grad_time_ms": 9567.391, "default": {"total_loss": 38.03407669067383, "entropy": 0.897505521774292, "vf_explained_var": 0.813926637172699, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 38.03864288330078, "policy_loss": -0.006325587164610624, "kl": 0.017530767247080803}, "update_time_ms": 6.672, "load_time_ms": 11.467}, "timestamp": 1557114413, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 22, "date": "2019-05-06_03-46-53", "training_iteration": 87}
{"episode_len_mean": 686.71, "time_this_iter_s": 20.63836431503296, "node_ip": "10.138.0.2", "episodes_total": 1449, "time_since_restore": 1886.3309314250946, "episode_reward_mean": 855.1644296518018, "hostname": "flow-main", "timesteps_since_restore": 3583684, "timesteps_this_iter": 36690, "timesteps_total": 3583684, "pid": 24594, "time_total_s": 1886.3309314250946, "custom_metrics": {"system_level_velocity_min": 8.427450158786272, "cost2_max": 0.0, "cost1_mean": 362.5249080873936, "system_level_velocity_mean": 14.207332959631167, "cost1_min": 22.243948453384075, "outflow_rate_min": 500.73415127394753, "system_level_velocity_max": 18.789673053749738, "cost2_min": -0.6000000000000001, "cost1_max": 466.7065926134111, "outflow_rate_mean": 1049.202885054998, "cost2_mean": -0.03404756288179649, "outflow_rate_max": 1251.0882385704638}, "done": false, "iterations_since_restore": 88, "episode_reward_min": 50.91259211977174, "episode_reward_max": 1084.3870963139216, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1898>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11275.253, "num_steps_sampled": 3583684, "num_steps_trained": 3583684, "grad_time_ms": 9481.696, "default": {"total_loss": 28.22735595703125, "entropy": 0.9484769105911255, "vf_explained_var": 0.851244330406189, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 28.232118606567383, "policy_loss": -0.006498243194073439, "kl": 0.01738898456096649}, "update_time_ms": 6.668, "load_time_ms": 11.318}, "timestamp": 1557114434, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-47-14", "training_iteration": 88}
{"episode_len_mean": 693.38, "time_this_iter_s": 22.165086269378662, "node_ip": "10.138.0.2", "episodes_total": 1469, "time_since_restore": 1908.4960176944733, "episode_reward_mean": 859.9723427716053, "hostname": "flow-main", "timesteps_since_restore": 3620979, "timesteps_this_iter": 37295, "timesteps_total": 3620979, "pid": 24594, "time_total_s": 1908.4960176944733, "custom_metrics": {"system_level_velocity_min": 8.427450158786272, "cost2_max": 0.0, "cost1_mean": 364.6783606431875, "system_level_velocity_mean": 14.111744586261322, "cost1_min": 25.168895590660977, "outflow_rate_min": 502.7948075545514, "system_level_velocity_max": 18.789673053749738, "cost2_min": -0.6000000000000001, "cost1_max": 466.7065926134111, "outflow_rate_mean": 1051.5224154832702, "cost2_mean": -0.04194846955494858, "outflow_rate_max": 1251.0882385704638}, "done": false, "iterations_since_restore": 89, "episode_reward_min": 63.86148837514073, "episode_reward_max": 1106.6970460884493, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1c18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1470>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11335.837, "num_steps_sampled": 3620979, "num_steps_trained": 3620979, "grad_time_ms": 9513.251, "default": {"total_loss": 27.78099822998047, "entropy": 0.9404802322387695, "vf_explained_var": 0.845795214176178, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 27.78710174560547, "policy_loss": -0.007795586250722408, "kl": 0.016900720074772835}, "update_time_ms": 6.616, "load_time_ms": 11.913}, "timestamp": 1557114456, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_03-47-36", "training_iteration": 89}
{"episode_len_mean": 693.38, "time_this_iter_s": 21.087607860565186, "node_ip": "10.138.0.2", "episodes_total": 1488, "time_since_restore": 1929.5836255550385, "episode_reward_mean": 853.1065774036229, "hostname": "flow-main", "timesteps_since_restore": 3659154, "timesteps_this_iter": 38175, "timesteps_total": 3659154, "pid": 24594, "time_total_s": 1929.5836255550385, "custom_metrics": {"system_level_velocity_min": 8.427450158786272, "cost2_max": 0.0, "cost1_mean": 361.0733036980201, "system_level_velocity_mean": 13.979382812820324, "cost1_min": 25.168895590660977, "outflow_rate_min": 502.7948075545514, "system_level_velocity_max": 18.789673053749738, "cost2_min": -0.6000000000000001, "cost1_max": 466.7065926134111, "outflow_rate_mean": 1043.8461185839772, "cost2_mean": -0.0447691375961643, "outflow_rate_max": 1252.4522414922487}, "done": false, "iterations_since_restore": 90, "episode_reward_min": 63.86148837514073, "episode_reward_max": 1111.33810856713, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcfd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce48>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11397.022, "num_steps_sampled": 3659154, "num_steps_trained": 3659154, "grad_time_ms": 9484.407, "default": {"total_loss": 22.179508209228516, "entropy": 0.9447391033172607, "vf_explained_var": 0.8858509659767151, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 22.185527801513672, "policy_loss": -0.007744258735328913, "kl": 0.017255792394280434}, "update_time_ms": 6.69, "load_time_ms": 12.101}, "timestamp": 1557114477, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-47-57", "training_iteration": 90}
{"episode_len_mean": 686.81, "time_this_iter_s": 21.39865756034851, "node_ip": "10.138.0.2", "episodes_total": 1503, "time_since_restore": 1950.982283115387, "episode_reward_mean": 852.9723029173018, "hostname": "flow-main", "timesteps_since_restore": 3698120, "timesteps_this_iter": 38966, "timesteps_total": 3698120, "pid": 24594, "time_total_s": 1950.982283115387, "custom_metrics": {"system_level_velocity_min": 8.427450158786272, "cost2_max": 0.0, "cost1_mean": 357.14917843231297, "system_level_velocity_mean": 13.996788264074684, "cost1_min": 25.168895590660977, "outflow_rate_min": 502.7948075545514, "system_level_velocity_max": 18.83449141934854, "cost2_min": -0.6000000000000001, "cost1_max": 466.7065926134111, "outflow_rate_mean": 1043.9815327348667, "cost2_mean": -0.05474856469056052, "outflow_rate_max": 1252.4522414922487}, "done": false, "iterations_since_restore": 91, "episode_reward_min": 63.86148837514073, "episode_reward_max": 1112.205157938966, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e19b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1518>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1898>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11491.316, "num_steps_sampled": 3698120, "num_steps_trained": 3698120, "grad_time_ms": 9476.35, "default": {"total_loss": 21.295429229736328, "entropy": 0.9195723533630371, "vf_explained_var": 0.8979329466819763, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 21.299541473388672, "policy_loss": -0.00591669138520956, "kl": 0.01804940029978752}, "update_time_ms": 6.665, "load_time_ms": 11.881}, "timestamp": 1557114499, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_03-48-19", "training_iteration": 91}
{"episode_len_mean": 686.81, "time_this_iter_s": 21.034078121185303, "node_ip": "10.138.0.2", "episodes_total": 1523, "time_since_restore": 1972.0163612365723, "episode_reward_mean": 851.9986307515859, "hostname": "flow-main", "timesteps_since_restore": 3736707, "timesteps_this_iter": 38587, "timesteps_total": 3736707, "pid": 24594, "time_total_s": 1972.0163612365723, "custom_metrics": {"system_level_velocity_min": 9.700227506360648, "cost2_max": 0.0, "cost1_mean": 354.79574811695494, "system_level_velocity_mean": 13.905213002896101, "cost1_min": 25.168895590660977, "outflow_rate_min": 502.7948075545514, "system_level_velocity_max": 18.83449141934854, "cost2_min": -0.6000000000000001, "cost1_max": 449.6236630159151, "outflow_rate_mean": 1045.8679171349193, "cost2_mean": -0.057686978832613874, "outflow_rate_max": 1276.3525143757863}, "done": false, "iterations_since_restore": 92, "episode_reward_min": 63.86148837514073, "episode_reward_max": 1112.205157938966, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e15f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8978>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11580.472, "num_steps_sampled": 3736707, "num_steps_trained": 3736707, "grad_time_ms": 9479.176, "default": {"total_loss": 20.847633361816406, "entropy": 0.908263623714447, "vf_explained_var": 0.9139748811721802, "cur_kl_coeff": 0.10000002384185791, "cur_lr": 0.0005000000237487257, "vf_loss": 20.854768753051758, "policy_loss": -0.00911110732704401, "kl": 0.0197692159563303}, "update_time_ms": 6.644, "load_time_ms": 13.447}, "timestamp": 1557114520, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_03-48-40", "training_iteration": 92}
{"episode_len_mean": 693.43, "time_this_iter_s": 18.989816665649414, "node_ip": "10.138.0.2", "episodes_total": 1542, "time_since_restore": 1991.0061779022217, "episode_reward_mean": 861.0015177572267, "hostname": "flow-main", "timesteps_since_restore": 3774248, "timesteps_this_iter": 37541, "timesteps_total": 3774248, "pid": 24594, "time_total_s": 1991.0061779022217, "custom_metrics": {"system_level_velocity_min": 9.700227506360648, "cost2_max": 0.0, "cost1_mean": 355.37839851363805, "system_level_velocity_mean": 13.753362124601713, "cost1_min": 28.59767401376148, "outflow_rate_min": 518.2063139687815, "system_level_velocity_max": 18.83449141934854, "cost2_min": -0.5228491382962328, "cost1_max": 440.72535712383706, "outflow_rate_mean": 1056.1712590595382, "cost2_mean": -0.05097135742647982, "outflow_rate_max": 1276.3525143757863}, "done": false, "iterations_since_restore": 93, "episode_reward_min": 67.91228504748614, "episode_reward_max": 1112.205157938966, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dca90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcf98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc240>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11477.255, "num_steps_sampled": 3774248, "num_steps_trained": 3774248, "grad_time_ms": 9360.782, "default": {"total_loss": 25.36137580871582, "entropy": 0.9305422902107239, "vf_explained_var": 0.8744913339614868, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 25.365886688232422, "policy_loss": -0.006205413024872541, "kl": 0.016919724643230438}, "update_time_ms": 6.732, "load_time_ms": 14.253}, "timestamp": 1557114539, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-48-59", "training_iteration": 93}
{"episode_len_mean": 680.95, "time_this_iter_s": 20.369693756103516, "node_ip": "10.138.0.2", "episodes_total": 1565, "time_since_restore": 2011.3758716583252, "episode_reward_mean": 840.5579966001818, "hostname": "flow-main", "timesteps_since_restore": 3810197, "timesteps_this_iter": 35949, "timesteps_total": 3810197, "pid": 24594, "time_total_s": 2011.3758716583252, "custom_metrics": {"system_level_velocity_min": 9.051138969231618, "cost2_max": 0.0, "cost1_mean": 350.63920535438746, "system_level_velocity_mean": 13.91471181644233, "cost1_min": 18.853239667592717, "outflow_rate_min": 487.9519811681622, "system_level_velocity_max": 18.83449141934854, "cost2_min": -0.5228491382962328, "cost1_max": 451.23872901670904, "outflow_rate_mean": 1049.6008449691863, "cost2_mean": -0.054655063596684546, "outflow_rate_max": 1276.3525143757863}, "done": false, "iterations_since_restore": 94, "episode_reward_min": 50.41627499154723, "episode_reward_max": 1112.205157938966, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1e10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1c18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11439.478, "num_steps_sampled": 3810197, "num_steps_trained": 3810197, "grad_time_ms": 9328.005, "default": {"total_loss": 34.92376708984375, "entropy": 0.9180452823638916, "vf_explained_var": 0.835712194442749, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 34.929710388183594, "policy_loss": -0.00782102718949318, "kl": 0.018759287893772125}, "update_time_ms": 6.666, "load_time_ms": 13.99}, "timestamp": 1557114559, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 23, "date": "2019-05-06_03-49-19", "training_iteration": 94}
{"episode_len_mean": 674.24, "time_this_iter_s": 19.951362371444702, "node_ip": "10.138.0.2", "episodes_total": 1586, "time_since_restore": 2031.32723402977, "episode_reward_mean": 826.5629040376053, "hostname": "flow-main", "timesteps_since_restore": 3846758, "timesteps_this_iter": 36561, "timesteps_total": 3846758, "pid": 24594, "time_total_s": 2031.32723402977, "custom_metrics": {"system_level_velocity_min": 9.051138969231618, "cost2_max": 0.0, "cost1_mean": 352.7462275031393, "system_level_velocity_mean": 14.17910558171847, "cost1_min": 18.853239667592717, "outflow_rate_min": 487.91336876403693, "system_level_velocity_max": 18.83449141934854, "cost2_min": -0.5228491382962328, "cost1_max": 451.23872901670904, "outflow_rate_mean": 1037.558243760634, "cost2_mean": -0.05511196220981395, "outflow_rate_max": 1276.3525143757863}, "done": false, "iterations_since_restore": 95, "episode_reward_min": 42.143163521317526, "episode_reward_max": 1112.205157938966, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1fd0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1390>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11334.62, "num_steps_sampled": 3846758, "num_steps_trained": 3846758, "grad_time_ms": 9314.759, "default": {"total_loss": 36.834861755371094, "entropy": 0.9321224689483643, "vf_explained_var": 0.7612908482551575, "cur_kl_coeff": 0.10000001639127731, "cur_lr": 0.0005000000237487257, "vf_loss": 36.839412689208984, "policy_loss": -0.006279621738940477, "kl": 0.017314380034804344}, "update_time_ms": 6.723, "load_time_ms": 13.179}, "timestamp": 1557114579, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 21, "date": "2019-05-06_03-49-39", "training_iteration": 95}
{"episode_len_mean": 680.81, "time_this_iter_s": 21.68713688850403, "node_ip": "10.138.0.2", "episodes_total": 1608, "time_since_restore": 2053.014370918274, "episode_reward_mean": 830.2203060939424, "hostname": "flow-main", "timesteps_since_restore": 3883393, "timesteps_this_iter": 36635, "timesteps_total": 3883393, "pid": 24594, "time_total_s": 2053.014370918274, "custom_metrics": {"system_level_velocity_min": 9.051138969231618, "cost2_max": 0.0, "cost1_mean": 362.58884364216414, "system_level_velocity_mean": 14.38190313181383, "cost1_min": 18.853239667592717, "outflow_rate_min": 487.91336876403693, "system_level_velocity_max": 18.347032026925085, "cost2_min": -0.49074018557500604, "cost1_max": 455.56977493971124, "outflow_rate_mean": 1038.115149045119, "cost2_mean": -0.046507878726186176, "outflow_rate_max": 1278.6073693246083}, "done": false, "iterations_since_restore": 96, "episode_reward_min": 42.143163521317526, "episode_reward_max": 1013.5814694741777, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc2e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc630>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcb00>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11390.631, "num_steps_sampled": 3883393, "num_steps_trained": 3883393, "grad_time_ms": 9328.71, "default": {"total_loss": 32.59104537963867, "entropy": 0.9118560552597046, "vf_explained_var": 0.8396061658859253, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 32.596065521240234, "policy_loss": -0.0067750392481684685, "kl": 0.017576459795236588}, "update_time_ms": 6.732, "load_time_ms": 13.165}, "timestamp": 1557114601, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 22, "date": "2019-05-06_03-50-01", "training_iteration": 96}
{"episode_len_mean": 680.81, "time_this_iter_s": 20.070733070373535, "node_ip": "10.138.0.2", "episodes_total": 1628, "time_since_restore": 2073.0851039886475, "episode_reward_mean": 822.4253293691545, "hostname": "flow-main", "timesteps_since_restore": 3919440, "timesteps_this_iter": 36047, "timesteps_total": 3919440, "pid": 24594, "time_total_s": 2073.0851039886475, "custom_metrics": {"system_level_velocity_min": 9.051138969231618, "cost2_max": 0.0, "cost1_mean": 366.68453661151597, "system_level_velocity_mean": 14.537126339419574, "cost1_min": 18.853239667592717, "outflow_rate_min": 487.91336876403693, "system_level_velocity_max": 18.347032026925085, "cost2_min": -0.49074018557500604, "cost1_max": 455.56977493971124, "outflow_rate_mean": 1032.279252750145, "cost2_mean": -0.0445703641880329, "outflow_rate_max": 1278.6073693246083}, "done": false, "iterations_since_restore": 97, "episode_reward_min": 42.143163521317526, "episode_reward_max": 1024.1892761916502, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1e10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1be0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11325.287, "num_steps_sampled": 3919440, "num_steps_trained": 3919440, "grad_time_ms": 9316.541, "default": {"total_loss": 33.76911926269531, "entropy": 0.9006894826889038, "vf_explained_var": 0.7985959053039551, "cur_kl_coeff": 0.10000000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 33.77423858642578, "policy_loss": -0.0072568864561617374, "kl": 0.021389469504356384}, "update_time_ms": 6.885, "load_time_ms": 13.132}, "timestamp": 1557114621, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_03-50-21", "training_iteration": 97}
{"episode_len_mean": 680.81, "time_this_iter_s": 21.36586570739746, "node_ip": "10.138.0.2", "episodes_total": 1647, "time_since_restore": 2094.450969696045, "episode_reward_mean": 817.5778052473871, "hostname": "flow-main", "timesteps_since_restore": 3956782, "timesteps_this_iter": 37342, "timesteps_total": 3956782, "pid": 24594, "time_total_s": 2094.450969696045, "custom_metrics": {"system_level_velocity_min": 11.208340082941222, "cost2_max": 0.0, "cost1_mean": 366.7943134927711, "system_level_velocity_mean": 14.548687894052915, "cost1_min": 18.853239667592717, "outflow_rate_min": 487.91336876403693, "system_level_velocity_max": 18.347032026925085, "cost2_min": -0.4680168626049658, "cost1_max": 455.56977493971124, "outflow_rate_mean": 1030.997569177327, "cost2_mean": -0.04274304871801029, "outflow_rate_max": 1278.6073693246083}, "done": false, "iterations_since_restore": 98, "episode_reward_min": 42.143163521317526, "episode_reward_max": 1024.1892761916502, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1a90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1f28>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11361.132, "num_steps_sampled": 3956782, "num_steps_trained": 3956782, "grad_time_ms": 9353.544, "default": {"total_loss": 23.90884017944336, "entropy": 0.8988322615623474, "vf_explained_var": 0.8775952458381653, "cur_kl_coeff": 0.1499999761581421, "cur_lr": 0.0005000000237487257, "vf_loss": 23.91450309753418, "policy_loss": -0.008118396624922752, "kl": 0.01636449433863163}, "update_time_ms": 6.787, "load_time_ms": 13.574}, "timestamp": 1557114642, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-50-42", "training_iteration": 98}
{"episode_len_mean": 686.46, "time_this_iter_s": 21.029048681259155, "node_ip": "10.138.0.2", "episodes_total": 1665, "time_since_restore": 2115.480018377304, "episode_reward_mean": 830.4671083326608, "hostname": "flow-main", "timesteps_since_restore": 3994089, "timesteps_this_iter": 37307, "timesteps_total": 3994089, "pid": 24594, "time_total_s": 2115.480018377304, "custom_metrics": {"system_level_velocity_min": 11.208340082941222, "cost2_max": 0.0, "cost1_mean": 367.45597215102595, "system_level_velocity_mean": 14.401802124906784, "cost1_min": 10.996888462305723, "outflow_rate_min": 432.01735095400977, "system_level_velocity_max": 18.250510648144108, "cost2_min": -0.6003345686751667, "cost1_max": 455.56977493971124, "outflow_rate_mean": 1044.383782826387, "cost2_mean": -0.05119873915776196, "outflow_rate_max": 1280.8969199662777}, "done": false, "iterations_since_restore": 99, "episode_reward_min": 23.37117743145062, "episode_reward_max": 1075.6555033307375, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcc88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcba8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc630>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11331.092, "num_steps_sampled": 3994089, "num_steps_trained": 3994089, "grad_time_ms": 9271.94, "default": {"total_loss": 24.13466453552246, "entropy": 0.9008784890174866, "vf_explained_var": 0.8768359422683716, "cur_kl_coeff": 0.1499999761581421, "cur_lr": 0.0005000000237487257, "vf_loss": 24.138357162475586, "policy_loss": -0.0062314714305102825, "kl": 0.016918087378144264}, "update_time_ms": 6.832, "load_time_ms": 12.342}, "timestamp": 1557114663, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-51-03", "training_iteration": 99}
{"episode_len_mean": 693.17, "time_this_iter_s": 20.614622831344604, "node_ip": "10.138.0.2", "episodes_total": 1685, "time_since_restore": 2136.0946412086487, "episode_reward_mean": 841.8044242513481, "hostname": "flow-main", "timesteps_since_restore": 4030852, "timesteps_this_iter": 36763, "timesteps_total": 4030852, "pid": 24594, "time_total_s": 2136.0946412086487, "custom_metrics": {"system_level_velocity_min": 11.06669378235036, "cost2_max": 0.0, "cost1_mean": 368.1765783144449, "system_level_velocity_mean": 14.256251150646222, "cost1_min": 10.996888462305723, "outflow_rate_min": 432.01735095400977, "system_level_velocity_max": 17.732254611021258, "cost2_min": -0.6003345686751667, "cost1_max": 455.56977493971124, "outflow_rate_mean": 1061.0255205581552, "cost2_mean": -0.04372931797440093, "outflow_rate_max": 1280.8969199662777}, "done": false, "iterations_since_restore": 100, "episode_reward_min": 23.37117743145062, "episode_reward_max": 1075.6555033307375, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e11d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1438>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11312.615, "num_steps_sampled": 4030852, "num_steps_trained": 4030852, "grad_time_ms": 9244.212, "default": {"total_loss": 29.38387680053711, "entropy": 0.8981532454490662, "vf_explained_var": 0.8336062431335449, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 29.388032913208008, "policy_loss": -0.0065369987860322, "kl": 0.01589593105018139}, "update_time_ms": 6.745, "load_time_ms": 11.863}, "timestamp": 1557114684, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_03-51-24", "training_iteration": 100}
{"episode_len_mean": 693.17, "time_this_iter_s": 21.97747778892517, "node_ip": "10.138.0.2", "episodes_total": 1701, "time_since_restore": 2158.072118997574, "episode_reward_mean": 842.5591058858106, "hostname": "flow-main", "timesteps_since_restore": 4070104, "timesteps_this_iter": 39252, "timesteps_total": 4070104, "pid": 24594, "time_total_s": 2158.072118997574, "custom_metrics": {"system_level_velocity_min": 10.214302749097701, "cost2_max": 0.0, "cost1_mean": 364.5496430296453, "system_level_velocity_mean": 14.119406423170142, "cost1_min": 10.996888462305723, "outflow_rate_min": 432.01735095400977, "system_level_velocity_max": 17.159401364440264, "cost2_min": -0.6426646717507996, "cost1_max": 451.9468745148338, "outflow_rate_mean": 1068.012957432112, "cost2_mean": -0.050483410763604276, "outflow_rate_max": 1301.5606944494155}, "done": false, "iterations_since_restore": 101, "episode_reward_min": 23.37117743145062, "episode_reward_max": 1075.6555033307375, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4978>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11355.037, "num_steps_sampled": 4070104, "num_steps_trained": 4070104, "grad_time_ms": 9260.413, "default": {"total_loss": 16.36048698425293, "entropy": 0.9417195916175842, "vf_explained_var": 0.8974525332450867, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 16.365081787109375, "policy_loss": -0.006816900800913572, "kl": 0.014828036539256573}, "update_time_ms": 6.696, "load_time_ms": 11.253}, "timestamp": 1557114706, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-51-46", "training_iteration": 101}
{"episode_len_mean": 693.17, "time_this_iter_s": 21.760650873184204, "node_ip": "10.138.0.2", "episodes_total": 1718, "time_since_restore": 2179.832769870758, "episode_reward_mean": 840.6051043885292, "hostname": "flow-main", "timesteps_since_restore": 4108677, "timesteps_this_iter": 38573, "timesteps_total": 4108677, "pid": 24594, "time_total_s": 2179.832769870758, "custom_metrics": {"system_level_velocity_min": 10.214302749097701, "cost2_max": 0.0, "cost1_mean": 359.15897722209326, "system_level_velocity_mean": 13.923138187031146, "cost1_min": 10.996888462305723, "outflow_rate_min": 432.01735095400977, "system_level_velocity_max": 17.075657960820006, "cost2_min": -0.6426646717507996, "cost1_max": 446.9955600829014, "outflow_rate_mean": 1072.9493832016283, "cost2_mean": -0.04374795708055, "outflow_rate_max": 1301.5606944494155}, "done": false, "iterations_since_restore": 102, "episode_reward_min": 23.37117743145062, "episode_reward_max": 1075.6555033307375, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8b70>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11448.944, "num_steps_sampled": 4108677, "num_steps_trained": 4108677, "grad_time_ms": 9241.024, "default": {"total_loss": 17.762285232543945, "entropy": 0.9110292196273804, "vf_explained_var": 0.9082268476486206, "cur_kl_coeff": 0.1499999761581421, "cur_lr": 0.0005000000237487257, "vf_loss": 17.76658821105957, "policy_loss": -0.006883990950882435, "kl": 0.017202837392687798}, "update_time_ms": 6.786, "load_time_ms": 10.377}, "timestamp": 1557114728, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-52-08", "training_iteration": 102}
{"episode_len_mean": 686.45, "time_this_iter_s": 21.333030700683594, "node_ip": "10.138.0.2", "episodes_total": 1736, "time_since_restore": 2201.1658005714417, "episode_reward_mean": 834.5844168521814, "hostname": "flow-main", "timesteps_since_restore": 4147733, "timesteps_this_iter": 39056, "timesteps_total": 4147733, "pid": 24594, "time_total_s": 2201.1658005714417, "custom_metrics": {"system_level_velocity_min": 8.822603043257805, "cost2_max": 0.0, "cost1_mean": 348.40832948814017, "system_level_velocity_mean": 13.700274497484326, "cost1_min": 10.996888462305723, "outflow_rate_min": 432.01735095400977, "system_level_velocity_max": 18.284451317366106, "cost2_min": -0.825, "cost1_max": 446.9955600829014, "outflow_rate_mean": 1064.0919768418034, "cost2_mean": -0.06652561189518044, "outflow_rate_max": 1301.5606944494155}, "done": false, "iterations_since_restore": 103, "episode_reward_min": 23.37117743145062, "episode_reward_max": 1075.6555033307375, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e14a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1470>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11534.613, "num_steps_sampled": 4147733, "num_steps_trained": 4147733, "grad_time_ms": 9389.692, "default": {"total_loss": 20.378000259399414, "entropy": 0.921592116355896, "vf_explained_var": 0.8833143711090088, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 20.382064819335938, "policy_loss": -0.006584532558917999, "kl": 0.01679861731827259}, "update_time_ms": 6.736, "load_time_ms": 10.167}, "timestamp": 1557114749, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-52-29", "training_iteration": 103}
{"episode_len_mean": 686.45, "time_this_iter_s": 20.89598536491394, "node_ip": "10.138.0.2", "episodes_total": 1754, "time_since_restore": 2222.0617859363556, "episode_reward_mean": 837.1498128639148, "hostname": "flow-main", "timesteps_since_restore": 4186784, "timesteps_this_iter": 39051, "timesteps_total": 4186784, "pid": 24594, "time_total_s": 2222.0617859363556, "custom_metrics": {"system_level_velocity_min": 8.822603043257805, "cost2_max": 0.0, "cost1_mean": 345.3648370035556, "system_level_velocity_mean": 13.597892633227818, "cost1_min": 10.996888462305723, "outflow_rate_min": 432.01735095400977, "system_level_velocity_max": 18.284451317366106, "cost2_min": -0.825, "cost1_max": 460.92179238521874, "outflow_rate_mean": 1066.2111885472093, "cost2_mean": -0.069091593480942, "outflow_rate_max": 1327.8989373469246}, "done": false, "iterations_since_restore": 104, "episode_reward_min": 23.37117743145062, "episode_reward_max": 1059.3425211663243, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc0b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11628.802, "num_steps_sampled": 4186784, "num_steps_trained": 4186784, "grad_time_ms": 9348.394, "default": {"total_loss": 16.370227813720703, "entropy": 0.8932089805603027, "vf_explained_var": 0.923821747303009, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 16.37522315979004, "policy_loss": -0.0071048252284526825, "kl": 0.014066965319216251}, "update_time_ms": 6.829, "load_time_ms": 10.48}, "timestamp": 1557114770, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-52-50", "training_iteration": 104}
{"episode_len_mean": 693.28, "time_this_iter_s": 21.638259172439575, "node_ip": "10.138.0.2", "episodes_total": 1771, "time_since_restore": 2243.700045108795, "episode_reward_mean": 846.0600513672798, "hostname": "flow-main", "timesteps_since_restore": 4226532, "timesteps_this_iter": 39748, "timesteps_total": 4226532, "pid": 24594, "time_total_s": 2243.700045108795, "custom_metrics": {"system_level_velocity_min": 8.822603043257805, "cost2_max": 0.0, "cost1_mean": 344.8084206915848, "system_level_velocity_mean": 13.43863095826862, "cost1_min": 18.7990285193967, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 18.284451317366106, "cost2_min": -0.825, "cost1_max": 460.92179238521874, "outflow_rate_mean": 1073.3289465326557, "cost2_mean": -0.06933368278494416, "outflow_rate_max": 1327.8989373469246}, "done": false, "iterations_since_restore": 105, "episode_reward_min": 49.51058225829254, "episode_reward_max": 1059.3425211663243, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768324a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832a58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832470>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11722.58, "num_steps_sampled": 4226532, "num_steps_trained": 4226532, "grad_time_ms": 9422.845, "default": {"total_loss": 14.303997993469238, "entropy": 0.9090822339057922, "vf_explained_var": 0.9222882390022278, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 14.306947708129883, "policy_loss": -0.005108473356813192, "kl": 0.014383235946297646}, "update_time_ms": 6.828, "load_time_ms": 9.804}, "timestamp": 1557114792, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-53-12", "training_iteration": 105}
{"episode_len_mean": 686.62, "time_this_iter_s": 18.79507613182068, "node_ip": "10.138.0.2", "episodes_total": 1788, "time_since_restore": 2262.495121240616, "episode_reward_mean": 842.2202996267853, "hostname": "flow-main", "timesteps_since_restore": 4265835, "timesteps_this_iter": 39303, "timesteps_total": 4265835, "pid": 24594, "time_total_s": 2262.495121240616, "custom_metrics": {"system_level_velocity_min": 8.822603043257805, "cost2_max": 0.0, "cost1_mean": 336.6886822423392, "system_level_velocity_mean": 13.328554430302054, "cost1_min": 18.7990285193967, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 18.817555111049945, "cost2_min": -0.825, "cost1_max": 460.92179238521874, "outflow_rate_mean": 1069.7351816608223, "cost2_mean": -0.07229064085303279, "outflow_rate_max": 1327.8989373469246}, "done": false, "iterations_since_restore": 106, "episode_reward_min": 46.02286897657741, "episode_reward_max": 1059.3425211663243, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1978>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11636.693, "num_steps_sampled": 4265835, "num_steps_trained": 4265835, "grad_time_ms": 9219.499, "default": {"total_loss": 15.48330307006836, "entropy": 0.9209919571876526, "vf_explained_var": 0.9188750386238098, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 15.488637924194336, "policy_loss": -0.007720822934061289, "kl": 0.01591307483613491}, "update_time_ms": 6.82, "load_time_ms": 9.846}, "timestamp": 1557114810, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-53-30", "training_iteration": 106}
{"episode_len_mean": 686.62, "time_this_iter_s": 20.27294945716858, "node_ip": "10.138.0.2", "episodes_total": 1807, "time_since_restore": 2282.7680706977844, "episode_reward_mean": 838.1219350863447, "hostname": "flow-main", "timesteps_since_restore": 4305075, "timesteps_this_iter": 39240, "timesteps_total": 4305075, "pid": 24594, "time_total_s": 2282.7680706977844, "custom_metrics": {"system_level_velocity_min": 8.822603043257805, "cost2_max": 0.0, "cost1_mean": 334.06383863884736, "system_level_velocity_mean": 13.242356043728448, "cost1_min": 18.7990285193967, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 18.817555111049945, "cost2_min": -0.825, "cost1_max": 471.4486498767949, "outflow_rate_mean": 1070.3313513708538, "cost2_mean": -0.06500665088394912, "outflow_rate_max": 1359.172451650085}, "done": false, "iterations_since_restore": 107, "episode_reward_min": 46.02286897657741, "episode_reward_max": 1072.1465163401006, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc630>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcc18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11572.092, "num_steps_sampled": 4305075, "num_steps_trained": 4305075, "grad_time_ms": 9304.135, "default": {"total_loss": 15.745597839355469, "entropy": 0.9347953200340271, "vf_explained_var": 0.9036386609077454, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 15.751485824584961, "policy_loss": -0.008581855334341526, "kl": 0.017946863546967506}, "update_time_ms": 6.798, "load_time_ms": 10.503}, "timestamp": 1557114831, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-53-51", "training_iteration": 107}
{"episode_len_mean": 693.34, "time_this_iter_s": 20.537933588027954, "node_ip": "10.138.0.2", "episodes_total": 1822, "time_since_restore": 2303.3060042858124, "episode_reward_mean": 845.6481032125433, "hostname": "flow-main", "timesteps_since_restore": 4343619, "timesteps_this_iter": 38544, "timesteps_total": 4343619, "pid": 24594, "time_total_s": 2303.3060042858124, "custom_metrics": {"system_level_velocity_min": 9.668739533708964, "cost2_max": 0.0, "cost1_mean": 335.094921057644, "system_level_velocity_mean": 13.125424024518802, "cost1_min": 22.07139835099671, "outflow_rate_min": 509.4285077243159, "system_level_velocity_max": 18.817555111049945, "cost2_min": -0.5684004542632487, "cost1_max": 471.4486498767949, "outflow_rate_mean": 1074.9207262849066, "cost2_mean": -0.05888117173855352, "outflow_rate_max": 1359.172451650085}, "done": false, "iterations_since_restore": 108, "episode_reward_min": 46.02286897657741, "episode_reward_max": 1072.1465163401006, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768329b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11478.106, "num_steps_sampled": 4343619, "num_steps_trained": 4343619, "grad_time_ms": 9314.478, "default": {"total_loss": 14.494565963745117, "entropy": 0.916990339756012, "vf_explained_var": 0.9205513000488281, "cur_kl_coeff": 0.1499999761581421, "cur_lr": 0.0005000000237487257, "vf_loss": 14.499093055725098, "policy_loss": -0.006943870801478624, "kl": 0.01612234115600586}, "update_time_ms": 6.908, "load_time_ms": 10.485}, "timestamp": 1557114851, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_03-54-11", "training_iteration": 108}
{"episode_len_mean": 686.62, "time_this_iter_s": 20.146427631378174, "node_ip": "10.138.0.2", "episodes_total": 1841, "time_since_restore": 2323.4524319171906, "episode_reward_mean": 836.5077065785058, "hostname": "flow-main", "timesteps_since_restore": 4381674, "timesteps_this_iter": 38055, "timesteps_total": 4381674, "pid": 24594, "time_total_s": 2323.4524319171906, "custom_metrics": {"system_level_velocity_min": 9.670951370145326, "cost2_max": 0.0, "cost1_mean": 329.94044697911806, "system_level_velocity_mean": 13.116301186739863, "cost1_min": 18.77355853771355, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 19.29071902333684, "cost2_min": -0.40073703103211267, "cost1_max": 503.22114676982824, "outflow_rate_mean": 1065.4655556269902, "cost2_mean": -0.05287044332377737, "outflow_rate_max": 1359.172451650085}, "done": false, "iterations_since_restore": 109, "episode_reward_min": 40.5435240610167, "episode_reward_max": 1072.1465163401006, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e19e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc1d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc198>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11405.806, "num_steps_sampled": 4381674, "num_steps_trained": 4381674, "grad_time_ms": 9297.414, "default": {"total_loss": 19.814620971679688, "entropy": 0.9020898342132568, "vf_explained_var": 0.9126724600791931, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 19.820270538330078, "policy_loss": -0.008536582812666893, "kl": 0.019252536818385124}, "update_time_ms": 7.164, "load_time_ms": 10.835}, "timestamp": 1557114871, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-54-31", "training_iteration": 109}
{"episode_len_mean": 686.62, "time_this_iter_s": 20.553850650787354, "node_ip": "10.138.0.2", "episodes_total": 1859, "time_since_restore": 2344.006282567978, "episode_reward_mean": 831.7467205223895, "hostname": "flow-main", "timesteps_since_restore": 4420044, "timesteps_this_iter": 38370, "timesteps_total": 4420044, "pid": 24594, "time_total_s": 2344.006282567978, "custom_metrics": {"system_level_velocity_min": 9.670951370145326, "cost2_max": 0.0, "cost1_mean": 329.4890594308766, "system_level_velocity_mean": 13.094068148298616, "cost1_min": 18.77355853771355, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 19.29071902333684, "cost2_min": -0.40073703103211267, "cost1_max": 503.22114676982824, "outflow_rate_mean": 1064.071360767073, "cost2_mean": -0.045051834954809425, "outflow_rate_max": 1359.172451650085}, "done": false, "iterations_since_restore": 110, "episode_reward_min": 40.5435240610167, "episode_reward_max": 1072.1465163401006, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc4a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcf98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11379.175, "num_steps_sampled": 4420044, "num_steps_trained": 4420044, "grad_time_ms": 9315.894, "default": {"total_loss": 21.27959442138672, "entropy": 0.9171156883239746, "vf_explained_var": 0.8922415375709534, "cur_kl_coeff": 0.1499999761581421, "cur_lr": 0.0005000000237487257, "vf_loss": 21.28569984436035, "policy_loss": -0.008748696185648441, "kl": 0.01761079952120781}, "update_time_ms": 7.482, "load_time_ms": 11.857}, "timestamp": 1557114892, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-54-52", "training_iteration": 110}
{"episode_len_mean": 693.28, "time_this_iter_s": 21.264973163604736, "node_ip": "10.138.0.2", "episodes_total": 1878, "time_since_restore": 2365.2712557315826, "episode_reward_mean": 844.0801569798372, "hostname": "flow-main", "timesteps_since_restore": 4458640, "timesteps_this_iter": 38596, "timesteps_total": 4458640, "pid": 24594, "time_total_s": 2365.2712557315826, "custom_metrics": {"system_level_velocity_min": 10.355687873595008, "cost2_max": 0.0, "cost1_mean": 335.76902939474735, "system_level_velocity_mean": 13.149865309362188, "cost1_min": 18.77355853771355, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 19.29071902333684, "cost2_min": -0.6917192200923855, "cost1_max": 503.22114676982824, "outflow_rate_mean": 1072.349397212411, "cost2_mean": -0.06492454852903823, "outflow_rate_max": 1359.172451650085}, "done": false, "iterations_since_restore": 111, "episode_reward_min": 40.5435240610167, "episode_reward_max": 1072.1465163401006, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d84a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8438>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11355.879, "num_steps_sampled": 4458640, "num_steps_trained": 4458640, "grad_time_ms": 9266.385, "default": {"total_loss": 21.91884422302246, "entropy": 0.9151487350463867, "vf_explained_var": 0.8724306225776672, "cur_kl_coeff": 0.1499999761581421, "cur_lr": 0.0005000000237487257, "vf_loss": 21.92380142211914, "policy_loss": -0.007662771735340357, "kl": 0.018035946413874626}, "update_time_ms": 7.598, "load_time_ms": 12.247}, "timestamp": 1557114913, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-55-13", "training_iteration": 111}
{"episode_len_mean": 693.28, "time_this_iter_s": 21.48894715309143, "node_ip": "10.138.0.2", "episodes_total": 1895, "time_since_restore": 2386.760202884674, "episode_reward_mean": 838.6707636410694, "hostname": "flow-main", "timesteps_since_restore": 4497388, "timesteps_this_iter": 38748, "timesteps_total": 4497388, "pid": 24594, "time_total_s": 2386.760202884674, "custom_metrics": {"system_level_velocity_min": 10.355687873595008, "cost2_max": 0.0, "cost1_mean": 334.46821730081734, "system_level_velocity_mean": 13.098967581332142, "cost1_min": 18.77355853771355, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 19.29071902333684, "cost2_min": -0.6917192200923855, "cost1_max": 503.22114676982824, "outflow_rate_mean": 1066.8333577079432, "cost2_mean": -0.06656628192035377, "outflow_rate_max": 1359.172451650085}, "done": false, "iterations_since_restore": 112, "episode_reward_min": 40.5435240610167, "episode_reward_max": 1072.1465163401006, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e15c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11265.222, "num_steps_sampled": 4497388, "num_steps_trained": 4497388, "grad_time_ms": 9330.031, "default": {"total_loss": 17.908496856689453, "entropy": 0.9362649321556091, "vf_explained_var": 0.8665429949760437, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 17.9137020111084, "policy_loss": -0.007613098248839378, "kl": 0.016053734347224236}, "update_time_ms": 7.72, "load_time_ms": 12.006}, "timestamp": 1557114935, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-55-35", "training_iteration": 112}
{"episode_len_mean": 693.28, "time_this_iter_s": 21.307751893997192, "node_ip": "10.138.0.2", "episodes_total": 1911, "time_since_restore": 2408.0679547786713, "episode_reward_mean": 844.4198581494871, "hostname": "flow-main", "timesteps_since_restore": 4536384, "timesteps_this_iter": 38996, "timesteps_total": 4536384, "pid": 24594, "time_total_s": 2408.0679547786713, "custom_metrics": {"system_level_velocity_min": 10.318369018566782, "cost2_max": 0.0, "cost1_mean": 334.05654699478174, "system_level_velocity_mean": 13.07505370596599, "cost1_min": 18.77355853771355, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 19.29071902333684, "cost2_min": -0.6917192200923855, "cost1_max": 503.22114676982824, "outflow_rate_mean": 1062.5436565492678, "cost2_mean": -0.06672151847055087, "outflow_rate_max": 1335.5319579682532}, "done": false, "iterations_since_restore": 113, "episode_reward_min": 40.5435240610167, "episode_reward_max": 1184.8010214381975, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841128>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841320>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11204.252, "num_steps_sampled": 4536384, "num_steps_trained": 4536384, "grad_time_ms": 9388.625, "default": {"total_loss": 19.696897506713867, "entropy": 0.9050663113594055, "vf_explained_var": 0.8976263999938965, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 19.70086097717285, "policy_loss": -0.006464944686740637, "kl": 0.016681330278515816}, "update_time_ms": 7.635, "load_time_ms": 11.503}, "timestamp": 1557114956, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_03-55-56", "training_iteration": 113}
{"episode_len_mean": 693.28, "time_this_iter_s": 21.974671363830566, "node_ip": "10.138.0.2", "episodes_total": 1932, "time_since_restore": 2430.042626142502, "episode_reward_mean": 837.4701393746998, "hostname": "flow-main", "timesteps_since_restore": 4574358, "timesteps_this_iter": 37974, "timesteps_total": 4574358, "pid": 24594, "time_total_s": 2430.042626142502, "custom_metrics": {"system_level_velocity_min": 9.933409404553982, "cost2_max": 0.0, "cost1_mean": 333.58339855813676, "system_level_velocity_mean": 13.05493280216168, "cost1_min": 18.77355853771355, "outflow_rate_min": 489.92596116141834, "system_level_velocity_max": 18.500219728793223, "cost2_min": -0.6917192200923855, "cost1_max": 484.48349107301124, "outflow_rate_mean": 1058.4168950898982, "cost2_mean": -0.06839687529752822, "outflow_rate_max": 1371.274510339594}, "done": false, "iterations_since_restore": 114, "episode_reward_min": 40.5435240610167, "episode_reward_max": 1184.8010214381975, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1470>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11235.62, "num_steps_sampled": 4574358, "num_steps_trained": 4574358, "grad_time_ms": 9464.912, "default": {"total_loss": 24.246166229248047, "entropy": 0.9099872708320618, "vf_explained_var": 0.875379204750061, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 24.249744415283203, "policy_loss": -0.006458074785768986, "kl": 0.0192034300416708}, "update_time_ms": 7.725, "load_time_ms": 11.802}, "timestamp": 1557114978, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 21, "date": "2019-05-06_03-56-18", "training_iteration": 114}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.45090961456299, "node_ip": "10.138.0.2", "episodes_total": 1949, "time_since_restore": 2452.493535757065, "episode_reward_mean": 843.7149991885298, "hostname": "flow-main", "timesteps_since_restore": 4612109, "timesteps_this_iter": 37751, "timesteps_total": 4612109, "pid": 24594, "time_total_s": 2452.493535757065, "custom_metrics": {"system_level_velocity_min": 9.933409404553982, "cost2_max": 0.0, "cost1_mean": 336.9032856126279, "system_level_velocity_mean": 13.000583394374686, "cost1_min": 255.6878306803709, "outflow_rate_min": 873.0971483216385, "system_level_velocity_max": 18.26870540230118, "cost2_min": -0.6917192200923855, "cost1_max": 478.69202887381755, "outflow_rate_mean": 1061.6258457491547, "cost2_mean": -0.06149647361938815, "outflow_rate_max": 1371.274510339594}, "done": false, "iterations_since_restore": 115, "episode_reward_min": 685.1314720728292, "episode_reward_max": 1184.8010214381975, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4128>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4f60>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11170.16, "num_steps_sampled": 4612109, "num_steps_trained": 4612109, "grad_time_ms": 9611.649, "default": {"total_loss": 22.227622985839844, "entropy": 0.9320120215415955, "vf_explained_var": 0.8537747859954834, "cur_kl_coeff": 0.1499999761581421, "cur_lr": 0.0005000000237487257, "vf_loss": 22.23230743408203, "policy_loss": -0.007473309990018606, "kl": 0.018590817227959633}, "update_time_ms": 7.719, "load_time_ms": 11.807}, "timestamp": 1557115001, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-56-41", "training_iteration": 115}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.965144872665405, "node_ip": "10.138.0.2", "episodes_total": 1966, "time_since_restore": 2473.45868062973, "episode_reward_mean": 846.1357139019151, "hostname": "flow-main", "timesteps_since_restore": 4649867, "timesteps_this_iter": 37758, "timesteps_total": 4649867, "pid": 24594, "time_total_s": 2473.45868062973, "custom_metrics": {"system_level_velocity_min": 9.933409404553982, "cost2_max": 0.0, "cost1_mean": 337.57156993510483, "system_level_velocity_mean": 13.016359423222815, "cost1_min": 255.6878306803709, "outflow_rate_min": 873.0971483216385, "system_level_velocity_max": 18.26870540230118, "cost2_min": -0.6917192200923855, "cost1_max": 478.69202887381755, "outflow_rate_mean": 1060.196219476587, "cost2_mean": -0.06813238144666585, "outflow_rate_max": 1371.274510339594}, "done": false, "iterations_since_restore": 116, "episode_reward_min": 685.1314720728292, "episode_reward_max": 1184.8010214381975, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8550>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11227.559, "num_steps_sampled": 4649867, "num_steps_trained": 4649867, "grad_time_ms": 9771.44, "default": {"total_loss": 22.69217300415039, "entropy": 0.9020339846611023, "vf_explained_var": 0.8670179843902588, "cur_kl_coeff": 0.1499999761581421, "cur_lr": 0.0005000000237487257, "vf_loss": 22.696773529052734, "policy_loss": -0.007018357049673796, "kl": 0.016113920137286186}, "update_time_ms": 7.71, "load_time_ms": 11.814}, "timestamp": 1557115022, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-57-02", "training_iteration": 116}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.987754344940186, "node_ip": "10.138.0.2", "episodes_total": 1984, "time_since_restore": 2494.4464349746704, "episode_reward_mean": 846.5664211745685, "hostname": "flow-main", "timesteps_since_restore": 4687548, "timesteps_this_iter": 37681, "timesteps_total": 4687548, "pid": 24594, "time_total_s": 2494.4464349746704, "custom_metrics": {"system_level_velocity_min": 9.933409404553982, "cost2_max": 0.0, "cost1_mean": 338.79578045397875, "system_level_velocity_mean": 13.052495045336352, "cost1_min": 255.6878306803709, "outflow_rate_min": 873.0971483216385, "system_level_velocity_max": 18.271145400751514, "cost2_min": -0.4500210309089503, "cost1_max": 478.69202887381755, "outflow_rate_mean": 1058.3886011643997, "cost2_mean": -0.06153502583394244, "outflow_rate_max": 1371.274510339594}, "done": false, "iterations_since_restore": 117, "episode_reward_min": 685.1314720728292, "episode_reward_max": 1184.8010214381975, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841828>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11317.728, "num_steps_sampled": 4687548, "num_steps_trained": 4687548, "grad_time_ms": 9753.464, "default": {"total_loss": 22.691612243652344, "entropy": 0.9075742959976196, "vf_explained_var": 0.8895083069801331, "cur_kl_coeff": 0.1499999761581421, "cur_lr": 0.0005000000237487257, "vf_loss": 22.697507858276367, "policy_loss": -0.008761514909565449, "kl": 0.019106559455394745}, "update_time_ms": 7.676, "load_time_ms": 10.797}, "timestamp": 1557115043, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-57-23", "training_iteration": 117}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.67505121231079, "node_ip": "10.138.0.2", "episodes_total": 2003, "time_since_restore": 2516.121486186981, "episode_reward_mean": 846.6236878379231, "hostname": "flow-main", "timesteps_since_restore": 4725636, "timesteps_this_iter": 38088, "timesteps_total": 4725636, "pid": 24594, "time_total_s": 2516.121486186981, "custom_metrics": {"system_level_velocity_min": 9.933409404553982, "cost2_max": 0.0, "cost1_mean": 344.8892984692908, "system_level_velocity_mean": 13.282057087665207, "cost1_min": 255.6878306803709, "outflow_rate_min": 842.9161867924711, "system_level_velocity_max": 18.271145400751514, "cost2_min": -0.42215764079696805, "cost1_max": 478.69202887381755, "outflow_rate_mean": 1063.1420034823975, "cost2_mean": -0.06889443860760255, "outflow_rate_max": 1371.274510339594}, "done": false, "iterations_since_restore": 118, "episode_reward_min": 635.7382978808622, "episode_reward_max": 1184.8010214381975, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc2e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11418.641, "num_steps_sampled": 4725636, "num_steps_trained": 4725636, "grad_time_ms": 9766.458, "default": {"total_loss": 21.60374641418457, "entropy": 0.9363415837287903, "vf_explained_var": 0.8694728016853333, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 21.608491897583008, "policy_loss": -0.007394313812255859, "kl": 0.017646055668592453}, "update_time_ms": 7.553, "load_time_ms": 10.566}, "timestamp": 1557115064, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-57-44", "training_iteration": 118}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.90440034866333, "node_ip": "10.138.0.2", "episodes_total": 2022, "time_since_restore": 2539.0258865356445, "episode_reward_mean": 839.1567744616276, "hostname": "flow-main", "timesteps_since_restore": 4763147, "timesteps_this_iter": 37511, "timesteps_total": 4763147, "pid": 24594, "time_total_s": 2539.0258865356445, "custom_metrics": {"system_level_velocity_min": 9.761341214987818, "cost2_max": 0.0, "cost1_mean": 340.5599587573529, "system_level_velocity_mean": 13.119679072125814, "cost1_min": 248.34090937609534, "outflow_rate_min": 842.9161867924711, "system_level_velocity_max": 18.271145400751514, "cost2_min": -0.42215764079696805, "cost1_max": 476.9420240428726, "outflow_rate_mean": 1052.174645839984, "cost2_mean": -0.06350245408385581, "outflow_rate_max": 1360.578639536905}, "done": false, "iterations_since_restore": 119, "episode_reward_min": 635.7382978808622, "episode_reward_max": 1019.318608359397, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d44a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d48d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d42b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11545.635, "num_steps_sampled": 4763147, "num_steps_trained": 4763147, "grad_time_ms": 9912.518, "default": {"total_loss": 23.644271850585938, "entropy": 0.9019004702568054, "vf_explained_var": 0.8813422322273254, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 23.648696899414062, "policy_loss": -0.007092760875821114, "kl": 0.017770802602171898}, "update_time_ms": 7.276, "load_time_ms": 10.086}, "timestamp": 1557115087, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-58-07", "training_iteration": 119}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.614591360092163, "node_ip": "10.138.0.2", "episodes_total": 2039, "time_since_restore": 2560.6404778957367, "episode_reward_mean": 847.341375956249, "hostname": "flow-main", "timesteps_since_restore": 4800987, "timesteps_this_iter": 37840, "timesteps_total": 4800987, "pid": 24594, "time_total_s": 2560.6404778957367, "custom_metrics": {"system_level_velocity_min": 9.761341214987818, "cost2_max": 0.0, "cost1_mean": 346.2653785446957, "system_level_velocity_mean": 13.338596323045481, "cost1_min": 248.34090937609534, "outflow_rate_min": 816.0710186852766, "system_level_velocity_max": 18.271145400751514, "cost2_min": -0.6824818122465868, "cost1_max": 476.9420240428726, "outflow_rate_mean": 1062.8022953476645, "cost2_mean": -0.0696126314198078, "outflow_rate_max": 1360.578639536905}, "done": false, "iterations_since_restore": 120, "episode_reward_min": 635.7382978808622, "episode_reward_max": 1145.607099066617, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc5f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc0f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dceb8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11647.379, "num_steps_sampled": 4800987, "num_steps_trained": 4800987, "grad_time_ms": 9917.898, "default": {"total_loss": 20.991241455078125, "entropy": 0.915442943572998, "vf_explained_var": 0.8971567153930664, "cur_kl_coeff": 0.1499999761581421, "cur_lr": 0.0005000000237487257, "vf_loss": 20.996824264526367, "policy_loss": -0.008469665423035622, "kl": 0.019252128899097443}, "update_time_ms": 7.06, "load_time_ms": 9.542}, "timestamp": 1557115109, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_03-58-29", "training_iteration": 120}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.822723865509033, "node_ip": "10.138.0.2", "episodes_total": 2058, "time_since_restore": 2582.4632017612457, "episode_reward_mean": 846.7201420107128, "hostname": "flow-main", "timesteps_since_restore": 4839983, "timesteps_this_iter": 38996, "timesteps_total": 4839983, "pid": 24594, "time_total_s": 2582.4632017612457, "custom_metrics": {"system_level_velocity_min": 9.761341214987818, "cost2_max": 0.0, "cost1_mean": 347.84146223753726, "system_level_velocity_mean": 13.405928921031467, "cost1_min": 248.34090937609534, "outflow_rate_min": 816.0710186852766, "system_level_velocity_max": 18.271145400751514, "cost2_min": -0.6824818122465868, "cost1_max": 476.9420240428726, "outflow_rate_mean": 1065.5404041760253, "cost2_mean": -0.06873278141633801, "outflow_rate_max": 1360.578639536905}, "done": false, "iterations_since_restore": 121, "episode_reward_min": 635.7382978808622, "episode_reward_max": 1145.607099066617, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc2e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcfd0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11673.128, "num_steps_sampled": 4839983, "num_steps_trained": 4839983, "grad_time_ms": 9947.368, "default": {"total_loss": 21.849124908447266, "entropy": 0.9369555115699768, "vf_explained_var": 0.8842441439628601, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 21.853269577026367, "policy_loss": -0.006777870003134012, "kl": 0.01755520887672901}, "update_time_ms": 6.982, "load_time_ms": 9.088}, "timestamp": 1557115131, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-58-51", "training_iteration": 121}
{"episode_len_mean": 693.45, "time_this_iter_s": 20.408908128738403, "node_ip": "10.138.0.2", "episodes_total": 2077, "time_since_restore": 2602.872109889984, "episode_reward_mean": 840.7286264630567, "hostname": "flow-main", "timesteps_since_restore": 4877134, "timesteps_this_iter": 37151, "timesteps_total": 4877134, "pid": 24594, "time_total_s": 2602.872109889984, "custom_metrics": {"system_level_velocity_min": 9.761341214987818, "cost2_max": 0.0, "cost1_mean": 345.782162671388, "system_level_velocity_mean": 13.500345178090821, "cost1_min": 30.08675985448232, "outflow_rate_min": 511.3719898687578, "system_level_velocity_max": 18.74270174636072, "cost2_min": -0.6824818122465868, "cost1_max": 476.9420240428726, "outflow_rate_mean": 1062.731175708221, "cost2_mean": -0.0588510539371184, "outflow_rate_max": 1360.578639536905}, "done": false, "iterations_since_restore": 122, "episode_reward_min": 67.32039534500768, "episode_reward_max": 1172.6192664345535, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d48d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4e10>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11693.691, "num_steps_sampled": 4877134, "num_steps_trained": 4877134, "grad_time_ms": 9819.593, "default": {"total_loss": 24.191486358642578, "entropy": 0.9122267365455627, "vf_explained_var": 0.8853111267089844, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 24.19739532470703, "policy_loss": -0.008679970167577267, "kl": 0.018486980348825455}, "update_time_ms": 6.975, "load_time_ms": 8.663}, "timestamp": 1557115151, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-59-11", "training_iteration": 122}
{"episode_len_mean": 693.45, "time_this_iter_s": 20.848790407180786, "node_ip": "10.138.0.2", "episodes_total": 2096, "time_since_restore": 2623.720900297165, "episode_reward_mean": 842.1541206499263, "hostname": "flow-main", "timesteps_since_restore": 4915118, "timesteps_this_iter": 37984, "timesteps_total": 4915118, "pid": 24594, "time_total_s": 2623.720900297165, "custom_metrics": {"system_level_velocity_min": 9.761341214987818, "cost2_max": 0.0, "cost1_mean": 350.2133304380043, "system_level_velocity_mean": 13.656642305911, "cost1_min": 30.08675985448232, "outflow_rate_min": 511.3719898687578, "system_level_velocity_max": 18.74270174636072, "cost2_min": -0.7396146046594618, "cost1_max": 476.3747628892234, "outflow_rate_mean": 1062.4361097075252, "cost2_mean": -0.06961224877239981, "outflow_rate_max": 1339.0511098975715}, "done": false, "iterations_since_restore": 123, "episode_reward_min": 67.32039534500768, "episode_reward_max": 1172.6192664345535, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcf98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9d30>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11700.523, "num_steps_sampled": 4915118, "num_steps_trained": 4915118, "grad_time_ms": 9767.437, "default": {"total_loss": 21.750202178955078, "entropy": 0.9035405516624451, "vf_explained_var": 0.8939549326896667, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 21.75444221496582, "policy_loss": -0.006874434649944305, "kl": 0.01754854805767536}, "update_time_ms": 7.029, "load_time_ms": 9.018}, "timestamp": 1557115172, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_03-59-32", "training_iteration": 123}
{"episode_len_mean": 693.45, "time_this_iter_s": 21.175530910491943, "node_ip": "10.138.0.2", "episodes_total": 2114, "time_since_restore": 2644.896431207657, "episode_reward_mean": 846.1070056092351, "hostname": "flow-main", "timesteps_since_restore": 4953235, "timesteps_this_iter": 38117, "timesteps_total": 4953235, "pid": 24594, "time_total_s": 2644.896431207657, "custom_metrics": {"system_level_velocity_min": 8.801954794111193, "cost2_max": 0.0, "cost1_mean": 349.81814961119557, "system_level_velocity_mean": 13.638358096310899, "cost1_min": 30.08675985448232, "outflow_rate_min": 511.3719898687578, "system_level_velocity_max": 18.74270174636072, "cost2_min": -0.7396146046594618, "cost1_max": 476.3747628892234, "outflow_rate_mean": 1064.2677536969027, "cost2_mean": -0.07414186814976914, "outflow_rate_max": 1339.0511098975715}, "done": false, "iterations_since_restore": 124, "episode_reward_min": 67.32039534500768, "episode_reward_max": 1172.6192664345535, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dca90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc630>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc828>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11628.606, "num_steps_sampled": 4953235, "num_steps_trained": 4953235, "grad_time_ms": 9759.756, "default": {"total_loss": 19.598310470581055, "entropy": 0.9409531354904175, "vf_explained_var": 0.9125704169273376, "cur_kl_coeff": 0.14999999105930328, "cur_lr": 0.0005000000237487257, "vf_loss": 19.60329818725586, "policy_loss": -0.008181031793355942, "kl": 0.021281691268086433}, "update_time_ms": 6.913, "load_time_ms": 8.684}, "timestamp": 1557115193, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_03-59-53", "training_iteration": 124}
{"episode_len_mean": 693.45, "time_this_iter_s": 21.71866536140442, "node_ip": "10.138.0.2", "episodes_total": 2130, "time_since_restore": 2666.6150965690613, "episode_reward_mean": 839.5177882004806, "hostname": "flow-main", "timesteps_since_restore": 4991816, "timesteps_this_iter": 38581, "timesteps_total": 4991816, "pid": 24594, "time_total_s": 2666.6150965690613, "custom_metrics": {"system_level_velocity_min": 8.801954794111193, "cost2_max": 0.0, "cost1_mean": 347.8486629571786, "system_level_velocity_mean": 13.557952869018829, "cost1_min": 30.08675985448232, "outflow_rate_min": 511.3719898687578, "system_level_velocity_max": 18.74270174636072, "cost2_min": -0.7396146046594618, "cost1_max": 476.3747628892234, "outflow_rate_mean": 1056.679131473286, "cost2_mean": -0.07493706844475205, "outflow_rate_max": 1339.0511098975715}, "done": false, "iterations_since_restore": 125, "episode_reward_min": 67.32039534500768, "episode_reward_max": 1172.6192664345535, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e12b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e15f8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1d30>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11706.016, "num_steps_sampled": 4991816, "num_steps_trained": 4991816, "grad_time_ms": 9608.477, "default": {"total_loss": 19.346084594726562, "entropy": 0.9279471039772034, "vf_explained_var": 0.8925443887710571, "cur_kl_coeff": 0.2250000238418579, "cur_lr": 0.0005000000237487257, "vf_loss": 19.351123809814453, "policy_loss": -0.008524494245648384, "kl": 0.01548068318516016}, "update_time_ms": 6.922, "load_time_ms": 9.219}, "timestamp": 1557115215, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_04-00-15", "training_iteration": 125}
{"episode_len_mean": 693.45, "time_this_iter_s": 21.36927628517151, "node_ip": "10.138.0.2", "episodes_total": 2148, "time_since_restore": 2687.984372854233, "episode_reward_mean": 833.865586153069, "hostname": "flow-main", "timesteps_since_restore": 5029314, "timesteps_this_iter": 37498, "timesteps_total": 5029314, "pid": 24594, "time_total_s": 2687.984372854233, "custom_metrics": {"system_level_velocity_min": 8.801954794111193, "cost2_max": 0.0, "cost1_mean": 345.30977037577924, "system_level_velocity_mean": 13.446175765386618, "cost1_min": 30.08675985448232, "outflow_rate_min": 511.3719898687578, "system_level_velocity_max": 18.74270174636072, "cost2_min": -0.7396146046594618, "cost1_max": 476.3747628892234, "outflow_rate_mean": 1053.1567958942792, "cost2_mean": -0.0851221778777587, "outflow_rate_max": 1300.4071078253062}, "done": false, "iterations_since_restore": 126, "episode_reward_min": 67.32039534500768, "episode_reward_max": 1172.6192664345535, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d43c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d46a0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11740.675, "num_steps_sampled": 5029314, "num_steps_trained": 5029314, "grad_time_ms": 9613.114, "default": {"total_loss": 23.029664993286133, "entropy": 0.9376602172851562, "vf_explained_var": 0.8900988698005676, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 23.0330867767334, "policy_loss": -0.006573996972292662, "kl": 0.014006526209414005}, "update_time_ms": 6.943, "load_time_ms": 9.222}, "timestamp": 1557115236, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_04-00-36", "training_iteration": 126}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.903059720993042, "node_ip": "10.138.0.2", "episodes_total": 2165, "time_since_restore": 2709.887432575226, "episode_reward_mean": 840.1010796328528, "hostname": "flow-main", "timesteps_since_restore": 5068367, "timesteps_this_iter": 39053, "timesteps_total": 5068367, "pid": 24594, "time_total_s": 2709.887432575226, "custom_metrics": {"system_level_velocity_min": 8.801954794111193, "cost2_max": 0.0, "cost1_mean": 349.43052957604516, "system_level_velocity_mean": 13.41764777090762, "cost1_min": 224.88923411740302, "outflow_rate_min": 888.0321614295461, "system_level_velocity_max": 18.115390888060183, "cost2_min": -0.8390398007376145, "cost1_max": 476.3747628892234, "outflow_rate_mean": 1061.2089486501925, "cost2_mean": -0.1010195073671844, "outflow_rate_max": 1300.4071078253062}, "done": false, "iterations_since_restore": 127, "episode_reward_min": 632.7462063372491, "episode_reward_max": 1172.6192664345535, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d88d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8b38>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11841.936, "num_steps_sampled": 5068367, "num_steps_trained": 5068367, "grad_time_ms": 9602.127, "default": {"total_loss": 19.08915138244629, "entropy": 0.9486507177352905, "vf_explained_var": 0.8945080637931824, "cur_kl_coeff": 0.22499999403953552, "cur_lr": 0.0005000000237487257, "vf_loss": 19.093475341796875, "policy_loss": -0.008036931045353413, "kl": 0.016504131257534027}, "update_time_ms": 6.938, "load_time_ms": 10.032}, "timestamp": 1557115258, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-00-58", "training_iteration": 127}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.751240253448486, "node_ip": "10.138.0.2", "episodes_total": 2180, "time_since_restore": 2731.6386728286743, "episode_reward_mean": 832.3386811752399, "hostname": "flow-main", "timesteps_since_restore": 5107191, "timesteps_this_iter": 38824, "timesteps_total": 5107191, "pid": 24594, "time_total_s": 2731.6386728286743, "custom_metrics": {"system_level_velocity_min": 8.801954794111193, "cost2_max": 0.0, "cost1_mean": 344.02464827673487, "system_level_velocity_mean": 13.214383925035117, "cost1_min": 224.88923411740302, "outflow_rate_min": 888.0321614295461, "system_level_velocity_max": 17.59237547113055, "cost2_min": -0.8390398007376145, "cost1_max": 462.7990136847817, "outflow_rate_mean": 1051.3431660662236, "cost2_mean": -0.10317103553420916, "outflow_rate_max": 1286.329282544593}, "done": false, "iterations_since_restore": 128, "episode_reward_min": 632.7462063372491, "episode_reward_max": 1032.5374075001391, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e13c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e11d0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11855.778, "num_steps_sampled": 5107191, "num_steps_trained": 5107191, "grad_time_ms": 9595.95, "default": {"total_loss": 18.698896408081055, "entropy": 0.9298121929168701, "vf_explained_var": 0.8877731561660767, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 18.703598022460938, "policy_loss": -0.008033773861825466, "kl": 0.014814367517828941}, "update_time_ms": 7.007, "load_time_ms": 10.149}, "timestamp": 1557115280, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_04-01-20", "training_iteration": 128}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.371830701828003, "node_ip": "10.138.0.2", "episodes_total": 2199, "time_since_restore": 2753.0105035305023, "episode_reward_mean": 825.8188876619769, "hostname": "flow-main", "timesteps_since_restore": 5146175, "timesteps_this_iter": 38984, "timesteps_total": 5146175, "pid": 24594, "time_total_s": 2753.0105035305023, "custom_metrics": {"system_level_velocity_min": 8.801954794111193, "cost2_max": 0.0, "cost1_mean": 333.2419100605259, "system_level_velocity_mean": 12.818307122821341, "cost1_min": 224.88923411740302, "outflow_rate_min": 888.0321614295461, "system_level_velocity_max": 16.77633052419059, "cost2_min": -0.8390398007376145, "cost1_max": 435.15364002226704, "outflow_rate_mean": 1037.6824659441168, "cost2_mean": -0.08139000221244942, "outflow_rate_max": 1286.329282544593}, "done": false, "iterations_since_restore": 129, "episode_reward_min": 632.7462063372491, "episode_reward_max": 1032.5374075001391, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d46a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4ef0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11789.437, "num_steps_sampled": 5146175, "num_steps_trained": 5146175, "grad_time_ms": 9511.817, "default": {"total_loss": 18.924549102783203, "entropy": 0.9251751899719238, "vf_explained_var": 0.9011961221694946, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 18.92877197265625, "policy_loss": -0.007418982218950987, "kl": 0.014201292768120766}, "update_time_ms": 7.074, "load_time_ms": 10.59}, "timestamp": 1557115302, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-01-42", "training_iteration": 129}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.328962087631226, "node_ip": "10.138.0.2", "episodes_total": 2217, "time_since_restore": 2774.3394656181335, "episode_reward_mean": 831.4063258562212, "hostname": "flow-main", "timesteps_since_restore": 5186268, "timesteps_this_iter": 40093, "timesteps_total": 5186268, "pid": 24594, "time_total_s": 2774.3394656181335, "custom_metrics": {"system_level_velocity_min": 9.85602669481075, "cost2_max": 0.0, "cost1_mean": 334.44728497244176, "system_level_velocity_mean": 12.858684732953904, "cost1_min": 250.47027504104184, "outflow_rate_min": 899.1139560837476, "system_level_velocity_max": 17.09011428419191, "cost2_min": -0.8390398007376145, "cost1_max": 452.8130230665359, "outflow_rate_mean": 1042.453860933212, "cost2_mean": -0.08759650616211999, "outflow_rate_max": 1286.329282544593}, "done": false, "iterations_since_restore": 130, "episode_reward_min": 632.7462063372491, "episode_reward_max": 1032.5374075001391, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4eb8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11793.12, "num_steps_sampled": 5186268, "num_steps_trained": 5186268, "grad_time_ms": 9475.392, "default": {"total_loss": 19.546810150146484, "entropy": 0.9239685535430908, "vf_explained_var": 0.8881810307502747, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 19.55183219909668, "policy_loss": -0.008613650687038898, "kl": 0.01595461368560791}, "update_time_ms": 7.01, "load_time_ms": 10.598}, "timestamp": 1557115323, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_04-02-03", "training_iteration": 130}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.608040809631348, "node_ip": "10.138.0.2", "episodes_total": 2233, "time_since_restore": 2796.947506427765, "episode_reward_mean": 831.0488217253566, "hostname": "flow-main", "timesteps_since_restore": 5225736, "timesteps_this_iter": 39468, "timesteps_total": 5225736, "pid": 24594, "time_total_s": 2796.947506427765, "custom_metrics": {"system_level_velocity_min": 8.665541945091116, "cost2_max": 0.0, "cost1_mean": 328.33229195746935, "system_level_velocity_mean": 12.624253161000969, "cost1_min": 222.35448019106192, "outflow_rate_min": 852.8173612987711, "system_level_velocity_max": 17.09011428419191, "cost2_min": -0.8390398007376145, "cost1_max": 452.8130230665359, "outflow_rate_mean": 1034.5922749947044, "cost2_mean": -0.08593929802897488, "outflow_rate_max": 1286.329282544593}, "done": false, "iterations_since_restore": 131, "episode_reward_min": 632.7462063372491, "episode_reward_max": 1032.5374075001391, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e12e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e10f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e10b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11788.319, "num_steps_sampled": 5225736, "num_steps_trained": 5225736, "grad_time_ms": 9559.086, "default": {"total_loss": 18.475496292114258, "entropy": 0.9186574816703796, "vf_explained_var": 0.9011836647987366, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 18.479434967041016, "policy_loss": -0.007258379831910133, "kl": 0.014756698161363602}, "update_time_ms": 7.464, "load_time_ms": 11.141}, "timestamp": 1557115346, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_04-02-26", "training_iteration": 131}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.49892497062683, "node_ip": "10.138.0.2", "episodes_total": 2250, "time_since_restore": 2818.4464313983917, "episode_reward_mean": 831.0774665143964, "hostname": "flow-main", "timesteps_since_restore": 5265238, "timesteps_this_iter": 39502, "timesteps_total": 5265238, "pid": 24594, "time_total_s": 2818.4464313983917, "custom_metrics": {"system_level_velocity_min": 8.665541945091116, "cost2_max": 0.0, "cost1_mean": 325.5640628780941, "system_level_velocity_mean": 12.526471987691222, "cost1_min": 222.35448019106192, "outflow_rate_min": 852.8173612987711, "system_level_velocity_max": 17.09011428419191, "cost2_min": -0.8390398007376145, "cost1_max": 452.8130230665359, "outflow_rate_mean": 1032.2828696250344, "cost2_mean": -0.08674382085622989, "outflow_rate_max": 1286.329282544593}, "done": false, "iterations_since_restore": 132, "episode_reward_min": 632.7462063372491, "episode_reward_max": 1032.5374075001391, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d48d0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11714.033, "num_steps_sampled": 5265238, "num_steps_trained": 5265238, "grad_time_ms": 9741.126, "default": {"total_loss": 17.757694244384766, "entropy": 0.9574477672576904, "vf_explained_var": 0.8856741189956665, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 17.761953353881836, "policy_loss": -0.007692478131502867, "kl": 0.015258772298693657}, "update_time_ms": 7.376, "load_time_ms": 11.304}, "timestamp": 1557115367, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-02-47", "training_iteration": 132}
{"episode_len_mean": 700.0, "time_this_iter_s": 24.23726797103882, "node_ip": "10.138.0.2", "episodes_total": 2267, "time_since_restore": 2842.6836993694305, "episode_reward_mean": 832.6926088121663, "hostname": "flow-main", "timesteps_since_restore": 5304278, "timesteps_this_iter": 39040, "timesteps_total": 5304278, "pid": 24594, "time_total_s": 2842.6836993694305, "custom_metrics": {"system_level_velocity_min": 8.450762184682983, "cost2_max": 0.0, "cost1_mean": 322.9270414622884, "system_level_velocity_mean": 12.43098738231658, "cost1_min": 215.40725946399724, "outflow_rate_min": 850.5287874832003, "system_level_velocity_max": 17.09011428419191, "cost2_min": -0.5035963070160977, "cost1_max": 452.8130230665359, "outflow_rate_mean": 1027.7629242519045, "cost2_mean": -0.07177980156044686, "outflow_rate_max": 1251.5376584806704}, "done": false, "iterations_since_restore": 133, "episode_reward_min": 698.2919930289585, "episode_reward_max": 1027.6523028475754, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832b70>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ac8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11796.201, "num_steps_sampled": 5304278, "num_steps_trained": 5304278, "grad_time_ms": 9996.521, "default": {"total_loss": 20.477251052856445, "entropy": 0.9184624552726746, "vf_explained_var": 0.8982335925102234, "cur_kl_coeff": 0.22499999403953552, "cur_lr": 0.0005000000237487257, "vf_loss": 20.48094940185547, "policy_loss": -0.0070175062865018845, "kl": 0.014754578471183777}, "update_time_ms": 7.424, "load_time_ms": 11.35}, "timestamp": 1557115391, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-03-11", "training_iteration": 133}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.688212394714355, "node_ip": "10.138.0.2", "episodes_total": 2284, "time_since_restore": 2864.371911764145, "episode_reward_mean": 833.5820861496028, "hostname": "flow-main", "timesteps_since_restore": 5343717, "timesteps_this_iter": 39439, "timesteps_total": 5343717, "pid": 24594, "time_total_s": 2864.371911764145, "custom_metrics": {"system_level_velocity_min": 8.450762184682983, "cost2_max": 0.0, "cost1_mean": 324.68697346019724, "system_level_velocity_mean": 12.491646136535364, "cost1_min": 215.40725946399724, "outflow_rate_min": 850.5287874832003, "system_level_velocity_max": 17.09011428419191, "cost2_min": -0.5035963070160977, "cost1_max": 452.8130230665359, "outflow_rate_mean": 1033.3360787467611, "cost2_mean": -0.06801925419038976, "outflow_rate_max": 1251.5376584806704}, "done": false, "iterations_since_restore": 134, "episode_reward_min": 695.4854201205906, "episode_reward_max": 1008.7899938889753, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d42e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4748>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11737.794, "num_steps_sampled": 5343717, "num_steps_trained": 5343717, "grad_time_ms": 10105.121, "default": {"total_loss": 18.385568618774414, "entropy": 0.8904656767845154, "vf_explained_var": 0.8839781880378723, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 18.389963150024414, "policy_loss": -0.00804795790463686, "kl": 0.016235467046499252}, "update_time_ms": 7.633, "load_time_ms": 11.378}, "timestamp": 1557115413, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-03-33", "training_iteration": 134}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.26424765586853, "node_ip": "10.138.0.2", "episodes_total": 2300, "time_since_restore": 2886.6361594200134, "episode_reward_mean": 835.8203427062988, "hostname": "flow-main", "timesteps_since_restore": 5382238, "timesteps_this_iter": 38521, "timesteps_total": 5382238, "pid": 24594, "time_total_s": 2886.6361594200134, "custom_metrics": {"system_level_velocity_min": 8.450762184682983, "cost2_max": 0.0, "cost1_mean": 324.5796559881605, "system_level_velocity_mean": 12.48896304653331, "cost1_min": 215.40725946399724, "outflow_rate_min": 850.5287874832003, "system_level_velocity_max": 17.09011428419191, "cost2_min": -0.5035963070160977, "cost1_max": 452.8130230665359, "outflow_rate_mean": 1034.496122231253, "cost2_mean": -0.07044229704465263, "outflow_rate_max": 1251.5376584806704}, "done": false, "iterations_since_restore": 135, "episode_reward_min": 683.4841201187984, "episode_reward_max": 1008.7899938889753, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d47f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4860>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11732.768, "num_steps_sampled": 5382238, "num_steps_trained": 5382238, "grad_time_ms": 10164.901, "default": {"total_loss": 18.388063430786133, "entropy": 0.8685911893844604, "vf_explained_var": 0.9180594682693481, "cur_kl_coeff": 0.22499999403953552, "cur_lr": 0.0005000000237487257, "vf_loss": 18.390583038330078, "policy_loss": -0.005741762463003397, "kl": 0.014315538108348846}, "update_time_ms": 7.769, "load_time_ms": 11.281}, "timestamp": 1557115435, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_04-03-55", "training_iteration": 135}
{"episode_len_mean": 686.65, "time_this_iter_s": 25.54866623878479, "node_ip": "10.138.0.2", "episodes_total": 2323, "time_since_restore": 2912.184825658798, "episode_reward_mean": 825.1167761225006, "hostname": "flow-main", "timesteps_since_restore": 5421404, "timesteps_this_iter": 39166, "timesteps_total": 5421404, "pid": 24594, "time_total_s": 2912.184825658798, "custom_metrics": {"system_level_velocity_min": 8.450762184682983, "cost2_max": 0.0, "cost1_mean": 324.8459368250386, "system_level_velocity_mean": 12.819708679849787, "cost1_min": 11.772369667059337, "outflow_rate_min": 464.2002765876701, "system_level_velocity_max": 18.039327016899666, "cost2_min": -0.5664801294560751, "cost1_max": 422.5355298086129, "outflow_rate_mean": 1036.0452127747421, "cost2_mean": -0.06329809045682394, "outflow_rate_max": 1255.272093409444}, "done": false, "iterations_since_restore": 136, "episode_reward_min": 29.142601709198125, "episode_reward_max": 1019.7971530991415, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d49e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d42b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4b70>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12058.485, "num_steps_sampled": 5421404, "num_steps_trained": 5421404, "grad_time_ms": 10256.734, "default": {"total_loss": 28.32872772216797, "entropy": 0.8718758225440979, "vf_explained_var": 0.8657146692276001, "cur_kl_coeff": 0.22499999403953552, "cur_lr": 0.0005000000237487257, "vf_loss": 28.332735061645508, "policy_loss": -0.007727059535682201, "kl": 0.016525037586688995}, "update_time_ms": 7.751, "load_time_ms": 11.976}, "timestamp": 1557115461, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 23, "date": "2019-05-06_04-04-21", "training_iteration": 136}
{"episode_len_mean": 686.65, "time_this_iter_s": 20.667415380477905, "node_ip": "10.138.0.2", "episodes_total": 2339, "time_since_restore": 2932.852241039276, "episode_reward_mean": 825.9973591471103, "hostname": "flow-main", "timesteps_since_restore": 5460227, "timesteps_this_iter": 38823, "timesteps_total": 5460227, "pid": 24594, "time_total_s": 2932.852241039276, "custom_metrics": {"system_level_velocity_min": 8.450762184682983, "cost2_max": 0.0, "cost1_mean": 324.8221783271039, "system_level_velocity_mean": 12.821880803659043, "cost1_min": 11.772369667059337, "outflow_rate_min": 464.2002765876701, "system_level_velocity_max": 18.039327016899666, "cost2_min": -0.5664801294560751, "cost1_max": 425.67058805305135, "outflow_rate_mean": 1037.8772649402274, "cost2_mean": -0.06397507746036314, "outflow_rate_max": 1255.272093409444}, "done": false, "iterations_since_restore": 137, "episode_reward_min": 29.142601709198125, "episode_reward_max": 1019.7971530991415, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e10b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1b00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8eb8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12094.725, "num_steps_sampled": 5460227, "num_steps_trained": 5460227, "grad_time_ms": 10097.779, "default": {"total_loss": 17.44898796081543, "entropy": 0.8941910266876221, "vf_explained_var": 0.9193382263183594, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 17.452655792236328, "policy_loss": -0.007370964623987675, "kl": 0.016459396108984947}, "update_time_ms": 7.774, "load_time_ms": 11.535}, "timestamp": 1557115482, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_04-04-42", "training_iteration": 137}
{"episode_len_mean": 686.65, "time_this_iter_s": 22.19495439529419, "node_ip": "10.138.0.2", "episodes_total": 2355, "time_since_restore": 2955.0471954345703, "episode_reward_mean": 830.0570295842001, "hostname": "flow-main", "timesteps_since_restore": 5499622, "timesteps_this_iter": 39395, "timesteps_total": 5499622, "pid": 24594, "time_total_s": 2955.0471954345703, "custom_metrics": {"system_level_velocity_min": 8.450762184682983, "cost2_max": 0.0, "cost1_mean": 325.60524482277884, "system_level_velocity_mean": 12.851416040836927, "cost1_min": 11.772369667059337, "outflow_rate_min": 464.2002765876701, "system_level_velocity_max": 18.039327016899666, "cost2_min": -0.5664801294560751, "cost1_max": 456.34137376140234, "outflow_rate_mean": 1038.8003932634301, "cost2_mean": -0.04852416577699139, "outflow_rate_max": 1260.8222639144835}, "done": false, "iterations_since_restore": 138, "episode_reward_min": 29.142601709198125, "episode_reward_max": 1141.0771821267704, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d45f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4c88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f60>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12089.635, "num_steps_sampled": 5499622, "num_steps_trained": 5499622, "grad_time_ms": 10147.082, "default": {"total_loss": 18.74352264404297, "entropy": 0.8792029619216919, "vf_explained_var": 0.9104622006416321, "cur_kl_coeff": 0.22499999403953552, "cur_lr": 0.0005000000237487257, "vf_loss": 18.746566772460938, "policy_loss": -0.0064435130916535854, "kl": 0.015112411230802536}, "update_time_ms": 7.73, "load_time_ms": 11.544}, "timestamp": 1557115504, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_04-05-04", "training_iteration": 138}
{"episode_len_mean": 679.92, "time_this_iter_s": 22.3837149143219, "node_ip": "10.138.0.2", "episodes_total": 2372, "time_since_restore": 2977.430910348892, "episode_reward_mean": 827.6626425612634, "hostname": "flow-main", "timesteps_since_restore": 5537578, "timesteps_this_iter": 37956, "timesteps_total": 5537578, "pid": 24594, "time_total_s": 2977.430910348892, "custom_metrics": {"system_level_velocity_min": 9.28196815933512, "cost2_max": 0.0, "cost1_mean": 324.99348032589023, "system_level_velocity_mean": 12.999404041570966, "cost1_min": 11.772369667059337, "outflow_rate_min": 464.2002765876701, "system_level_velocity_max": 18.039327016899666, "cost2_min": -0.5664801294560751, "cost1_max": 456.34137376140234, "outflow_rate_mean": 1039.4230225031913, "cost2_mean": -0.05555311514662435, "outflow_rate_max": 1260.8222639144835}, "done": false, "iterations_since_restore": 139, "episode_reward_min": 29.142601709198125, "episode_reward_max": 1141.0771821267704, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1470>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12202.329, "num_steps_sampled": 5537578, "num_steps_trained": 5537578, "grad_time_ms": 10135.448, "default": {"total_loss": 24.565093994140625, "entropy": 0.8652710914611816, "vf_explained_var": 0.8920760154724121, "cur_kl_coeff": 0.2250000238418579, "cur_lr": 0.0005000000237487257, "vf_loss": 24.5684814453125, "policy_loss": -0.007021190132945776, "kl": 0.0161383468657732}, "update_time_ms": 7.717, "load_time_ms": 11.124}, "timestamp": 1557115526, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-05-26", "training_iteration": 139}
{"episode_len_mean": 679.92, "time_this_iter_s": 20.707687616348267, "node_ip": "10.138.0.2", "episodes_total": 2391, "time_since_restore": 2998.1385979652405, "episode_reward_mean": 830.0042824298571, "hostname": "flow-main", "timesteps_since_restore": 5576651, "timesteps_this_iter": 39073, "timesteps_total": 5576651, "pid": 24594, "time_total_s": 2998.1385979652405, "custom_metrics": {"system_level_velocity_min": 9.28196815933512, "cost2_max": 0.0, "cost1_mean": 328.0922116193495, "system_level_velocity_mean": 13.114635266006571, "cost1_min": 11.772369667059337, "outflow_rate_min": 464.2002765876701, "system_level_velocity_max": 18.039327016899666, "cost2_min": -0.6666666666666666, "cost1_max": 456.34137376140234, "outflow_rate_mean": 1045.978162320414, "cost2_mean": -0.05885455648034643, "outflow_rate_max": 1270.992951951894}, "done": false, "iterations_since_restore": 140, "episode_reward_min": 29.142601709198125, "episode_reward_max": 1141.0771821267704, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d47b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4da0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce80>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12184.323, "num_steps_sampled": 5576651, "num_steps_trained": 5576651, "grad_time_ms": 10093.022, "default": {"total_loss": 23.725421905517578, "entropy": 0.8771366477012634, "vf_explained_var": 0.8978727459907532, "cur_kl_coeff": 0.22499999403953552, "cur_lr": 0.0005000000237487257, "vf_loss": 23.729764938354492, "policy_loss": -0.0076299323700368404, "kl": 0.014614683575928211}, "update_time_ms": 7.735, "load_time_ms": 10.592}, "timestamp": 1557115547, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-05-47", "training_iteration": 140}
{"episode_len_mean": 679.92, "time_this_iter_s": 21.092560529708862, "node_ip": "10.138.0.2", "episodes_total": 2408, "time_since_restore": 3019.2311584949493, "episode_reward_mean": 832.9304375370333, "hostname": "flow-main", "timesteps_since_restore": 5616354, "timesteps_this_iter": 39703, "timesteps_total": 5616354, "pid": 24594, "time_total_s": 3019.2311584949493, "custom_metrics": {"system_level_velocity_min": 9.28196815933512, "cost2_max": 0.0, "cost1_mean": 331.9678651800481, "system_level_velocity_mean": 13.262057771718766, "cost1_min": 11.772369667059337, "outflow_rate_min": 464.2002765876701, "system_level_velocity_max": 18.039327016899666, "cost2_min": -0.6666666666666666, "cost1_max": 456.34137376140234, "outflow_rate_mean": 1052.7866933606017, "cost2_mean": -0.05914943188709556, "outflow_rate_max": 1270.992951951894}, "done": false, "iterations_since_restore": 141, "episode_reward_min": 29.142601709198125, "episode_reward_max": 1141.0771821267704, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d46a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4cc0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12145.673, "num_steps_sampled": 5616354, "num_steps_trained": 5616354, "grad_time_ms": 9980.369, "default": {"total_loss": 22.195791244506836, "entropy": 0.8774599432945251, "vf_explained_var": 0.8860008716583252, "cur_kl_coeff": 0.22499999403953552, "cur_lr": 0.0005000000237487257, "vf_loss": 22.19986915588379, "policy_loss": -0.007938604801893234, "kl": 0.01715264655649662}, "update_time_ms": 7.487, "load_time_ms": 10.046}, "timestamp": 1557115568, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-06-08", "training_iteration": 141}
{"episode_len_mean": 693.27, "time_this_iter_s": 20.638730764389038, "node_ip": "10.138.0.2", "episodes_total": 2425, "time_since_restore": 3039.8698892593384, "episode_reward_mean": 850.7026601983753, "hostname": "flow-main", "timesteps_since_restore": 5654544, "timesteps_this_iter": 38190, "timesteps_total": 5654544, "pid": 24594, "time_total_s": 3039.8698892593384, "custom_metrics": {"system_level_velocity_min": 9.28196815933512, "cost2_max": 0.0, "cost1_mean": 337.6206375732383, "system_level_velocity_mean": 13.14661716827366, "cost1_min": 18.114405274090977, "outflow_rate_min": 487.8590816741719, "system_level_velocity_max": 17.89019506696912, "cost2_min": -0.9371658288752623, "cost1_max": 456.34137376140234, "outflow_rate_mean": 1065.961713801051, "cost2_mean": -0.07208125059813025, "outflow_rate_max": 1270.992951951894}, "done": false, "iterations_since_restore": 142, "episode_reward_min": 48.19449752649415, "episode_reward_max": 1141.0771821267704, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d42b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4978>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12297.905, "num_steps_sampled": 5654544, "num_steps_trained": 5654544, "grad_time_ms": 9742.913, "default": {"total_loss": 27.66039276123047, "entropy": 0.8764060735702515, "vf_explained_var": 0.8662064075469971, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 27.664825439453125, "policy_loss": -0.008337480947375298, "kl": 0.01734474115073681}, "update_time_ms": 7.427, "load_time_ms": 10.278}, "timestamp": 1557115589, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-06-29", "training_iteration": 142}
{"episode_len_mean": 693.27, "time_this_iter_s": 19.62471103668213, "node_ip": "10.138.0.2", "episodes_total": 2445, "time_since_restore": 3059.4946002960205, "episode_reward_mean": 849.0842622129924, "hostname": "flow-main", "timesteps_since_restore": 5692338, "timesteps_this_iter": 37794, "timesteps_total": 5692338, "pid": 24594, "time_total_s": 3059.4946002960205, "custom_metrics": {"system_level_velocity_min": 9.28196815933512, "cost2_max": 0.0, "cost1_mean": 337.9332360327177, "system_level_velocity_mean": 13.166244537892975, "cost1_min": 18.114405274090977, "outflow_rate_min": 487.8590816741719, "system_level_velocity_max": 17.89019506696912, "cost2_min": -0.9371658288752623, "cost1_max": 456.34137376140234, "outflow_rate_mean": 1063.807695892265, "cost2_mean": -0.07505190992026443, "outflow_rate_max": 1270.992951951894}, "done": false, "iterations_since_restore": 143, "episode_reward_min": 48.19449752649415, "episode_reward_max": 1141.0771821267704, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d46d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4da0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d47b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12223.032, "num_steps_sampled": 5692338, "num_steps_trained": 5692338, "grad_time_ms": 9357.563, "default": {"total_loss": 26.5234432220459, "entropy": 0.8746469020843506, "vf_explained_var": 0.8788332343101501, "cur_kl_coeff": 0.2250000238418579, "cur_lr": 0.0005000000237487257, "vf_loss": 26.52873420715332, "policy_loss": -0.009352784603834152, "kl": 0.018065812066197395}, "update_time_ms": 7.441, "load_time_ms": 10.235}, "timestamp": 1557115608, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_04-06-48", "training_iteration": 143}
{"episode_len_mean": 679.71, "time_this_iter_s": 22.067774295806885, "node_ip": "10.138.0.2", "episodes_total": 2464, "time_since_restore": 3081.5623745918274, "episode_reward_mean": 838.5714999041068, "hostname": "flow-main", "timesteps_since_restore": 5729512, "timesteps_this_iter": 37174, "timesteps_total": 5729512, "pid": 24594, "time_total_s": 3081.5623745918274, "custom_metrics": {"system_level_velocity_min": 9.46916471823063, "cost2_max": 0.0, "cost1_mean": 338.6337438121017, "system_level_velocity_mean": 13.518459022834334, "cost1_min": 13.841719493157946, "outflow_rate_min": 472.99230095463946, "system_level_velocity_max": 17.89019506696912, "cost2_min": -0.9371658288752623, "cost1_max": 451.22320588382354, "outflow_rate_mean": 1066.1586389195022, "cost2_mean": -0.07492406637766466, "outflow_rate_max": 1270.992951951894}, "done": false, "iterations_since_restore": 144, "episode_reward_min": 38.12518973704561, "episode_reward_max": 1123.2817141508872, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d45f8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4a20>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12316.604, "num_steps_sampled": 5729512, "num_steps_trained": 5729512, "grad_time_ms": 9303.169, "default": {"total_loss": 33.041404724121094, "entropy": 0.8766918778419495, "vf_explained_var": 0.8439948558807373, "cur_kl_coeff": 0.22499999403953552, "cur_lr": 0.0005000000237487257, "vf_loss": 33.046207427978516, "policy_loss": -0.008760722354054451, "kl": 0.01758453994989395}, "update_time_ms": 7.262, "load_time_ms": 10.129}, "timestamp": 1557115631, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-07-11", "training_iteration": 144}
{"episode_len_mean": 686.44, "time_this_iter_s": 21.583847284317017, "node_ip": "10.138.0.2", "episodes_total": 2480, "time_since_restore": 3103.1462218761444, "episode_reward_mean": 847.3080349991975, "hostname": "flow-main", "timesteps_since_restore": 5768398, "timesteps_this_iter": 38886, "timesteps_total": 5768398, "pid": 24594, "time_total_s": 3103.1462218761444, "custom_metrics": {"system_level_velocity_min": 8.090315128739114, "cost2_max": 0.0, "cost1_mean": 342.6334855982227, "system_level_velocity_mean": 13.508007715623403, "cost1_min": 13.841719493157946, "outflow_rate_min": 472.99230095463946, "system_level_velocity_max": 17.60029222136843, "cost2_min": -0.9371658288752623, "cost1_max": 451.22320588382354, "outflow_rate_mean": 1074.966727271552, "cost2_mean": -0.0773682959642319, "outflow_rate_max": 1289.7387721671398}, "done": false, "iterations_since_restore": 145, "episode_reward_min": 38.12518973704561, "episode_reward_max": 1123.2817141508872, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d45c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d46d8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4da0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12241.98, "num_steps_sampled": 5768398, "num_steps_trained": 5768398, "grad_time_ms": 9308.972, "default": {"total_loss": 22.9180965423584, "entropy": 0.9112282991409302, "vf_explained_var": 0.8939929008483887, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 22.921445846557617, "policy_loss": -0.006897544488310814, "kl": 0.01577054150402546}, "update_time_ms": 7.094, "load_time_ms": 10.2}, "timestamp": 1557115652, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_04-07-32", "training_iteration": 145}
{"episode_len_mean": 686.44, "time_this_iter_s": 22.427457094192505, "node_ip": "10.138.0.2", "episodes_total": 2498, "time_since_restore": 3125.573678970337, "episode_reward_mean": 851.0751380584001, "hostname": "flow-main", "timesteps_since_restore": 5805481, "timesteps_this_iter": 37083, "timesteps_total": 5805481, "pid": 24594, "time_total_s": 3125.573678970337, "custom_metrics": {"system_level_velocity_min": 8.090315128739114, "cost2_max": 0.0, "cost1_mean": 344.86565850405054, "system_level_velocity_mean": 13.594185086294997, "cost1_min": 13.841719493157946, "outflow_rate_min": 472.99230095463946, "system_level_velocity_max": 17.60029222136843, "cost2_min": -0.9371658288752623, "cost1_max": 451.22320588382354, "outflow_rate_mean": 1078.7302851666036, "cost2_mean": -0.08585145553858849, "outflow_rate_max": 1289.7387721671398}, "done": false, "iterations_since_restore": 146, "episode_reward_min": 38.12518973704561, "episode_reward_max": 1123.2817141508872, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc588>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcda0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11964.483, "num_steps_sampled": 5805481, "num_steps_trained": 5805481, "grad_time_ms": 9275.801, "default": {"total_loss": 28.34364128112793, "entropy": 0.8802694082260132, "vf_explained_var": 0.864632785320282, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 28.34918975830078, "policy_loss": -0.009650442749261856, "kl": 0.01823456585407257}, "update_time_ms": 7.168, "load_time_ms": 9.462}, "timestamp": 1557115675, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_04-07-55", "training_iteration": 146}
{"episode_len_mean": 686.44, "time_this_iter_s": 23.869941234588623, "node_ip": "10.138.0.2", "episodes_total": 2517, "time_since_restore": 3149.4436202049255, "episode_reward_mean": 841.4501789761338, "hostname": "flow-main", "timesteps_since_restore": 5844164, "timesteps_this_iter": 38683, "timesteps_total": 5844164, "pid": 24594, "time_total_s": 3149.4436202049255, "custom_metrics": {"system_level_velocity_min": 8.090315128739114, "cost2_max": 0.0, "cost1_mean": 340.59075164759264, "system_level_velocity_mean": 13.447561746062728, "cost1_min": 13.841719493157946, "outflow_rate_min": 472.99230095463946, "system_level_velocity_max": 17.60029222136843, "cost2_min": -0.9371658288752623, "cost1_max": 451.22320588382354, "outflow_rate_mean": 1066.4649658880744, "cost2_mean": -0.07821730847194755, "outflow_rate_max": 1289.7387721671398}, "done": false, "iterations_since_restore": 147, "episode_reward_min": 38.12518973704561, "episode_reward_max": 1123.2817141508872, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4b00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4dd8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11947.13, "num_steps_sampled": 5844164, "num_steps_trained": 5844164, "grad_time_ms": 9611.484, "default": {"total_loss": 26.556093215942383, "entropy": 0.9116824269294739, "vf_explained_var": 0.8752121329307556, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 26.560136795043945, "policy_loss": -0.007577225100249052, "kl": 0.01570146158337593}, "update_time_ms": 7.129, "load_time_ms": 10.031}, "timestamp": 1557115698, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-08-18", "training_iteration": 147}
{"episode_len_mean": 686.44, "time_this_iter_s": 22.449631690979004, "node_ip": "10.138.0.2", "episodes_total": 2534, "time_since_restore": 3171.8932518959045, "episode_reward_mean": 844.4716950381179, "hostname": "flow-main", "timesteps_since_restore": 5882400, "timesteps_this_iter": 38236, "timesteps_total": 5882400, "pid": 24594, "time_total_s": 3171.8932518959045, "custom_metrics": {"system_level_velocity_min": 8.090315128739114, "cost2_max": 0.0, "cost1_mean": 341.8481355426717, "system_level_velocity_mean": 13.48167296827221, "cost1_min": 13.841719493157946, "outflow_rate_min": 472.99230095463946, "system_level_velocity_max": 17.60029222136843, "cost2_min": -0.5486509980318546, "cost1_max": 451.22320588382354, "outflow_rate_mean": 1069.8071065509343, "cost2_mean": -0.06612135655975446, "outflow_rate_max": 1289.7387721671398}, "done": false, "iterations_since_restore": 148, "episode_reward_min": 38.12518973704561, "episode_reward_max": 1123.2817141508872, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daa90>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11996.037, "num_steps_sampled": 5882400, "num_steps_trained": 5882400, "grad_time_ms": 9587.735, "default": {"total_loss": 28.26893424987793, "entropy": 0.9212780594825745, "vf_explained_var": 0.8500375151634216, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 28.27247428894043, "policy_loss": -0.006999968085438013, "kl": 0.015386488288640976}, "update_time_ms": 7.238, "load_time_ms": 9.936}, "timestamp": 1557115721, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-08-41", "training_iteration": 148}
{"episode_len_mean": 686.44, "time_this_iter_s": 22.290684700012207, "node_ip": "10.138.0.2", "episodes_total": 2551, "time_since_restore": 3194.1839365959167, "episode_reward_mean": 846.7134513562195, "hostname": "flow-main", "timesteps_since_restore": 5920960, "timesteps_this_iter": 38560, "timesteps_total": 5920960, "pid": 24594, "time_total_s": 3194.1839365959167, "custom_metrics": {"system_level_velocity_min": 8.090315128739114, "cost2_max": 0.0, "cost1_mean": 340.6845573716914, "system_level_velocity_mean": 13.440424164592187, "cost1_min": 13.841719493157946, "outflow_rate_min": 472.99230095463946, "system_level_velocity_max": 17.60029222136843, "cost2_min": -0.6616547686676468, "cost1_max": 453.8495057306393, "outflow_rate_mean": 1066.4685644427082, "cost2_mean": -0.07352891785454525, "outflow_rate_max": 1289.7387721671398}, "done": false, "iterations_since_restore": 149, "episode_reward_min": 38.12518973704561, "episode_reward_max": 1123.2817141508872, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcda0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcf28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc0b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11956.069, "num_steps_sampled": 5920960, "num_steps_trained": 5920960, "grad_time_ms": 9618.05, "default": {"total_loss": 27.7727108001709, "entropy": 0.8914607167243958, "vf_explained_var": 0.8530020117759705, "cur_kl_coeff": 0.2250000238418579, "cur_lr": 0.0005000000237487257, "vf_loss": 27.776607513427734, "policy_loss": -0.007635857909917831, "kl": 0.016605351120233536}, "update_time_ms": 7.344, "load_time_ms": 10.291}, "timestamp": 1557115743, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-09-03", "training_iteration": 149}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.304436683654785, "node_ip": "10.138.0.2", "episodes_total": 2568, "time_since_restore": 3216.4883732795715, "episode_reward_mean": 860.668240380261, "hostname": "flow-main", "timesteps_since_restore": 5960292, "timesteps_this_iter": 39332, "timesteps_total": 5960292, "pid": 24594, "time_total_s": 3216.4883732795715, "custom_metrics": {"system_level_velocity_min": 8.090315128739114, "cost2_max": 0.0, "cost1_mean": 340.7976235688311, "system_level_velocity_mean": 13.111712500539024, "cost1_min": 205.67523701845806, "outflow_rate_min": 813.4874319615554, "system_level_velocity_max": 17.303538656518505, "cost2_min": -0.6616547686676468, "cost1_max": 453.8495057306393, "outflow_rate_mean": 1063.4098202711054, "cost2_mean": -0.0768548959775635, "outflow_rate_max": 1289.7387721671398}, "done": false, "iterations_since_restore": 150, "episode_reward_min": 637.2272004787991, "episode_reward_max": 1117.8854809996992, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4c50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4e48>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11951.587, "num_steps_sampled": 5960292, "num_steps_trained": 5960292, "grad_time_ms": 9785.11, "default": {"total_loss": 20.435588836669922, "entropy": 0.8935643434524536, "vf_explained_var": 0.8876254558563232, "cur_kl_coeff": 0.22499999403953552, "cur_lr": 0.0005000000237487257, "vf_loss": 20.437572479248047, "policy_loss": -0.005572909023612738, "kl": 0.015950806438922882}, "update_time_ms": 7.594, "load_time_ms": 10.179}, "timestamp": 1557115766, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-09-26", "training_iteration": 150}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.003535509109497, "node_ip": "10.138.0.2", "episodes_total": 2583, "time_since_restore": 3237.491908788681, "episode_reward_mean": 852.0330530441997, "hostname": "flow-main", "timesteps_since_restore": 5999580, "timesteps_this_iter": 39288, "timesteps_total": 5999580, "pid": 24594, "time_total_s": 3237.491908788681, "custom_metrics": {"system_level_velocity_min": 8.274532768572415, "cost2_max": 0.0, "cost1_mean": 336.3511780114979, "system_level_velocity_mean": 12.950247718850655, "cost1_min": 212.42482093676247, "outflow_rate_min": 845.4810206974574, "system_level_velocity_max": 17.303538656518505, "cost2_min": -0.6616547686676468, "cost1_max": 453.8495057306393, "outflow_rate_mean": 1053.7375228120063, "cost2_mean": -0.0760697338220937, "outflow_rate_max": 1276.059644507363}, "done": false, "iterations_since_restore": 151, "episode_reward_min": 637.2272004787991, "episode_reward_max": 1117.8854809996992, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daeb8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daac8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11839.54, "num_steps_sampled": 5999580, "num_steps_trained": 5999580, "grad_time_ms": 9888.576, "default": {"total_loss": 20.4169864654541, "entropy": 0.9361109733581543, "vf_explained_var": 0.89251708984375, "cur_kl_coeff": 0.2250000238418579, "cur_lr": 0.0005000000237487257, "vf_loss": 20.42131233215332, "policy_loss": -0.00784249696880579, "kl": 0.01563108339905739}, "update_time_ms": 7.462, "load_time_ms": 10.762}, "timestamp": 1557115787, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_04-09-47", "training_iteration": 151}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.451603889465332, "node_ip": "10.138.0.2", "episodes_total": 2601, "time_since_restore": 3259.9435126781464, "episode_reward_mean": 852.405719401911, "hostname": "flow-main", "timesteps_since_restore": 6038179, "timesteps_this_iter": 38599, "timesteps_total": 6038179, "pid": 24594, "time_total_s": 3259.9435126781464, "custom_metrics": {"system_level_velocity_min": 8.274532768572415, "cost2_max": 0.0, "cost1_mean": 332.5744595306738, "system_level_velocity_mean": 12.803042950911747, "cost1_min": 212.42482093676247, "outflow_rate_min": 845.4810206974574, "system_level_velocity_max": 17.303538656518505, "cost2_min": -0.6616547686676468, "cost1_max": 453.8495057306393, "outflow_rate_mean": 1048.0551936185666, "cost2_mean": -0.06541306477298446, "outflow_rate_max": 1276.059644507363}, "done": false, "iterations_since_restore": 152, "episode_reward_min": 699.2708751502354, "episode_reward_max": 1117.8854809996992, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d83c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8978>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11783.336, "num_steps_sampled": 6038179, "num_steps_trained": 6038179, "grad_time_ms": 10126.117, "default": {"total_loss": 25.025976181030273, "entropy": 0.8935475945472717, "vf_explained_var": 0.8705857992172241, "cur_kl_coeff": 0.2250000238418579, "cur_lr": 0.0005000000237487257, "vf_loss": 25.028793334960938, "policy_loss": -0.006304201669991016, "kl": 0.015496843494474888}, "update_time_ms": 7.567, "load_time_ms": 10.489}, "timestamp": 1557115809, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_04-10-09", "training_iteration": 152}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.215306043624878, "node_ip": "10.138.0.2", "episodes_total": 2620, "time_since_restore": 3282.1588187217712, "episode_reward_mean": 858.4202307639957, "hostname": "flow-main", "timesteps_since_restore": 6076497, "timesteps_this_iter": 38318, "timesteps_total": 6076497, "pid": 24594, "time_total_s": 3282.1588187217712, "custom_metrics": {"system_level_velocity_min": 8.963772382628651, "cost2_max": 0.0, "cost1_mean": 333.08457339083486, "system_level_velocity_mean": 12.815147611900779, "cost1_min": 230.32578289267758, "outflow_rate_min": 857.6591042130759, "system_level_velocity_max": 17.303538656518505, "cost2_min": -0.6616547686676468, "cost1_max": 453.8495057306393, "outflow_rate_mean": 1048.8580744977082, "cost2_mean": -0.07066216419742477, "outflow_rate_max": 1276.059644507363}, "done": false, "iterations_since_restore": 153, "episode_reward_min": 708.8245358424018, "episode_reward_max": 1117.8854809996992, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc320>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11815.753, "num_steps_sampled": 6076497, "num_steps_trained": 6076497, "grad_time_ms": 10351.854, "default": {"total_loss": 29.891738891601562, "entropy": 0.9355629086494446, "vf_explained_var": 0.8498647809028625, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 29.89580535888672, "policy_loss": -0.007407974451780319, "kl": 0.014852526597678661}, "update_time_ms": 7.481, "load_time_ms": 10.787}, "timestamp": 1557115831, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-10-31", "training_iteration": 153}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.67476224899292, "node_ip": "10.138.0.2", "episodes_total": 2638, "time_since_restore": 3304.833580970764, "episode_reward_mean": 854.8873540756424, "hostname": "flow-main", "timesteps_since_restore": 6115114, "timesteps_this_iter": 38617, "timesteps_total": 6115114, "pid": 24594, "time_total_s": 3304.833580970764, "custom_metrics": {"system_level_velocity_min": 8.963772382628651, "cost2_max": 0.0, "cost1_mean": 332.0884454043131, "system_level_velocity_mean": 12.776055574932586, "cost1_min": 230.32578289267758, "outflow_rate_min": 857.6591042130759, "system_level_velocity_max": 17.303538656518505, "cost2_min": -0.6616547686676468, "cost1_max": 453.8495057306393, "outflow_rate_mean": 1045.6673275291673, "cost2_mean": -0.06602706153184218, "outflow_rate_max": 1276.059644507363}, "done": false, "iterations_since_restore": 154, "episode_reward_min": 698.7436040185027, "episode_reward_max": 1117.8854809996992, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e15c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1c88>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11876.46, "num_steps_sampled": 6115114, "num_steps_trained": 6115114, "grad_time_ms": 10351.834, "default": {"total_loss": 24.79507827758789, "entropy": 0.8921940922737122, "vf_explained_var": 0.8678325414657593, "cur_kl_coeff": 0.2250000238418579, "cur_lr": 0.0005000000237487257, "vf_loss": 24.80206871032715, "policy_loss": -0.011273946613073349, "kl": 0.019021283835172653}, "update_time_ms": 7.48, "load_time_ms": 10.814}, "timestamp": 1557115854, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_04-10-54", "training_iteration": 154}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.579680919647217, "node_ip": "10.138.0.2", "episodes_total": 2656, "time_since_restore": 3326.4132618904114, "episode_reward_mean": 846.8890284264294, "hostname": "flow-main", "timesteps_since_restore": 6153485, "timesteps_this_iter": 38371, "timesteps_total": 6153485, "pid": 24594, "time_total_s": 3326.4132618904114, "custom_metrics": {"system_level_velocity_min": 8.963772382628651, "cost2_max": 0.0, "cost1_mean": 328.86048474068565, "system_level_velocity_mean": 12.650314013958319, "cost1_min": 230.32578289267758, "outflow_rate_min": 857.6591042130759, "system_level_velocity_max": 16.692941051000766, "cost2_min": -0.5183027304067498, "cost1_max": 442.91710955107635, "outflow_rate_mean": 1042.4490948156774, "cost2_mean": -0.05134591418490695, "outflow_rate_max": 1247.453822242041}, "done": false, "iterations_since_restore": 155, "episode_reward_min": 698.7436040185027, "episode_reward_max": 1045.2657726427262, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dac18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11923.841, "num_steps_sampled": 6153485, "num_steps_trained": 6153485, "grad_time_ms": 10305.056, "default": {"total_loss": 25.381479263305664, "entropy": 0.9688815474510193, "vf_explained_var": 0.8498367667198181, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 25.387123107910156, "policy_loss": -0.009425081312656403, "kl": 0.01680588163435459}, "update_time_ms": 7.562, "load_time_ms": 10.762}, "timestamp": 1557115876, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_04-11-16", "training_iteration": 155}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.219682693481445, "node_ip": "10.138.0.2", "episodes_total": 2670, "time_since_restore": 3348.632944583893, "episode_reward_mean": 844.3042378340739, "hostname": "flow-main", "timesteps_since_restore": 6192019, "timesteps_this_iter": 38534, "timesteps_total": 6192019, "pid": 24594, "time_total_s": 3348.632944583893, "custom_metrics": {"system_level_velocity_min": 8.963772382628651, "cost2_max": 0.0, "cost1_mean": 327.70263984537115, "system_level_velocity_mean": 12.609673098024281, "cost1_min": 230.32578289267758, "outflow_rate_min": 857.6591042130759, "system_level_velocity_max": 16.692941051000766, "cost2_min": -0.5183027304067498, "cost1_max": 442.91710955107635, "outflow_rate_mean": 1039.84329466881, "cost2_mean": -0.04533069862614306, "outflow_rate_max": 1247.453822242041}, "done": false, "iterations_since_restore": 156, "episode_reward_min": 684.9102926614923, "episode_reward_max": 1045.2657726427262, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcf28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dcda0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11924.095, "num_steps_sampled": 6192019, "num_steps_trained": 6192019, "grad_time_ms": 10283.333, "default": {"total_loss": 19.973291397094727, "entropy": 0.8896628618240356, "vf_explained_var": 0.8931339383125305, "cur_kl_coeff": 0.2250000238418579, "cur_lr": 0.0005000000237487257, "vf_loss": 19.977102279663086, "policy_loss": -0.00755950715392828, "kl": 0.016659708693623543}, "update_time_ms": 7.526, "load_time_ms": 11.4}, "timestamp": 1557115898, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "date": "2019-05-06_04-11-38", "training_iteration": 156}
{"episode_len_mean": 700.0, "time_this_iter_s": 23.483335733413696, "node_ip": "10.138.0.2", "episodes_total": 2689, "time_since_restore": 3372.1162803173065, "episode_reward_mean": 853.6995764354115, "hostname": "flow-main", "timesteps_since_restore": 6230870, "timesteps_this_iter": 38851, "timesteps_total": 6230870, "pid": 24594, "time_total_s": 3372.1162803173065, "custom_metrics": {"system_level_velocity_min": 8.963772382628651, "cost2_max": 0.0, "cost1_mean": 335.5923686423276, "system_level_velocity_mean": 12.889089802894407, "cost1_min": 230.32578289267758, "outflow_rate_min": 857.6591042130759, "system_level_velocity_max": 16.692941051000766, "cost2_min": -0.5183027304067498, "cost1_max": 442.91710955107635, "outflow_rate_mean": 1053.0848795745028, "cost2_mean": -0.036304666003205935, "outflow_rate_max": 1247.453822242041}, "done": false, "iterations_since_restore": 157, "episode_reward_min": 684.9102926614923, "episode_reward_max": 1045.2657726427262, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1400>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11954.754, "num_steps_sampled": 6230870, "num_steps_trained": 6230870, "grad_time_ms": 10215.157, "default": {"total_loss": 27.601903915405273, "entropy": 0.8844193816184998, "vf_explained_var": 0.8520658016204834, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 27.607135772705078, "policy_loss": -0.009377322159707546, "kl": 0.01843155175447464}, "update_time_ms": 7.558, "load_time_ms": 11.418}, "timestamp": 1557115921, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-12-01", "training_iteration": 157}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.89877414703369, "node_ip": "10.138.0.2", "episodes_total": 2708, "time_since_restore": 3394.01505446434, "episode_reward_mean": 854.7855757677065, "hostname": "flow-main", "timesteps_since_restore": 6268913, "timesteps_this_iter": 38043, "timesteps_total": 6268913, "pid": 24594, "time_total_s": 3394.01505446434, "custom_metrics": {"system_level_velocity_min": 8.963772382628651, "cost2_max": 0.0, "cost1_mean": 337.3067404302179, "system_level_velocity_mean": 12.951201998469225, "cost1_min": 230.32578289267758, "outflow_rate_min": 857.6591042130759, "system_level_velocity_max": 16.62945615402262, "cost2_min": -0.6384613447900316, "cost1_max": 439.94354322521974, "outflow_rate_mean": 1051.6047668897436, "cost2_mean": -0.0434326273618455, "outflow_rate_max": 1234.6554584432022}, "done": false, "iterations_since_restore": 158, "episode_reward_min": 684.9102926614923, "episode_reward_max": 1099.1519927272489, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dac18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11920.649, "num_steps_sampled": 6268913, "num_steps_trained": 6268913, "grad_time_ms": 10194.125, "default": {"total_loss": 26.369314193725586, "entropy": 0.9057400226593018, "vf_explained_var": 0.8658132553100586, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 26.37273406982422, "policy_loss": -0.0071066380478441715, "kl": 0.016379525884985924}, "update_time_ms": 7.579, "load_time_ms": 11.5}, "timestamp": 1557115943, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-12-23", "training_iteration": 158}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.63963031768799, "node_ip": "10.138.0.2", "episodes_total": 2725, "time_since_restore": 3415.654684782028, "episode_reward_mean": 858.0669913365851, "hostname": "flow-main", "timesteps_since_restore": 6307639, "timesteps_this_iter": 38726, "timesteps_total": 6307639, "pid": 24594, "time_total_s": 3415.654684782028, "custom_metrics": {"system_level_velocity_min": 9.358093609055999, "cost2_max": 0.0, "cost1_mean": 338.0520854233396, "system_level_velocity_mean": 12.97514766751571, "cost1_min": 241.78773444333135, "outflow_rate_min": 898.7810047505144, "system_level_velocity_max": 16.62945615402262, "cost2_min": -0.6384613447900316, "cost1_max": 439.94354322521974, "outflow_rate_mean": 1048.1585315201523, "cost2_mean": -0.0365954958145025, "outflow_rate_max": 1219.8441091761213}, "done": false, "iterations_since_restore": 159, "episode_reward_min": 684.9102926614923, "episode_reward_max": 1099.1519927272489, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1b00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1f98>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11880.773, "num_steps_sampled": 6307639, "num_steps_trained": 6307639, "grad_time_ms": 10168.778, "default": {"total_loss": 27.24090003967285, "entropy": 0.8948734402656555, "vf_explained_var": 0.8597266674041748, "cur_kl_coeff": 0.22500000894069672, "cur_lr": 0.0005000000237487257, "vf_loss": 27.245582580566406, "policy_loss": -0.009201949462294579, "kl": 0.02010510303080082}, "update_time_ms": 7.468, "load_time_ms": 11.607}, "timestamp": 1557115965, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-12-45", "training_iteration": 159}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.007983684539795, "node_ip": "10.138.0.2", "episodes_total": 2744, "time_since_restore": 3437.662668466568, "episode_reward_mean": 859.8918433776169, "hostname": "flow-main", "timesteps_since_restore": 6345790, "timesteps_this_iter": 38151, "timesteps_total": 6345790, "pid": 24594, "time_total_s": 3437.662668466568, "custom_metrics": {"system_level_velocity_min": 9.358093609055999, "cost2_max": 0.0, "cost1_mean": 343.20994188716077, "system_level_velocity_mean": 13.179033034686839, "cost1_min": 241.78773444333135, "outflow_rate_min": 898.7810047505144, "system_level_velocity_max": 16.62945615402262, "cost2_min": -0.6384613447900316, "cost1_max": 439.94354322521974, "outflow_rate_mean": 1055.3147248945743, "cost2_mean": -0.043375219370767916, "outflow_rate_max": 1219.8441091761213}, "done": false, "iterations_since_restore": 160, "episode_reward_min": 674.0329232254444, "episode_reward_max": 1099.1519927272489, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751c9d30>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11926.401, "num_steps_sampled": 6345790, "num_steps_trained": 6345790, "grad_time_ms": 10094.18, "default": {"total_loss": 23.939876556396484, "entropy": 0.9129788279533386, "vf_explained_var": 0.8752392530441284, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 23.943113327026367, "policy_loss": -0.0073033529333770275, "kl": 0.012046664953231812}, "update_time_ms": 7.255, "load_time_ms": 11.502}, "timestamp": 1557115987, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-13-07", "training_iteration": 160}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.044268369674683, "node_ip": "10.138.0.2", "episodes_total": 2761, "time_since_restore": 3459.7069368362427, "episode_reward_mean": 858.371498738872, "hostname": "flow-main", "timesteps_since_restore": 6382892, "timesteps_this_iter": 37102, "timesteps_total": 6382892, "pid": 24594, "time_total_s": 3459.7069368362427, "custom_metrics": {"system_level_velocity_min": 9.358093609055999, "cost2_max": 0.0, "cost1_mean": 342.0479735498248, "system_level_velocity_mean": 13.144843291467186, "cost1_min": 241.78773444333135, "outflow_rate_min": 898.7810047505144, "system_level_velocity_max": 16.62945615402262, "cost2_min": -0.6384613447900316, "cost1_max": 439.94354322521974, "outflow_rate_mean": 1049.606782116761, "cost2_mean": -0.043544599909757294, "outflow_rate_max": 1238.052240570905}, "done": false, "iterations_since_restore": 161, "episode_reward_min": 674.0329232254444, "episode_reward_max": 1099.1519927272489, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc1d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ef0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12030.181, "num_steps_sampled": 6382892, "num_steps_trained": 6382892, "grad_time_ms": 10094.872, "default": {"total_loss": 24.586904525756836, "entropy": 0.9327726364135742, "vf_explained_var": 0.8575335741043091, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 24.588272094726562, "policy_loss": -0.006048733368515968, "kl": 0.013864953070878983}, "update_time_ms": 7.183, "load_time_ms": 10.943}, "timestamp": 1557116009, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-13-29", "training_iteration": 161}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.284593105316162, "node_ip": "10.138.0.2", "episodes_total": 2782, "time_since_restore": 3481.991529941559, "episode_reward_mean": 849.3712338355402, "hostname": "flow-main", "timesteps_since_restore": 6420716, "timesteps_this_iter": 37824, "timesteps_total": 6420716, "pid": 24594, "time_total_s": 3481.991529941559, "custom_metrics": {"system_level_velocity_min": 9.358093609055999, "cost2_max": 0.0, "cost1_mean": 343.05718553623666, "system_level_velocity_mean": 13.191227999133257, "cost1_min": 241.78773444333135, "outflow_rate_min": 900.4472702840335, "system_level_velocity_max": 16.62945615402262, "cost2_min": -1.1067196762185179, "cost1_max": 439.94354322521974, "outflow_rate_mean": 1048.6231068137165, "cost2_mean": -0.06865394107601695, "outflow_rate_max": 1238.052240570905}, "done": false, "iterations_since_restore": 162, "episode_reward_min": 674.0329232254444, "episode_reward_max": 1099.1519927272489, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dce80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da6a0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12135.133, "num_steps_sampled": 6420716, "num_steps_trained": 6420716, "grad_time_ms": 9972.433, "default": {"total_loss": 30.639923095703125, "entropy": 0.8952649235725403, "vf_explained_var": 0.834950864315033, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 30.643604278564453, "policy_loss": -0.008170834742486477, "kl": 0.013300121761858463}, "update_time_ms": 7.193, "load_time_ms": 11.335}, "timestamp": 1557116031, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 21, "date": "2019-05-06_04-13-51", "training_iteration": 162}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.374033451080322, "node_ip": "10.138.0.2", "episodes_total": 2799, "time_since_restore": 3503.365563392639, "episode_reward_mean": 840.6334626947388, "hostname": "flow-main", "timesteps_since_restore": 6458658, "timesteps_this_iter": 37942, "timesteps_total": 6458658, "pid": 24594, "time_total_s": 3503.365563392639, "custom_metrics": {"system_level_velocity_min": 9.413417015142297, "cost2_max": 0.0, "cost1_mean": 340.36782536799956, "system_level_velocity_mean": 13.093943314333401, "cost1_min": 245.24076433638243, "outflow_rate_min": 900.4472702840335, "system_level_velocity_max": 16.62945615402262, "cost2_min": -1.1067196762185179, "cost1_max": 439.94354322521974, "outflow_rate_mean": 1045.4547922716058, "cost2_mean": -0.06611572376575821, "outflow_rate_max": 1238.052240570905}, "done": false, "iterations_since_restore": 163, "episode_reward_min": 674.0329232254444, "episode_reward_max": 1099.1519927272489, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc1d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daeb8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da0b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12125.722, "num_steps_sampled": 6458658, "num_steps_trained": 6458658, "grad_time_ms": 9898.026, "default": {"total_loss": 24.06807518005371, "entropy": 0.9010890126228333, "vf_explained_var": 0.8689602017402649, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 24.071935653686523, "policy_loss": -0.008393623866140842, "kl": 0.013427261263132095}, "update_time_ms": 7.259, "load_time_ms": 11.123}, "timestamp": 1557116053, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-14-13", "training_iteration": 163}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.07854676246643, "node_ip": "10.138.0.2", "episodes_total": 2814, "time_since_restore": 3524.4441101551056, "episode_reward_mean": 838.5864718919975, "hostname": "flow-main", "timesteps_since_restore": 6497163, "timesteps_this_iter": 38505, "timesteps_total": 6497163, "pid": 24594, "time_total_s": 3524.4441101551056, "custom_metrics": {"system_level_velocity_min": 10.182599168314407, "cost2_max": 0.0, "cost1_mean": 341.96367407531704, "system_level_velocity_mean": 13.157020010212202, "cost1_min": 258.96233527321334, "outflow_rate_min": 907.5968321438553, "system_level_velocity_max": 16.25506868515571, "cost2_min": -1.1067196762185179, "cost1_max": 430.5108133507167, "outflow_rate_mean": 1051.3585768615187, "cost2_mean": -0.06731011925785657, "outflow_rate_max": 1238.052240570905}, "done": false, "iterations_since_restore": 164, "episode_reward_min": 674.0329232254444, "episode_reward_max": 1068.0487526880997, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d8550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dc550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da438>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12008.925, "num_steps_sampled": 6497163, "num_steps_trained": 6497163, "grad_time_ms": 9854.433, "default": {"total_loss": 20.790908813476562, "entropy": 0.9284403324127197, "vf_explained_var": 0.8608646392822266, "cur_kl_coeff": 0.33750006556510925, "cur_lr": 0.0005000000237487257, "vf_loss": 20.79204750061035, "policy_loss": -0.006133830640465021, "kl": 0.014791218563914299}, "update_time_ms": 7.324, "load_time_ms": 11.217}, "timestamp": 1557116074, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_04-14-34", "training_iteration": 164}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.976917266845703, "node_ip": "10.138.0.2", "episodes_total": 2829, "time_since_restore": 3546.4210274219513, "episode_reward_mean": 837.3343914458969, "hostname": "flow-main", "timesteps_since_restore": 6536440, "timesteps_this_iter": 39277, "timesteps_total": 6536440, "pid": 24594, "time_total_s": 3546.4210274219513, "custom_metrics": {"system_level_velocity_min": 10.182599168314407, "cost2_max": 0.0, "cost1_mean": 341.617088214025, "system_level_velocity_mean": 13.14691498798517, "cost1_min": 258.96233527321334, "outflow_rate_min": 881.5321304870895, "system_level_velocity_max": 16.25506868515571, "cost2_min": -1.1067196762185179, "cost1_max": 430.5108133507167, "outflow_rate_mean": 1054.0260569736117, "cost2_mean": -0.07377538490574308, "outflow_rate_max": 1238.052240570905}, "done": false, "iterations_since_restore": 165, "episode_reward_min": 696.0626639255424, "episode_reward_max": 1068.0487526880997, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da4e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976841240>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12088.91, "num_steps_sampled": 6536440, "num_steps_trained": 6536440, "grad_time_ms": 9813.976, "default": {"total_loss": 19.238595962524414, "entropy": 0.9032829403877258, "vf_explained_var": 0.8794093132019043, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 19.23806381225586, "policy_loss": -0.0038270256482064724, "kl": 0.012913965620100498}, "update_time_ms": 7.302, "load_time_ms": 11.238}, "timestamp": 1557116096, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_04-14-56", "training_iteration": 165}
{"episode_len_mean": 700.0, "time_this_iter_s": 22.243786096572876, "node_ip": "10.138.0.2", "episodes_total": 2848, "time_since_restore": 3568.664813518524, "episode_reward_mean": 845.8178898503638, "hostname": "flow-main", "timesteps_since_restore": 6575939, "timesteps_this_iter": 39499, "timesteps_total": 6575939, "pid": 24594, "time_total_s": 3568.664813518524, "custom_metrics": {"system_level_velocity_min": 10.410506502554428, "cost2_max": 0.0, "cost1_mean": 342.454541909892, "system_level_velocity_mean": 13.179533043976889, "cost1_min": 266.9042129938269, "outflow_rate_min": 881.5321304870895, "system_level_velocity_max": 16.25506868515571, "cost2_min": -1.1067196762185179, "cost1_max": 430.5108133507167, "outflow_rate_mean": 1059.6627402652596, "cost2_mean": -0.07133411656063608, "outflow_rate_max": 1238.052240570905}, "done": false, "iterations_since_restore": 166, "episode_reward_min": 696.0626639255424, "episode_reward_max": 1068.0487526880997, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e17b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1a58>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 12110.599, "num_steps_sampled": 6575939, "num_steps_trained": 6575939, "grad_time_ms": 9794.411, "default": {"total_loss": 23.915525436401367, "entropy": 0.8877138495445251, "vf_explained_var": 0.8796132206916809, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 23.918485641479492, "policy_loss": -0.007194234058260918, "kl": 0.012545796111226082}, "update_time_ms": 7.294, "load_time_ms": 11.143}, "timestamp": 1557116118, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-15-18", "training_iteration": 166}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.338731288909912, "node_ip": "10.138.0.2", "episodes_total": 2867, "time_since_restore": 3589.003544807434, "episode_reward_mean": 845.4379087360056, "hostname": "flow-main", "timesteps_since_restore": 6614885, "timesteps_this_iter": 38946, "timesteps_total": 6614885, "pid": 24594, "time_total_s": 3589.003544807434, "custom_metrics": {"system_level_velocity_min": 10.410506502554428, "cost2_max": 0.0, "cost1_mean": 340.91393405725205, "system_level_velocity_mean": 13.124478453666542, "cost1_min": 266.9042129938269, "outflow_rate_min": 881.5321304870895, "system_level_velocity_max": 17.537796997903836, "cost2_min": -1.1067196762185179, "cost1_max": 461.0280131429528, "outflow_rate_mean": 1064.5366426673372, "cost2_mean": -0.07834150246207178, "outflow_rate_max": 1310.4050674292846}, "done": false, "iterations_since_restore": 167, "episode_reward_min": 696.0626639255424, "episode_reward_max": 984.3610233045848, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d45f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4b70>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11900.835, "num_steps_sampled": 6614885, "num_steps_trained": 6614885, "grad_time_ms": 9689.158, "default": {"total_loss": 25.11084747314453, "entropy": 0.9371904134750366, "vf_explained_var": 0.8713752627372742, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 25.113569259643555, "policy_loss": -0.007016576360911131, "kl": 0.01272892951965332}, "update_time_ms": 7.254, "load_time_ms": 11.211}, "timestamp": 1557116139, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-15-39", "training_iteration": 167}
{"episode_len_mean": 700.0, "time_this_iter_s": 19.45316767692566, "node_ip": "10.138.0.2", "episodes_total": 2885, "time_since_restore": 3608.4567124843597, "episode_reward_mean": 850.9129414749956, "hostname": "flow-main", "timesteps_since_restore": 6652995, "timesteps_this_iter": 38110, "timesteps_total": 6652995, "pid": 24594, "time_total_s": 3608.4567124843597, "custom_metrics": {"system_level_velocity_min": 9.594847805678965, "cost2_max": 0.0, "cost1_mean": 339.939733208382, "system_level_velocity_mean": 13.09389675744004, "cost1_min": 240.81440485930858, "outflow_rate_min": 867.79622337594, "system_level_velocity_max": 17.537796997903836, "cost2_min": -0.5537128395825189, "cost1_max": 461.0280131429528, "outflow_rate_mean": 1067.6840759138295, "cost2_mean": -0.06855768959250425, "outflow_rate_max": 1310.4050674292846}, "done": false, "iterations_since_restore": 168, "episode_reward_min": 713.6336562730686, "episode_reward_max": 984.3610233045848, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da4e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da860>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11828.027, "num_steps_sampled": 6652995, "num_steps_trained": 6652995, "grad_time_ms": 9518.364, "default": {"total_loss": 25.58765411376953, "entropy": 0.8868839740753174, "vf_explained_var": 0.8551259636878967, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 25.59035301208496, "policy_loss": -0.0069230832159519196, "kl": 0.012511131353676319}, "update_time_ms": 7.384, "load_time_ms": 11.057}, "timestamp": 1557116158, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_04-15-58", "training_iteration": 168}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.620994329452515, "node_ip": "10.138.0.2", "episodes_total": 2904, "time_since_restore": 3629.0777068138123, "episode_reward_mean": 854.6912221641082, "hostname": "flow-main", "timesteps_since_restore": 6691382, "timesteps_this_iter": 38387, "timesteps_total": 6691382, "pid": 24594, "time_total_s": 3629.0777068138123, "custom_metrics": {"system_level_velocity_min": 9.594847805678965, "cost2_max": 0.0, "cost1_mean": 338.20171908435367, "system_level_velocity_mean": 13.03823933681215, "cost1_min": 240.81440485930858, "outflow_rate_min": 867.79622337594, "system_level_velocity_max": 17.537796997903836, "cost2_min": -0.5181289459775669, "cost1_max": 461.0280131429528, "outflow_rate_mean": 1065.9815954425226, "cost2_mean": -0.06552074369676618, "outflow_rate_max": 1310.4050674292846}, "done": false, "iterations_since_restore": 169, "episode_reward_min": 648.6662348962208, "episode_reward_max": 1004.2149977600807, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1cc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e16a0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11744.565, "num_steps_sampled": 6691382, "num_steps_trained": 6691382, "grad_time_ms": 9500.957, "default": {"total_loss": 25.572021484375, "entropy": 0.9778600335121155, "vf_explained_var": 0.841903030872345, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 25.573680877685547, "policy_loss": -0.005716635845601559, "kl": 0.012020868249237537}, "update_time_ms": 7.402, "load_time_ms": 11.028}, "timestamp": 1557116179, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-16-19", "training_iteration": 169}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.8884859085083, "node_ip": "10.138.0.2", "episodes_total": 2917, "time_since_restore": 3649.9661927223206, "episode_reward_mean": 849.6782536267806, "hostname": "flow-main", "timesteps_since_restore": 6730679, "timesteps_this_iter": 39297, "timesteps_total": 6730679, "pid": 24594, "time_total_s": 3649.9661927223206, "custom_metrics": {"system_level_velocity_min": 9.40502635486274, "cost2_max": 0.0, "cost1_mean": 332.55237016388537, "system_level_velocity_mean": 12.838354612600304, "cost1_min": 235.6619963554969, "outflow_rate_min": 867.79622337594, "system_level_velocity_max": 17.537796997903836, "cost2_min": -0.5181289459775669, "cost1_max": 461.0280131429528, "outflow_rate_mean": 1057.2174705366929, "cost2_mean": -0.0699716339769057, "outflow_rate_max": 1310.4050674292846}, "done": false, "iterations_since_restore": 170, "episode_reward_min": 648.6662348962208, "episode_reward_max": 1004.2149977600807, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da8d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da518>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da080>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11608.91, "num_steps_sampled": 6730679, "num_steps_trained": 6730679, "grad_time_ms": 9524.118, "default": {"total_loss": 17.480791091918945, "entropy": 0.9860672950744629, "vf_explained_var": 0.8934736847877502, "cur_kl_coeff": 0.33750006556510925, "cur_lr": 0.0005000000237487257, "vf_loss": 17.483755111694336, "policy_loss": -0.007668086793273687, "kl": 0.013940399512648582}, "update_time_ms": 7.278, "load_time_ms": 11.163}, "timestamp": 1557116200, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 13, "date": "2019-05-06_04-16-40", "training_iteration": 170}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.042091608047485, "node_ip": "10.138.0.2", "episodes_total": 2932, "time_since_restore": 3671.008284330368, "episode_reward_mean": 846.8247015053124, "hostname": "flow-main", "timesteps_since_restore": 6770742, "timesteps_this_iter": 40063, "timesteps_total": 6770742, "pid": 24594, "time_total_s": 3671.008284330368, "custom_metrics": {"system_level_velocity_min": 9.40502635486274, "cost2_max": 0.0, "cost1_mean": 333.5636152684141, "system_level_velocity_mean": 12.873046818093878, "cost1_min": 235.6619963554969, "outflow_rate_min": 867.79622337594, "system_level_velocity_max": 17.537796997903836, "cost2_min": -0.5181289459775669, "cost1_max": 461.0280131429528, "outflow_rate_mean": 1061.9859712909765, "cost2_mean": -0.06446552619422675, "outflow_rate_max": 1310.4050674292846}, "done": false, "iterations_since_restore": 171, "episode_reward_min": 648.6662348962208, "episode_reward_max": 1016.1022362871299, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dac88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dabe0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dacc0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11552.171, "num_steps_sampled": 6770742, "num_steps_trained": 6770742, "grad_time_ms": 9479.957, "default": {"total_loss": 18.646286010742188, "entropy": 0.9582775831222534, "vf_explained_var": 0.8932406306266785, "cur_kl_coeff": 0.33750006556510925, "cur_lr": 0.0005000000237487257, "vf_loss": 18.647876739501953, "policy_loss": -0.005736333318054676, "kl": 0.01227708999067545}, "update_time_ms": 7.386, "load_time_ms": 11.817}, "timestamp": 1557116221, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_04-17-01", "training_iteration": 171}
{"episode_len_mean": 693.38, "time_this_iter_s": 21.492564916610718, "node_ip": "10.138.0.2", "episodes_total": 2951, "time_since_restore": 3692.5008492469788, "episode_reward_mean": 838.2915864814818, "hostname": "flow-main", "timesteps_since_restore": 6809351, "timesteps_this_iter": 38609, "timesteps_total": 6809351, "pid": 24594, "time_total_s": 3692.5008492469788, "custom_metrics": {"system_level_velocity_min": 9.40502635486274, "cost2_max": 0.0, "cost1_mean": 330.21171874282044, "system_level_velocity_mean": 12.914624080119339, "cost1_min": 25.642814727936763, "outflow_rate_min": 513.4251148892347, "system_level_velocity_max": 18.417516041500246, "cost2_min": -0.5181289459775669, "cost1_max": 461.0280131429528, "outflow_rate_mean": 1054.2454393844926, "cost2_mean": -0.06564074834794159, "outflow_rate_max": 1310.4050674292846}, "done": false, "iterations_since_restore": 172, "episode_reward_min": 61.83399442799412, "episode_reward_max": 1016.1022362871299, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1c50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e12b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11476.701, "num_steps_sampled": 6809351, "num_steps_trained": 6809351, "grad_time_ms": 9476.45, "default": {"total_loss": 22.58432388305664, "entropy": 0.9248409867286682, "vf_explained_var": 0.8774558305740356, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 22.58631706237793, "policy_loss": -0.0065559581853449345, "kl": 0.013517594896256924}, "update_time_ms": 7.309, "load_time_ms": 11.329}, "timestamp": 1557116242, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-17-22", "training_iteration": 172}
{"episode_len_mean": 693.38, "time_this_iter_s": 19.099947452545166, "node_ip": "10.138.0.2", "episodes_total": 2970, "time_since_restore": 3711.600796699524, "episode_reward_mean": 836.445207077017, "hostname": "flow-main", "timesteps_since_restore": 6848040, "timesteps_this_iter": 38689, "timesteps_total": 6848040, "pid": 24594, "time_total_s": 3711.600796699524, "custom_metrics": {"system_level_velocity_min": 9.40502635486274, "cost2_max": 0.0, "cost1_mean": 329.8906867386744, "system_level_velocity_mean": 12.900939033928095, "cost1_min": 25.642814727936763, "outflow_rate_min": 513.4251148892347, "system_level_velocity_max": 18.417516041500246, "cost2_min": -0.4204472853671107, "cost1_max": 432.48853790599344, "outflow_rate_mean": 1054.1379236249795, "cost2_mean": -0.06000192269566965, "outflow_rate_max": 1258.2861096126787}, "done": false, "iterations_since_restore": 173, "episode_reward_min": 61.83399442799412, "episode_reward_max": 1021.3242680985852, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4e80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4518>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11391.385, "num_steps_sampled": 6848040, "num_steps_trained": 6848040, "grad_time_ms": 9335.668, "default": {"total_loss": 24.969562530517578, "entropy": 0.9884072542190552, "vf_explained_var": 0.8603188395500183, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 24.97099494934082, "policy_loss": -0.006123577244579792, "kl": 0.013906652107834816}, "update_time_ms": 7.309, "load_time_ms": 10.799}, "timestamp": 1557116261, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-17-41", "training_iteration": 173}
{"episode_len_mean": 693.38, "time_this_iter_s": 21.095081329345703, "node_ip": "10.138.0.2", "episodes_total": 2989, "time_since_restore": 3732.6958780288696, "episode_reward_mean": 833.0719755285841, "hostname": "flow-main", "timesteps_since_restore": 6886152, "timesteps_this_iter": 38112, "timesteps_total": 6886152, "pid": 24594, "time_total_s": 3732.6958780288696, "custom_metrics": {"system_level_velocity_min": 9.40502635486274, "cost2_max": 0.0, "cost1_mean": 327.066436436252, "system_level_velocity_mean": 12.798806534443857, "cost1_min": 25.642814727936763, "outflow_rate_min": 513.4251148892347, "system_level_velocity_max": 18.417516041500246, "cost2_min": -0.3915691784364742, "cost1_max": 435.8506687689512, "outflow_rate_mean": 1049.908478260597, "cost2_mean": -0.05771375485667821, "outflow_rate_max": 1281.2275114203462}, "done": false, "iterations_since_restore": 174, "episode_reward_min": 61.83399442799412, "episode_reward_max": 1032.6987102639957, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dac50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da9b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da0b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11410.74, "num_steps_sampled": 6886152, "num_steps_trained": 6886152, "grad_time_ms": 9318.186, "default": {"total_loss": 23.540651321411133, "entropy": 0.9493905305862427, "vf_explained_var": 0.8820370435714722, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 23.543888092041016, "policy_loss": -0.007550327107310295, "kl": 0.012781165540218353}, "update_time_ms": 7.321, "load_time_ms": 10.687}, "timestamp": 1557116282, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-18-02", "training_iteration": 174}
{"episode_len_mean": 693.38, "time_this_iter_s": 20.48225212097168, "node_ip": "10.138.0.2", "episodes_total": 3005, "time_since_restore": 3753.1781301498413, "episode_reward_mean": 830.2694469769608, "hostname": "flow-main", "timesteps_since_restore": 6924737, "timesteps_this_iter": 38585, "timesteps_total": 6924737, "pid": 24594, "time_total_s": 3753.1781301498413, "custom_metrics": {"system_level_velocity_min": 9.40502635486274, "cost2_max": 0.0, "cost1_mean": 328.3693571938766, "system_level_velocity_mean": 12.848022043463331, "cost1_min": 25.642814727936763, "outflow_rate_min": 513.4251148892347, "system_level_velocity_max": 18.417516041500246, "cost2_min": -0.42857142857142855, "cost1_max": 435.8506687689512, "outflow_rate_mean": 1052.769713848179, "cost2_mean": -0.05976455277919868, "outflow_rate_max": 1281.2275114203462}, "done": false, "iterations_since_restore": 175, "episode_reward_min": 61.83399442799412, "episode_reward_max": 1032.6987102639957, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daf60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da518>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da9e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11238.229, "num_steps_sampled": 6924737, "num_steps_trained": 6924737, "grad_time_ms": 9341.236, "default": {"total_loss": 23.420873641967773, "entropy": 0.9745247960090637, "vf_explained_var": 0.8669248223304749, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 23.42462730407715, "policy_loss": -0.008223874494433403, "kl": 0.013247220776975155}, "update_time_ms": 7.281, "load_time_ms": 10.628}, "timestamp": 1557116303, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_04-18-23", "training_iteration": 175}
{"episode_len_mean": 693.38, "time_this_iter_s": 21.859939336776733, "node_ip": "10.138.0.2", "episodes_total": 3022, "time_since_restore": 3775.038069486618, "episode_reward_mean": 828.5915896656677, "hostname": "flow-main", "timesteps_since_restore": 6963407, "timesteps_this_iter": 38670, "timesteps_total": 6963407, "pid": 24594, "time_total_s": 3775.038069486618, "custom_metrics": {"system_level_velocity_min": 10.118969310585392, "cost2_max": 0.0, "cost1_mean": 328.0199648451601, "system_level_velocity_mean": 12.82739606911642, "cost1_min": 25.642814727936763, "outflow_rate_min": 513.4251148892347, "system_level_velocity_max": 18.417516041500246, "cost2_min": -0.42857142857142855, "cost1_max": 435.8506687689512, "outflow_rate_mean": 1053.5624559650712, "cost2_mean": -0.05651225846489579, "outflow_rate_max": 1281.2275114203462}, "done": false, "iterations_since_restore": 176, "episode_reward_min": 61.83399442799412, "episode_reward_max": 1032.6987102639957, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3e48>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11056.184, "num_steps_sampled": 6963407, "num_steps_trained": 6963407, "grad_time_ms": 9484.703, "default": {"total_loss": 21.041030883789062, "entropy": 0.9897007346153259, "vf_explained_var": 0.8796809911727905, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 21.043813705444336, "policy_loss": -0.007143234368413687, "kl": 0.012914791703224182}, "update_time_ms": 7.579, "load_time_ms": 10.91}, "timestamp": 1557116325, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-18-45", "training_iteration": 176}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.247403383255005, "node_ip": "10.138.0.2", "episodes_total": 3037, "time_since_restore": 3796.285472869873, "episode_reward_mean": 835.8240056912695, "hostname": "flow-main", "timesteps_since_restore": 7002870, "timesteps_this_iter": 39463, "timesteps_total": 7002870, "pid": 24594, "time_total_s": 3796.285472869873, "custom_metrics": {"system_level_velocity_min": 10.118969310585392, "cost2_max": 0.0, "cost1_mean": 328.64836817398754, "system_level_velocity_mean": 12.687373685101027, "cost1_min": 255.84618539387944, "outflow_rate_min": 891.5859137843698, "system_level_velocity_max": 16.650269532416864, "cost2_min": -0.6806142169141502, "cost1_max": 435.8506687689512, "outflow_rate_mean": 1055.4611312832765, "cost2_mean": -0.06328563068453436, "outflow_rate_max": 1281.2275114203462}, "done": false, "iterations_since_restore": 177, "episode_reward_min": 676.3839028392142, "episode_reward_max": 1032.6987102639957, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da1d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d45f8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11149.32, "num_steps_sampled": 7002870, "num_steps_trained": 7002870, "grad_time_ms": 9481.627, "default": {"total_loss": 21.594274520874023, "entropy": 0.9457454085350037, "vf_explained_var": 0.881409764289856, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 21.598859786987305, "policy_loss": -0.009778492152690887, "kl": 0.015384181402623653}, "update_time_ms": 7.669, "load_time_ms": 10.539}, "timestamp": 1557116346, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_04-19-06", "training_iteration": 177}
{"episode_len_mean": 700.0, "time_this_iter_s": 21.722394943237305, "node_ip": "10.138.0.2", "episodes_total": 3054, "time_since_restore": 3818.0078678131104, "episode_reward_mean": 839.1117527376839, "hostname": "flow-main", "timesteps_since_restore": 7042423, "timesteps_this_iter": 39553, "timesteps_total": 7042423, "pid": 24594, "time_total_s": 3818.0078678131104, "custom_metrics": {"system_level_velocity_min": 10.010014057430586, "cost2_max": 0.0, "cost1_mean": 329.88337519645955, "system_level_velocity_mean": 12.736302231471425, "cost1_min": 255.84618539387944, "outflow_rate_min": 897.5515283976899, "system_level_velocity_max": 17.06674685406117, "cost2_min": -0.6806142169141502, "cost1_max": 447.5321801238615, "outflow_rate_mean": 1059.7633009917874, "cost2_mean": -0.061262161888081354, "outflow_rate_max": 1305.5676218636152}, "done": false, "iterations_since_restore": 178, "episode_reward_min": 684.9686925439773, "episode_reward_max": 1124.5573047508467, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4390>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11178.885, "num_steps_sampled": 7042423, "num_steps_trained": 7042423, "grad_time_ms": 9679.254, "default": {"total_loss": 24.23392677307129, "entropy": 0.9398452043533325, "vf_explained_var": 0.8632453083992004, "cur_kl_coeff": 0.3375000059604645, "cur_lr": 0.0005000000237487257, "vf_loss": 24.235862731933594, "policy_loss": -0.0066424147225916386, "kl": 0.01393943466246128}, "update_time_ms": 7.511, "load_time_ms": 10.08}, "timestamp": 1557116368, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-19-28", "training_iteration": 178}
{"episode_len_mean": 700.0, "time_this_iter_s": 19.85399317741394, "node_ip": "10.138.0.2", "episodes_total": 3073, "time_since_restore": 3837.8618609905243, "episode_reward_mean": 837.2485430316557, "hostname": "flow-main", "timesteps_since_restore": 7081935, "timesteps_this_iter": 39512, "timesteps_total": 7081935, "pid": 24594, "time_total_s": 3837.8618609905243, "custom_metrics": {"system_level_velocity_min": 9.947088055997936, "cost2_max": 0.0, "cost1_mean": 328.294252529028, "system_level_velocity_mean": 12.688493023266282, "cost1_min": 253.21820126304775, "outflow_rate_min": 897.000519933629, "system_level_velocity_max": 17.06674685406117, "cost2_min": -0.6806142169141502, "cost1_max": 447.5321801238615, "outflow_rate_mean": 1056.6363914911542, "cost2_mean": -0.06462290281444222, "outflow_rate_max": 1305.5676218636152}, "done": false, "iterations_since_restore": 179, "episode_reward_min": 684.9686925439773, "episode_reward_max": 1124.5573047508467, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751e1a58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da3c8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11240.575, "num_steps_sampled": 7081935, "num_steps_trained": 7081935, "grad_time_ms": 9540.169, "default": {"total_loss": 22.941713333129883, "entropy": 1.0062079429626465, "vf_explained_var": 0.8712964653968811, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 22.943899154663086, "policy_loss": -0.006627934519201517, "kl": 0.013165020383894444}, "update_time_ms": 7.436, "load_time_ms": 10.252}, "timestamp": 1557116388, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-19-48", "training_iteration": 179}
{"episode_len_mean": 693.34, "time_this_iter_s": 19.77030849456787, "node_ip": "10.138.0.2", "episodes_total": 3092, "time_since_restore": 3857.632169485092, "episode_reward_mean": 830.2686254874278, "hostname": "flow-main", "timesteps_since_restore": 7120187, "timesteps_this_iter": 38252, "timesteps_total": 7120187, "pid": 24594, "time_total_s": 3857.632169485092, "custom_metrics": {"system_level_velocity_min": 9.947088055997936, "cost2_max": 0.0, "cost1_mean": 325.1271877679439, "system_level_velocity_mean": 12.738986485345535, "cost1_min": 22.48395944711284, "outflow_rate_min": 457.99903463771307, "system_level_velocity_max": 18.545778407880945, "cost2_min": -0.9200942631935489, "cost1_max": 447.5321801238615, "outflow_rate_mean": 1050.3852215781544, "cost2_mean": -0.07805499253078238, "outflow_rate_max": 1305.5676218636152}, "done": false, "iterations_since_restore": 180, "episode_reward_min": 58.03298319608512, "episode_reward_max": 1124.5573047508467, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dac18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dad68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dacc0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11300.887, "num_steps_sampled": 7120187, "num_steps_trained": 7120187, "grad_time_ms": 9368.223, "default": {"total_loss": 27.723661422729492, "entropy": 0.9823359251022339, "vf_explained_var": 0.8617302775382996, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 27.726211547851562, "policy_loss": -0.007355539593845606, "kl": 0.01424903329461813}, "update_time_ms": 7.502, "load_time_ms": 10.688}, "timestamp": 1557116408, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-20-08", "training_iteration": 180}
{"episode_len_mean": 686.63, "time_this_iter_s": 20.58848524093628, "node_ip": "10.138.0.2", "episodes_total": 3112, "time_since_restore": 3878.2206547260284, "episode_reward_mean": 821.9797294362739, "hostname": "flow-main", "timesteps_since_restore": 7157825, "timesteps_this_iter": 37638, "timesteps_total": 7157825, "pid": 24594, "time_total_s": 3878.2206547260284, "custom_metrics": {"system_level_velocity_min": 9.947088055997936, "cost2_max": 0.0, "cost1_mean": 322.88425130657714, "system_level_velocity_mean": 12.830131640452725, "cost1_min": 19.48839930153896, "outflow_rate_min": 457.99903463771307, "system_level_velocity_max": 18.545778407880945, "cost2_min": -0.9200942631935489, "cost1_max": 447.5321801238615, "outflow_rate_mean": 1043.124143612221, "cost2_mean": -0.07254055136468894, "outflow_rate_max": 1305.5676218636152}, "done": false, "iterations_since_restore": 181, "episode_reward_min": 50.196011479649385, "episode_reward_max": 1124.5573047508467, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d44e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d42e8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11337.094, "num_steps_sampled": 7157825, "num_steps_trained": 7157825, "grad_time_ms": 9287.656, "default": {"total_loss": 28.07486915588379, "entropy": 0.9518968462944031, "vf_explained_var": 0.8604348301887512, "cur_kl_coeff": 0.3375000059604645, "cur_lr": 0.0005000000237487257, "vf_loss": 28.077529907226562, "policy_loss": -0.007513446733355522, "kl": 0.01439187116920948}, "update_time_ms": 7.396, "load_time_ms": 10.532}, "timestamp": 1557116428, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_04-20-28", "training_iteration": 181}
{"episode_len_mean": 686.63, "time_this_iter_s": 19.857721090316772, "node_ip": "10.138.0.2", "episodes_total": 3127, "time_since_restore": 3898.078375816345, "episode_reward_mean": 828.0954871379467, "hostname": "flow-main", "timesteps_since_restore": 7195596, "timesteps_this_iter": 37771, "timesteps_total": 7195596, "pid": 24594, "time_total_s": 3898.078375816345, "custom_metrics": {"system_level_velocity_min": 9.947088055997936, "cost2_max": 0.0, "cost1_mean": 326.261710882819, "system_level_velocity_mean": 12.956063703079264, "cost1_min": 19.48839930153896, "outflow_rate_min": 457.99903463771307, "system_level_velocity_max": 18.545778407880945, "cost2_min": -0.9200942631935489, "cost1_max": 447.5321801238615, "outflow_rate_mean": 1048.753087578923, "cost2_mean": -0.07312693097159682, "outflow_rate_max": 1305.5676218636152}, "done": false, "iterations_since_restore": 182, "episode_reward_min": 50.196011479649385, "episode_reward_max": 1124.5573047508467, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da3c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da0b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11146.918, "num_steps_sampled": 7195596, "num_steps_trained": 7195596, "grad_time_ms": 9313.681, "default": {"total_loss": 20.75517463684082, "entropy": 0.9560201168060303, "vf_explained_var": 0.8877803683280945, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 20.758329391479492, "policy_loss": -0.00767524866387248, "kl": 0.01339543517678976}, "update_time_ms": 7.452, "load_time_ms": 11.262}, "timestamp": 1557116448, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_04-20-48", "training_iteration": 182}
{"episode_len_mean": 679.98, "time_this_iter_s": 21.331600427627563, "node_ip": "10.138.0.2", "episodes_total": 3146, "time_since_restore": 3919.409976243973, "episode_reward_mean": 821.8504869552889, "hostname": "flow-main", "timesteps_since_restore": 7234203, "timesteps_this_iter": 38607, "timesteps_total": 7234203, "pid": 24594, "time_total_s": 3919.409976243973, "custom_metrics": {"system_level_velocity_min": 9.415817037433019, "cost2_max": 0.0, "cost1_mean": 329.08344667989974, "system_level_velocity_mean": 13.231682609516302, "cost1_min": 19.48839930153896, "outflow_rate_min": 457.99903463771307, "system_level_velocity_max": 18.545778407880945, "cost2_min": -0.9200942631935489, "cost1_max": 447.5321801238615, "outflow_rate_mean": 1051.932169663882, "cost2_mean": -0.07558673943596723, "outflow_rate_max": 1305.5676218636152}, "done": false, "iterations_since_restore": 183, "episode_reward_min": 50.196011479649385, "episode_reward_max": 1057.0849895656265, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da7b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daeb8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11240.46, "num_steps_sampled": 7234203, "num_steps_trained": 7234203, "grad_time_ms": 9441.961, "default": {"total_loss": 29.81753921508789, "entropy": 0.9539116621017456, "vf_explained_var": 0.8434846997261047, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 29.820484161376953, "policy_loss": -0.008137627504765987, "kl": 0.015379573218524456}, "update_time_ms": 7.435, "load_time_ms": 11.847}, "timestamp": 1557116469, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-21-09", "training_iteration": 183}
{"episode_len_mean": 673.21, "time_this_iter_s": 22.72230839729309, "node_ip": "10.138.0.2", "episodes_total": 3166, "time_since_restore": 3942.132284641266, "episode_reward_mean": 810.3475091229462, "hostname": "flow-main", "timesteps_since_restore": 7272789, "timesteps_this_iter": 38586, "timesteps_total": 7272789, "pid": 24594, "time_total_s": 3942.132284641266, "custom_metrics": {"system_level_velocity_min": 9.415817037433019, "cost2_max": 0.0, "cost1_mean": 325.31554822334107, "system_level_velocity_mean": 13.265287318913474, "cost1_min": 15.498894844793998, "outflow_rate_min": 457.99903463771307, "system_level_velocity_max": 18.545778407880945, "cost2_min": -0.9200942631935489, "cost1_max": 462.6611439524124, "outflow_rate_mean": 1040.908791577223, "cost2_mean": -0.09249679937860787, "outflow_rate_max": 1299.0630654861457}, "done": false, "iterations_since_restore": 184, "episode_reward_min": 36.16173745746985, "episode_reward_max": 1063.1129183963276, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751d4be0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da588>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11421.635, "num_steps_sampled": 7272789, "num_steps_trained": 7272789, "grad_time_ms": 9424.516, "default": {"total_loss": 29.587793350219727, "entropy": 0.9286003112792969, "vf_explained_var": 0.8585805296897888, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 29.591121673583984, "policy_loss": -0.007986007258296013, "kl": 0.013791358098387718}, "update_time_ms": 7.42, "load_time_ms": 11.064}, "timestamp": 1557116492, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_04-21-32", "training_iteration": 184}
{"episode_len_mean": 673.21, "time_this_iter_s": 19.54470729827881, "node_ip": "10.138.0.2", "episodes_total": 3182, "time_since_restore": 3961.6769919395447, "episode_reward_mean": 811.2004067304921, "hostname": "flow-main", "timesteps_since_restore": 7311571, "timesteps_this_iter": 38782, "timesteps_total": 7311571, "pid": 24594, "time_total_s": 3961.6769919395447, "custom_metrics": {"system_level_velocity_min": 9.415817037433019, "cost2_max": 0.0, "cost1_mean": 326.37570219970627, "system_level_velocity_mean": 13.299326890872146, "cost1_min": 15.498894844793998, "outflow_rate_min": 457.99903463771307, "system_level_velocity_max": 18.545778407880945, "cost2_min": -0.9200942631935489, "cost1_max": 462.6611439524124, "outflow_rate_mean": 1042.7218623989868, "cost2_mean": -0.08915413759849432, "outflow_rate_max": 1299.0630654861457}, "done": false, "iterations_since_restore": 185, "episode_reward_min": 36.16173745746985, "episode_reward_max": 1063.1129183963276, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da1d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832630>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11538.039, "num_steps_sampled": 7311571, "num_steps_trained": 7311571, "grad_time_ms": 9215.117, "default": {"total_loss": 24.91038703918457, "entropy": 0.9916520118713379, "vf_explained_var": 0.8596076369285583, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 24.914287567138672, "policy_loss": -0.008036771789193153, "kl": 0.012255693785846233}, "update_time_ms": 7.482, "load_time_ms": 11.076}, "timestamp": 1557116512, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_04-21-52", "training_iteration": 185}
{"episode_len_mean": 686.58, "time_this_iter_s": 21.708083152770996, "node_ip": "10.138.0.2", "episodes_total": 3199, "time_since_restore": 3983.3850750923157, "episode_reward_mean": 824.6595855938751, "hostname": "flow-main", "timesteps_since_restore": 7350182, "timesteps_this_iter": 38611, "timesteps_total": 7350182, "pid": 24594, "time_total_s": 3983.3850750923157, "custom_metrics": {"system_level_velocity_min": 9.415817037433019, "cost2_max": 0.0, "cost1_mean": 331.5413048305995, "system_level_velocity_mean": 13.161082812761622, "cost1_min": 15.498894844793998, "outflow_rate_min": 478.6715823005086, "system_level_velocity_max": 18.29749996231289, "cost2_min": -0.7765843431996311, "cost1_max": 462.6611439524124, "outflow_rate_mean": 1052.3406729420592, "cost2_mean": -0.08625808166955838, "outflow_rate_max": 1299.0630654861457}, "done": false, "iterations_since_restore": 186, "episode_reward_min": 36.16173745746985, "episode_reward_max": 1063.1129183963276, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dacc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dac88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da400>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11647.541, "num_steps_sampled": 7350182, "num_steps_trained": 7350182, "grad_time_ms": 9090.374, "default": {"total_loss": 27.066715240478516, "entropy": 0.9866911172866821, "vf_explained_var": 0.8535914421081543, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 27.070411682128906, "policy_loss": -0.0080780740827322, "kl": 0.012981021776795387}, "update_time_ms": 7.099, "load_time_ms": 11.024}, "timestamp": 1557116533, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-22-13", "training_iteration": 186}
{"episode_len_mean": 686.58, "time_this_iter_s": 19.48939037322998, "node_ip": "10.138.0.2", "episodes_total": 3216, "time_since_restore": 4002.8744654655457, "episode_reward_mean": 827.4586003504738, "hostname": "flow-main", "timesteps_since_restore": 7389542, "timesteps_this_iter": 39360, "timesteps_total": 7389542, "pid": 24594, "time_total_s": 4002.8744654655457, "custom_metrics": {"system_level_velocity_min": 9.415817037433019, "cost2_max": 0.0, "cost1_mean": 333.33757876763667, "system_level_velocity_mean": 13.228339566639828, "cost1_min": 15.498894844793998, "outflow_rate_min": 478.6715823005086, "system_level_velocity_max": 18.29749996231289, "cost2_min": -0.7765843431996311, "cost1_max": 462.6611439524124, "outflow_rate_mean": 1057.8034505070545, "cost2_mean": -0.07935918662213685, "outflow_rate_max": 1299.0630654861457}, "done": false, "iterations_since_restore": 187, "episode_reward_min": 36.16173745746985, "episode_reward_max": 1063.1129183963276, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3c18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f35c0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11598.66, "num_steps_sampled": 7389542, "num_steps_trained": 7389542, "grad_time_ms": 8963.661, "default": {"total_loss": 28.81821632385254, "entropy": 1.0010348558425903, "vf_explained_var": 0.8600209355354309, "cur_kl_coeff": 0.33750006556510925, "cur_lr": 0.0005000000237487257, "vf_loss": 28.821237564086914, "policy_loss": -0.007430065888911486, "kl": 0.013066798448562622}, "update_time_ms": 6.961, "load_time_ms": 11.606}, "timestamp": 1557116553, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-22-33", "training_iteration": 187}
{"episode_len_mean": 686.58, "time_this_iter_s": 21.252557516098022, "node_ip": "10.138.0.2", "episodes_total": 3235, "time_since_restore": 4024.1270229816437, "episode_reward_mean": 825.8078846318449, "hostname": "flow-main", "timesteps_since_restore": 7428516, "timesteps_this_iter": 38974, "timesteps_total": 7428516, "pid": 24594, "time_total_s": 4024.1270229816437, "custom_metrics": {"system_level_velocity_min": 8.879868011775502, "cost2_max": 0.0, "cost1_mean": 331.2201551885168, "system_level_velocity_mean": 13.148757773191562, "cost1_min": 15.498894844793998, "outflow_rate_min": 478.6715823005086, "system_level_velocity_max": 18.29749996231289, "cost2_min": -0.7000000000000001, "cost1_max": 462.6611439524124, "outflow_rate_mean": 1052.904181339678, "cost2_mean": -0.08876619759826486, "outflow_rate_max": 1299.0630654861457}, "done": false, "iterations_since_restore": 188, "episode_reward_min": 36.16173745746985, "episode_reward_max": 1063.1129183963276, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832470>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11611.63, "num_steps_sampled": 7428516, "num_steps_trained": 7428516, "grad_time_ms": 8903.173, "default": {"total_loss": 31.222322463989258, "entropy": 0.9795085787773132, "vf_explained_var": 0.8366687297821045, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 31.227285385131836, "policy_loss": -0.009542465209960938, "kl": 0.013568275608122349}, "update_time_ms": 6.816, "load_time_ms": 12.137}, "timestamp": 1557116574, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 19, "date": "2019-05-06_04-22-54", "training_iteration": 188}
{"episode_len_mean": 700.0, "time_this_iter_s": 20.482722282409668, "node_ip": "10.138.0.2", "episodes_total": 3250, "time_since_restore": 4044.6097452640533, "episode_reward_mean": 842.2437570890768, "hostname": "flow-main", "timesteps_since_restore": 7467922, "timesteps_this_iter": 39406, "timesteps_total": 7467922, "pid": 24594, "time_total_s": 4044.6097452640533, "custom_metrics": {"system_level_velocity_min": 8.879868011775502, "cost2_max": 0.0, "cost1_mean": 335.1556257414802, "system_level_velocity_mean": 12.955843671559178, "cost1_min": 226.7148426777579, "outflow_rate_min": 846.13575478413, "system_level_velocity_max": 17.666407435720675, "cost2_min": -0.7000000000000001, "cost1_max": 462.6611439524124, "outflow_rate_mean": 1058.9293875518852, "cost2_mean": -0.08663769642284878, "outflow_rate_max": 1299.0630654861457}, "done": false, "iterations_since_restore": 189, "episode_reward_min": 665.2495336479886, "episode_reward_max": 1063.1129183963276, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dabe0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da4a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751dae10>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11521.111, "num_steps_sampled": 7467922, "num_steps_trained": 7467922, "grad_time_ms": 9057.459, "default": {"total_loss": 24.799406051635742, "entropy": 1.0301834344863892, "vf_explained_var": 0.8807934522628784, "cur_kl_coeff": 0.33750006556510925, "cur_lr": 0.0005000000237487257, "vf_loss": 24.802183151245117, "policy_loss": -0.007700547110289335, "kl": 0.014580612070858479}, "update_time_ms": 6.854, "load_time_ms": 11.919}, "timestamp": 1557116595, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 15, "date": "2019-05-06_04-23-15", "training_iteration": 189}
{"episode_len_mean": 693.33, "time_this_iter_s": 19.85944104194641, "node_ip": "10.138.0.2", "episodes_total": 3268, "time_since_restore": 4064.4691863059998, "episode_reward_mean": 836.1707459148743, "hostname": "flow-main", "timesteps_since_restore": 7506378, "timesteps_this_iter": 38456, "timesteps_total": 7506378, "pid": 24594, "time_total_s": 4064.4691863059998, "custom_metrics": {"system_level_velocity_min": 8.879868011775502, "cost2_max": 0.0, "cost1_mean": 332.00760991149764, "system_level_velocity_mean": 13.003144997587688, "cost1_min": 21.59151068008542, "outflow_rate_min": 494.07966833146776, "system_level_velocity_max": 18.79039145577451, "cost2_min": -0.7000000000000001, "cost1_max": 426.8055710674298, "outflow_rate_mean": 1052.452339296757, "cost2_mean": -0.07105548315868146, "outflow_rate_max": 1240.7093779201987}, "done": false, "iterations_since_restore": 190, "episode_reward_min": 47.11685300300923, "episode_reward_max": 1058.7829597654193, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3d30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3978>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11384.387, "num_steps_sampled": 7506378, "num_steps_trained": 7506378, "grad_time_ms": 9202.398, "default": {"total_loss": 28.842639923095703, "entropy": 0.9955965280532837, "vf_explained_var": 0.8341179490089417, "cur_kl_coeff": 0.33750006556510925, "cur_lr": 0.0005000000237487257, "vf_loss": 28.846431732177734, "policy_loss": -0.008279393427073956, "kl": 0.013298078440129757}, "update_time_ms": 6.859, "load_time_ms": 11.821}, "timestamp": 1557116615, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_04-23-35", "training_iteration": 190}
{"episode_len_mean": 693.33, "time_this_iter_s": 21.740479469299316, "node_ip": "10.138.0.2", "episodes_total": 3288, "time_since_restore": 4086.209665775299, "episode_reward_mean": 834.2818392197703, "hostname": "flow-main", "timesteps_since_restore": 7545106, "timesteps_this_iter": 38728, "timesteps_total": 7545106, "pid": 24594, "time_total_s": 4086.209665775299, "custom_metrics": {"system_level_velocity_min": 8.879868011775502, "cost2_max": 0.0, "cost1_mean": 327.6656208888607, "system_level_velocity_mean": 12.840982198697379, "cost1_min": 21.59151068008542, "outflow_rate_min": 494.07966833146776, "system_level_velocity_max": 18.79039145577451, "cost2_min": -0.7000000000000001, "cost1_max": 426.7289553524291, "outflow_rate_mean": 1044.5905679235295, "cost2_mean": -0.06705129395924922, "outflow_rate_max": 1240.7093779201987}, "done": false, "iterations_since_restore": 191, "episode_reward_min": 47.11685300300923, "episode_reward_max": 1058.7829597654193, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751daef0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11391.024, "num_steps_sampled": 7545106, "num_steps_trained": 7545106, "grad_time_ms": 9309.785, "default": {"total_loss": 27.465072631835938, "entropy": 0.9715548157691956, "vf_explained_var": 0.8486842513084412, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 27.46980094909668, "policy_loss": -0.009319430217146873, "kl": 0.013600828126072884}, "update_time_ms": 6.994, "load_time_ms": 11.598}, "timestamp": 1557116636, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 20, "date": "2019-05-06_04-23-56", "training_iteration": 191}
{"episode_len_mean": 693.33, "time_this_iter_s": 20.001954555511475, "node_ip": "10.138.0.2", "episodes_total": 3304, "time_since_restore": 4106.211620330811, "episode_reward_mean": 833.3048934137828, "hostname": "flow-main", "timesteps_since_restore": 7583512, "timesteps_this_iter": 38406, "timesteps_total": 7583512, "pid": 24594, "time_total_s": 4106.211620330811, "custom_metrics": {"system_level_velocity_min": 8.879868011775502, "cost2_max": 0.0, "cost1_mean": 327.90748096604045, "system_level_velocity_mean": 12.851603730202545, "cost1_min": 21.59151068008542, "outflow_rate_min": 494.07966833146776, "system_level_velocity_max": 18.79039145577451, "cost2_min": -0.7000000000000001, "cost1_max": 465.6521718492541, "outflow_rate_mean": 1044.5264295426578, "cost2_mean": -0.06461547379705711, "outflow_rate_max": 1304.3671692881514}, "done": false, "iterations_since_restore": 192, "episode_reward_min": 47.11685300300923, "episode_reward_max": 1123.7129869802907, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f39b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11437.042, "num_steps_sampled": 7583512, "num_steps_trained": 7583512, "grad_time_ms": 9279.017, "default": {"total_loss": 24.202312469482422, "entropy": 1.0036438703536987, "vf_explained_var": 0.8783281445503235, "cur_kl_coeff": 0.33750006556510925, "cur_lr": 0.0005000000237487257, "vf_loss": 24.206317901611328, "policy_loss": -0.008686404675245285, "kl": 0.013868899084627628}, "update_time_ms": 6.964, "load_time_ms": 11.392}, "timestamp": 1557116656, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 16, "date": "2019-05-06_04-24-16", "training_iteration": 192}
{"episode_len_mean": 686.83, "time_this_iter_s": 21.456899881362915, "node_ip": "10.138.0.2", "episodes_total": 3322, "time_since_restore": 4127.6685202121735, "episode_reward_mean": 822.0346222825865, "hostname": "flow-main", "timesteps_since_restore": 7621871, "timesteps_this_iter": 38359, "timesteps_total": 7621871, "pid": 24594, "time_total_s": 4127.6685202121735, "custom_metrics": {"system_level_velocity_min": 9.143722931256212, "cost2_max": 0.0, "cost1_mean": 324.2832130439179, "system_level_velocity_mean": 12.884272420171797, "cost1_min": 21.59151068008542, "outflow_rate_min": 494.07966833146776, "system_level_velocity_max": 18.950508620924587, "cost2_min": -0.7000000000000001, "cost1_max": 465.6521718492541, "outflow_rate_mean": 1036.8508559354173, "cost2_mean": -0.06701319318282964, "outflow_rate_max": 1304.3671692881514}, "done": false, "iterations_since_restore": 193, "episode_reward_min": 47.11685300300923, "episode_reward_max": 1123.7129869802907, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da3c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da390>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11404.181, "num_steps_sampled": 7621871, "num_steps_trained": 7621871, "grad_time_ms": 9324.698, "default": {"total_loss": 23.274459838867188, "entropy": 1.020410180091858, "vf_explained_var": 0.8785843253135681, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 23.2793025970459, "policy_loss": -0.009927863255143166, "kl": 0.01506339106708765}, "update_time_ms": 7.008, "load_time_ms": 10.876}, "timestamp": 1557116678, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_04-24-38", "training_iteration": 193}
{"episode_len_mean": 686.83, "time_this_iter_s": 21.039831161499023, "node_ip": "10.138.0.2", "episodes_total": 3339, "time_since_restore": 4148.7083513736725, "episode_reward_mean": 825.096076560209, "hostname": "flow-main", "timesteps_since_restore": 7660150, "timesteps_this_iter": 38279, "timesteps_total": 7660150, "pid": 24594, "time_total_s": 4148.7083513736725, "custom_metrics": {"system_level_velocity_min": 9.143722931256212, "cost2_max": 0.0, "cost1_mean": 326.52368939793746, "system_level_velocity_mean": 12.968460644544631, "cost1_min": 21.59151068008542, "outflow_rate_min": 494.07966833146776, "system_level_velocity_max": 18.950508620924587, "cost2_min": -0.4596672608099388, "cost1_max": 465.6521718492541, "outflow_rate_mean": 1040.397206817202, "cost2_mean": -0.06482695972041269, "outflow_rate_max": 1304.3671692881514}, "done": false, "iterations_since_restore": 194, "episode_reward_min": 47.11685300300923, "episode_reward_max": 1123.7129869802907, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f28>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11195.757, "num_steps_sampled": 7660150, "num_steps_trained": 7660150, "grad_time_ms": 9364.896, "default": {"total_loss": 26.60481834411621, "entropy": 1.0210672616958618, "vf_explained_var": 0.8669021129608154, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 26.608718872070312, "policy_loss": -0.008178596384823322, "kl": 0.012680510058999062}, "update_time_ms": 6.977, "load_time_ms": 10.812}, "timestamp": 1557116699, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-24-59", "training_iteration": 194}
{"episode_len_mean": 686.83, "time_this_iter_s": 20.511357069015503, "node_ip": "10.138.0.2", "episodes_total": 3357, "time_since_restore": 4169.219708442688, "episode_reward_mean": 820.654305118655, "hostname": "flow-main", "timesteps_since_restore": 7699061, "timesteps_this_iter": 38911, "timesteps_total": 7699061, "pid": 24594, "time_total_s": 4169.219708442688, "custom_metrics": {"system_level_velocity_min": 9.143722931256212, "cost2_max": 0.0, "cost1_mean": 326.23896429003366, "system_level_velocity_mean": 12.967171193357906, "cost1_min": 21.59151068008542, "outflow_rate_min": 494.07966833146776, "system_level_velocity_max": 18.950508620924587, "cost2_min": -0.5630862807510613, "cost1_max": 465.6521718492541, "outflow_rate_mean": 1042.0375603225157, "cost2_mean": -0.07690691972270536, "outflow_rate_max": 1304.3671692881514}, "done": false, "iterations_since_restore": 195, "episode_reward_min": 47.11685300300923, "episode_reward_max": 1123.7129869802907, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f39e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f32e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f39b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11079.108, "num_steps_sampled": 7699061, "num_steps_trained": 7699061, "grad_time_ms": 9577.31, "default": {"total_loss": 25.676090240478516, "entropy": 1.007269024848938, "vf_explained_var": 0.8927021026611328, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 25.67875862121582, "policy_loss": -0.007104553282260895, "kl": 0.013147852383553982}, "update_time_ms": 6.933, "load_time_ms": 11.063}, "timestamp": 1557116720, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_04-25-20", "training_iteration": 195}
{"episode_len_mean": 687.66, "time_this_iter_s": 22.80458116531372, "node_ip": "10.138.0.2", "episodes_total": 3375, "time_since_restore": 4192.024289608002, "episode_reward_mean": 822.8663213610366, "hostname": "flow-main", "timesteps_since_restore": 7738132, "timesteps_this_iter": 39071, "timesteps_total": 7738132, "pid": 24594, "time_total_s": 4192.024289608002, "custom_metrics": {"system_level_velocity_min": 9.365296118852488, "cost2_max": 0.0, "cost1_mean": 330.59741929273326, "system_level_velocity_mean": 13.110343161064257, "cost1_min": 33.411834124230126, "outflow_rate_min": 549.2251013023151, "system_level_velocity_max": 18.950508620924587, "cost2_min": -0.5630862807510613, "cost1_max": 465.6521718492541, "outflow_rate_mean": 1053.491382356344, "cost2_mean": -0.07180250897165535, "outflow_rate_max": 1304.3671692881514}, "done": false, "iterations_since_restore": 196, "episode_reward_min": 72.88281755841508, "episode_reward_max": 1123.7129869802907, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3c18>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11207.921, "num_steps_sampled": 7738132, "num_steps_trained": 7738132, "grad_time_ms": 9558.331, "default": {"total_loss": 28.67985725402832, "entropy": 0.9622068405151367, "vf_explained_var": 0.8774736523628235, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 28.684215545654297, "policy_loss": -0.009397591464221478, "kl": 0.014935338869690895}, "update_time_ms": 7.173, "load_time_ms": 10.752}, "timestamp": 1557116742, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 18, "date": "2019-05-06_04-25-42", "training_iteration": 196}
{"episode_len_mean": 687.66, "time_this_iter_s": 18.47359275817871, "node_ip": "10.138.0.2", "episodes_total": 3389, "time_since_restore": 4210.49788236618, "episode_reward_mean": 832.3611796019641, "hostname": "flow-main", "timesteps_since_restore": 7776040, "timesteps_this_iter": 37908, "timesteps_total": 7776040, "pid": 24594, "time_total_s": 4210.49788236618, "custom_metrics": {"system_level_velocity_min": 9.365296118852488, "cost2_max": 0.0, "cost1_mean": 335.6310584621269, "system_level_velocity_mean": 13.294344594208901, "cost1_min": 33.411834124230126, "outflow_rate_min": 549.2251013023151, "system_level_velocity_max": 18.950508620924587, "cost2_min": -0.5630862807510613, "cost1_max": 465.6521718492541, "outflow_rate_mean": 1063.156091788046, "cost2_mean": -0.07808891272547297, "outflow_rate_max": 1304.3671692881514}, "done": false, "iterations_since_restore": 197, "episode_reward_min": 72.88281755841508, "episode_reward_max": 1123.7129869802907, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff976832748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751da400>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11146.449, "num_steps_sampled": 7776040, "num_steps_trained": 7776040, "grad_time_ms": 9520.481, "default": {"total_loss": 24.896425247192383, "entropy": 0.9655734896659851, "vf_explained_var": 0.875086784362793, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 24.901973724365234, "policy_loss": -0.01002788357436657, "kl": 0.013269195333123207}, "update_time_ms": 7.29, "load_time_ms": 9.867}, "timestamp": 1557116761, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 14, "date": "2019-05-06_04-26-01", "training_iteration": 197}
{"episode_len_mean": 680.92, "time_this_iter_s": 21.545228242874146, "node_ip": "10.138.0.2", "episodes_total": 3410, "time_since_restore": 4232.043110609055, "episode_reward_mean": 827.1875811129738, "hostname": "flow-main", "timesteps_since_restore": 7814619, "timesteps_this_iter": 38579, "timesteps_total": 7814619, "pid": 24594, "time_total_s": 4232.043110609055, "custom_metrics": {"system_level_velocity_min": 9.365296118852488, "cost2_max": 0.0, "cost1_mean": 334.76819071804476, "system_level_velocity_mean": 13.427188059864461, "cost1_min": 17.4752648091784, "outflow_rate_min": 475.47679660842766, "system_level_velocity_max": 18.950508620924587, "cost2_min": -0.5630862807510613, "cost1_max": 478.55626943566045, "outflow_rate_mean": 1060.4124731784138, "cost2_mean": -0.07071526375992042, "outflow_rate_max": 1304.1842260905212}, "done": false, "iterations_since_restore": 198, "episode_reward_min": 48.35296798276959, "episode_reward_max": 1057.3620576845783, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f33c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f34e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f39b0>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11177.697, "num_steps_sampled": 7814619, "num_steps_trained": 7814619, "grad_time_ms": 9517.632, "default": {"total_loss": 33.15411376953125, "entropy": 1.0049235820770264, "vf_explained_var": 0.8534753918647766, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 33.15736389160156, "policy_loss": -0.007406164892017841, "kl": 0.012309729121625423}, "update_time_ms": 7.265, "load_time_ms": 10.234}, "timestamp": 1557116782, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 21, "date": "2019-05-06_04-26-22", "training_iteration": 198}
{"episode_len_mean": 674.09, "time_this_iter_s": 21.754802703857422, "node_ip": "10.138.0.2", "episodes_total": 3432, "time_since_restore": 4253.797913312912, "episode_reward_mean": 823.505122863303, "hostname": "flow-main", "timesteps_since_restore": 7853917, "timesteps_this_iter": 39298, "timesteps_total": 7853917, "pid": 24594, "time_total_s": 4253.797913312912, "custom_metrics": {"system_level_velocity_min": 8.998352415490125, "cost2_max": 0.0, "cost1_mean": 332.4503675700919, "system_level_velocity_mean": 13.517105708533517, "cost1_min": 17.4752648091784, "outflow_rate_min": 475.47679660842766, "system_level_velocity_max": 19.024037302902762, "cost2_min": -0.5630862807510613, "cost1_max": 478.55626943566045, "outflow_rate_mean": 1056.533110371839, "cost2_mean": -0.07101051041113783, "outflow_rate_max": 1304.1842260905212}, "done": false, "iterations_since_restore": 199, "episode_reward_min": 48.35296798276959, "episode_reward_max": 1057.3620576845783, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3c50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9751f3d30>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11307.74, "num_steps_sampled": 7853917, "num_steps_trained": 7853917, "grad_time_ms": 9514.497, "default": {"total_loss": 33.51739501953125, "entropy": 0.9944818615913391, "vf_explained_var": 0.8598967790603638, "cur_kl_coeff": 0.33750006556510925, "cur_lr": 0.0005000000237487257, "vf_loss": 33.51952362060547, "policy_loss": -0.006891489960253239, "kl": 0.014109942130744457}, "update_time_ms": 7.325, "load_time_ms": 10.338}, "timestamp": 1557116804, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 22, "date": "2019-05-06_04-26-44", "training_iteration": 199}
{"episode_len_mean": 674.09, "time_this_iter_s": 19.25012731552124, "node_ip": "10.138.0.2", "episodes_total": 3449, "time_since_restore": 4273.048040628433, "episode_reward_mean": 813.2404164175267, "hostname": "flow-main", "timesteps_since_restore": 7891885, "timesteps_this_iter": 37968, "timesteps_total": 7891885, "pid": 24594, "time_total_s": 4273.048040628433, "custom_metrics": {"system_level_velocity_min": 8.998352415490125, "cost2_max": 0.0, "cost1_mean": 327.72213056767214, "system_level_velocity_mean": 13.337528708463969, "cost1_min": 17.4752648091784, "outflow_rate_min": 475.47679660842766, "system_level_velocity_max": 19.024037302902762, "cost2_min": -0.5630862807510613, "cost1_max": 478.55626943566045, "outflow_rate_mean": 1048.7881113141275, "cost2_mean": -0.06532839507688007, "outflow_rate_max": 1304.1842260905212}, "done": true, "iterations_since_restore": 200, "episode_reward_min": 48.35296798276959, "episode_reward_max": 1022.660842619943, "config": {"model": {"free_log_std": false, "custom_preprocessor": null, "zero_mean": true, "framestack": true, "conv_activation": "relu", "use_lstm": false, "lstm_cell_size": 256, "grayscale": false, "custom_model": null, "conv_filters": null, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "dim": 84, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "fcnet_hiddens": [100, 50, 25], "custom_options": {}}, "collect_metrics_timeout": 180, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff976829358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768293c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff9768290b8>"}, "gamma": 0.99, "kl_target": 0.01, "num_workers": 20, "clip_rewards": null, "vf_share_layers": false, "output": null, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "vf_loss_coeff": 1.0, "optimizer": {}, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0bottom_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:1.0", "use_gae": true, "simple_optimizer": false, "input_evaluation": null, "output_max_file_size": 67108864, "monitor": false, "batch_mode": "truncate_episodes", "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "sample_async": false, "num_gpus": 0, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "num_cpus_for_driver": 1, "train_batch_size": 30000, "straggler_mitigation": false, "num_envs_per_worker": 1, "num_cpus_per_worker": 1, "sgd_minibatch_size": 128, "vf_clip_param": 1000000.0, "sample_batch_size": 200, "synchronize_filters": true, "custom_resources_per_worker": {}, "lambda": 0.97, "clip_actions": false, "clip_param": 0.3, "horizon": 1500, "entropy_coeff": 0.0, "preprocessor_pref": "deepmind", "lr": 0.0005, "num_gpus_per_worker": 0, "input": "sampler", "observation_filter": "NoFilter", "kl_coeff": 0.2, "log_level": "INFO", "compress_observations": false}, "experiment_id": "5eb636e8f3454a9ca00d5326022b2c40", "info": {"sample_time_ms": 11355.404, "num_steps_sampled": 7891885, "num_steps_trained": 7891885, "grad_time_ms": 9406.592, "default": {"total_loss": 26.093332290649414, "entropy": 1.0394748449325562, "vf_explained_var": 0.8765001893043518, "cur_kl_coeff": 0.33750003576278687, "cur_lr": 0.0005000000237487257, "vf_loss": 26.097198486328125, "policy_loss": -0.008408415131270885, "kl": 0.013462514616549015}, "update_time_ms": 7.417, "load_time_ms": 10.503}, "timestamp": 1557116823, "num_metric_batches_dropped": 0, "policy_reward_mean": {}, "episodes_this_iter": 17, "date": "2019-05-06_04-27-03", "training_iteration": 200}
