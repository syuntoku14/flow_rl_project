{"policy_reward_mean": {}, "time_this_iter_s": 28.243856191635132, "time_since_restore": 28.243856191635132, "timestamp": 1557102019, "episode_reward_mean": 258.19502492977506, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 40604, "timesteps_total": 40604, "done": false, "hostname": "flow-main", "timesteps_since_restore": 40604, "info": {"default": {"entropy": 1.4157577753067017, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8606313467025757, "policy_loss": -0.0014438653597608209, "cur_kl_coeff": 0.20000003278255463, "total_loss": 1.3979218006134033, "kl": 0.0023154558148235083, "vf_loss": 1.3989025354385376}, "update_time_ms": 974.691, "sample_time_ms": 17000.126, "num_steps_trained": 40604, "grad_time_ms": 10057.864, "load_time_ms": 74.637, "num_steps_sampled": 40604}, "training_iteration": 1, "date": "2019-05-06_00-20-19", "episode_reward_min": 239.7422813393651, "episode_len_mean": 700.0, "episode_reward_max": 276.6477685201851, "time_total_s": 28.243856191635132, "custom_metrics": {"cost2_min": -24.964081867947833, "system_level_velocity_min": 8.084878698773668, "cost2_max": -21.962877416493786, "system_level_velocity_max": 8.587905178342377, "outflow_rate_min": 614.724765444277, "cost2_mean": -23.46347964222081, "cost1_mean": 214.56340916157325, "outflow_rate_mean": 635.6264738388181, "system_level_velocity_mean": 8.336391938558023, "cost1_max": 219.2887578515943, "cost1_min": 209.8380604715522, "outflow_rate_max": 656.5281822333594}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 2, "num_metric_batches_dropped": 0, "episodes_this_iter": 2, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefd4358>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefd43c8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefd4390>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 1}
{"policy_reward_mean": {}, "time_this_iter_s": 25.712556838989258, "time_since_restore": 53.95641303062439, "timestamp": 1557102045, "episode_reward_mean": 304.3032894658889, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 41051, "timesteps_total": 81655, "done": false, "hostname": "flow-main", "timesteps_since_restore": 81655, "info": {"default": {"entropy": 1.4336154460906982, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9426441192626953, "policy_loss": -0.0052365199662745, "cur_kl_coeff": 0.10000000894069672, "total_loss": 0.9767675399780273, "kl": 0.011952281929552555, "vf_loss": 0.9808087348937988}, "update_time_ms": 490.7, "sample_time_ms": 16091.505, "num_steps_trained": 81655, "grad_time_ms": 10237.962, "load_time_ms": 45.481, "num_steps_sampled": 81655}, "training_iteration": 2, "date": "2019-05-06_00-20-45", "episode_reward_min": 201.57619893883947, "episode_len_mean": 700.0, "episode_reward_max": 405.6186395775155, "time_total_s": 53.95641303062439, "custom_metrics": {"cost2_min": -44.889397878299185, "system_level_velocity_min": 2.411122064577178, "cost2_max": -20.391337510318575, "system_level_velocity_max": 8.6761843453333, "outflow_rate_min": 271.7926593771898, "cost2_mean": -29.920829249762132, "cost1_mean": 194.0887535531699, "outflow_rate_mean": 597.6277956588916, "system_level_velocity_mean": 7.478488794741324, "cost1_max": 221.31195145175874, "cost1_min": 60.86876265790884, "outflow_rate_max": 729.5359288817845}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 24, "num_metric_batches_dropped": 0, "episodes_this_iter": 22, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed780>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed7f0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed7b8>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 2}
{"policy_reward_mean": {}, "time_this_iter_s": 22.491997003555298, "time_since_restore": 76.44841003417969, "timestamp": 1557102067, "episode_reward_mean": 332.2948478410608, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 42073, "timesteps_total": 123728, "done": false, "hostname": "flow-main", "timesteps_since_restore": 123728, "info": {"default": {"entropy": 1.4216492176055908, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9733087420463562, "policy_loss": -0.006935122422873974, "cur_kl_coeff": 0.10000000894069672, "total_loss": 1.1366348266601562, "kl": 0.013680989854037762, "vf_loss": 1.1422019004821777}, "update_time_ms": 330.258, "sample_time_ms": 15089.203, "num_steps_trained": 123728, "grad_time_ms": 9929.716, "load_time_ms": 34.341, "num_steps_sampled": 123728}, "training_iteration": 3, "date": "2019-05-06_00-21-07", "episode_reward_min": 201.57619893883947, "episode_len_mean": 700.0, "episode_reward_max": 485.87442892220923, "time_total_s": 76.44841003417969, "custom_metrics": {"cost2_min": -50.17759191220779, "system_level_velocity_min": 2.411122064577178, "cost2_max": -20.391337510318575, "system_level_velocity_max": 9.236682788868938, "outflow_rate_min": 271.7926593771898, "cost2_mean": -32.49328898499698, "cost1_mean": 200.0028473677587, "outflow_rate_mean": 618.927451029196, "system_level_velocity_mean": 7.700102568604625, "cost1_max": 244.61857811960192, "cost1_min": 60.86876265790884, "outflow_rate_max": 773.812677965257}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 39, "num_metric_batches_dropped": 0, "episodes_this_iter": 15, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74ba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74c18>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74be0>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 3}
{"policy_reward_mean": {}, "time_this_iter_s": 23.590708017349243, "time_since_restore": 100.03911805152893, "timestamp": 1557102091, "episode_reward_mean": 406.9500868370164, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 40231, "timesteps_total": 163959, "done": false, "hostname": "flow-main", "timesteps_since_restore": 163959, "info": {"default": {"entropy": 1.4101738929748535, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9786683320999146, "policy_loss": -0.008321739733219147, "cur_kl_coeff": 0.10000001639127731, "total_loss": 1.375942587852478, "kl": 0.014089013449847698, "vf_loss": 1.3828554153442383}, "update_time_ms": 249.625, "sample_time_ms": 15156.212, "num_steps_trained": 163959, "grad_time_ms": 9483.201, "load_time_ms": 28.863, "num_steps_sampled": 163959}, "training_iteration": 4, "date": "2019-05-06_00-21-31", "episode_reward_min": 201.57619893883947, "episode_len_mean": 700.0, "episode_reward_max": 809.4713828474479, "time_total_s": 100.03911805152893, "custom_metrics": {"cost2_min": -72.8311786362678, "system_level_velocity_min": 2.411122064577178, "cost2_max": -20.391337510318575, "system_level_velocity_max": 12.633815165977563, "outflow_rate_min": 271.7926593771898, "cost2_mean": -39.774704955477326, "cost1_mean": 218.27821792394784, "outflow_rate_mean": 681.8991735403945, "system_level_velocity_mean": 8.345942320780459, "cost1_max": 336.68168975611536, "cost1_min": 60.86876265790884, "outflow_rate_max": 1067.1197344609623}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 59, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedac8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedd68>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedcf8>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 4}
{"policy_reward_mean": {}, "time_this_iter_s": 27.94808292388916, "time_since_restore": 127.98720097541809, "timestamp": 1557102119, "episode_reward_mean": 453.34642335735833, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 43650, "timesteps_total": 207609, "done": false, "hostname": "flow-main", "timesteps_since_restore": 207609, "info": {"default": {"entropy": 1.4675852060317993, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9752417206764221, "policy_loss": -0.010166646912693977, "cur_kl_coeff": 0.10000001639127731, "total_loss": 1.3747564554214478, "kl": 0.021466800943017006, "vf_loss": 1.3827763795852661}, "update_time_ms": 200.9, "sample_time_ms": 15596.657, "num_steps_trained": 207609, "grad_time_ms": 9682.991, "load_time_ms": 25.294, "num_steps_sampled": 207609}, "training_iteration": 5, "date": "2019-05-06_00-21-59", "episode_reward_min": 201.57619893883947, "episode_len_mean": 700.0, "episode_reward_max": 809.4713828474479, "time_total_s": 127.98720097541809, "custom_metrics": {"cost2_min": -85.21075259320287, "system_level_velocity_min": 2.411122064577178, "cost2_max": -20.391337510318575, "system_level_velocity_max": 12.633815165977563, "outflow_rate_min": 271.7926593771898, "cost2_mean": -45.812009004456065, "cost1_mean": 228.59858761735293, "outflow_rate_mean": 724.1500193481515, "system_level_velocity_mean": 8.704005484897742, "cost1_max": 336.68168975611536, "cost1_min": 60.86876265790884, "outflow_rate_max": 1067.1197344609623}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 79, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74588>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74978>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74b38>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 5}
{"policy_reward_mean": {}, "time_this_iter_s": 24.84397578239441, "time_since_restore": 152.8311767578125, "timestamp": 1557102144, "episode_reward_mean": 469.16232725196795, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 43573, "timesteps_total": 251182, "done": false, "hostname": "flow-main", "timesteps_since_restore": 251182, "info": {"default": {"entropy": 1.421014428138733, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9793580770492554, "policy_loss": -0.010314906015992165, "cur_kl_coeff": 0.1499999761581421, "total_loss": 1.6079556941986084, "kl": 0.014077072031795979, "vf_loss": 1.616159200668335}, "update_time_ms": 168.791, "sample_time_ms": 15290.321, "num_steps_trained": 251182, "grad_time_ms": 9897.668, "load_time_ms": 25.099, "num_steps_sampled": 251182}, "training_iteration": 6, "date": "2019-05-06_00-22-24", "episode_reward_min": 201.57619893883947, "episode_len_mean": 700.0, "episode_reward_max": 809.4713828474479, "time_total_s": 152.8311767578125, "custom_metrics": {"cost2_min": -85.21075259320287, "system_level_velocity_min": 2.411122064577178, "cost2_max": -20.391337510318575, "system_level_velocity_max": 12.633815165977563, "outflow_rate_min": 271.7926593771898, "cost2_mean": -47.31139061152858, "cost1_mean": 233.6225431705972, "outflow_rate_mean": 742.4009407964044, "system_level_velocity_mean": 8.881613092932136, "cost1_max": 336.68168975611536, "cost1_min": 60.86876265790884, "outflow_rate_max": 1067.1197344609623}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 85, "num_metric_batches_dropped": 0, "episodes_this_iter": 6, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed710>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed908>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed780>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 6}
{"policy_reward_mean": {}, "time_this_iter_s": 25.310651779174805, "time_since_restore": 178.1418285369873, "timestamp": 1557102169, "episode_reward_mean": 513.9561607304884, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 43015, "timesteps_total": 294197, "done": false, "hostname": "flow-main", "timesteps_since_restore": 294197, "info": {"default": {"entropy": 1.394476056098938, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9710888862609863, "policy_loss": -0.012367172166705132, "cur_kl_coeff": 0.1499999761581421, "total_loss": 1.9588277339935303, "kl": 0.016548428684473038, "vf_loss": 1.968712568283081}, "update_time_ms": 146.295, "sample_time_ms": 15096.691, "num_steps_trained": 294197, "grad_time_ms": 10091.741, "load_time_ms": 23.715, "num_steps_sampled": 294197}, "training_iteration": 7, "date": "2019-05-06_00-22-49", "episode_reward_min": 201.57619893883947, "episode_len_mean": 700.0, "episode_reward_max": 809.4713828474479, "time_total_s": 178.1418285369873, "custom_metrics": {"cost2_min": -85.21075259320287, "system_level_velocity_min": 2.411122064577178, "cost2_max": -20.391337510318575, "system_level_velocity_max": 12.972908144209844, "outflow_rate_min": 271.7926593771898, "cost2_mean": -52.208589415708204, "cost1_mean": 244.3287400075029, "outflow_rate_mean": 785.252258589516, "system_level_velocity_mean": 9.263182868123216, "cost1_max": 345.84317582643723, "cost1_min": 60.86876265790884, "outflow_rate_max": 1083.9412310156551}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 104, "num_metric_batches_dropped": 0, "episodes_this_iter": 19, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedef0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedeb8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedfd0>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 7}
{"policy_reward_mean": {}, "time_this_iter_s": 25.007609844207764, "time_since_restore": 203.14943838119507, "timestamp": 1557102194, "episode_reward_mean": 566.6541068152242, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 42741, "timesteps_total": 336938, "done": false, "hostname": "flow-main", "timesteps_since_restore": 336938, "info": {"default": {"entropy": 1.3971991539001465, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9682174324989319, "policy_loss": -0.011887483298778534, "cur_kl_coeff": 0.14999999105930328, "total_loss": 2.1700644493103027, "kl": 0.015166481956839561, "vf_loss": 2.1796767711639404}, "update_time_ms": 129.226, "sample_time_ms": 14876.399, "num_steps_trained": 336938, "grad_time_ms": 10276.83, "load_time_ms": 21.891, "num_steps_sampled": 336938}, "training_iteration": 8, "date": "2019-05-06_00-23-14", "episode_reward_min": 236.88433327050225, "episode_len_mean": 700.0, "episode_reward_max": 809.4713828474479, "time_total_s": 203.14943838119507, "custom_metrics": {"cost2_min": -85.21075259320287, "system_level_velocity_min": 3.939421254226217, "cost2_max": -20.391337510318575, "system_level_velocity_max": 13.224646239946185, "outflow_rate_min": 407.9717588050733, "cost2_mean": -57.553551528053184, "cost1_mean": 254.7880774501447, "outflow_rate_mean": 829.0859533610673, "system_level_velocity_mean": 9.633455100395889, "cost1_max": 352.619312573558, "cost1_min": 100.87654506010992, "outflow_rate_max": 1134.3741784178324}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 119, "num_metric_batches_dropped": 0, "episodes_this_iter": 15, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74128>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed390>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74710>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 8}
{"policy_reward_mean": {}, "time_this_iter_s": 22.990352869033813, "time_since_restore": 226.13979125022888, "timestamp": 1557102217, "episode_reward_mean": 617.0869675119984, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 40811, "timesteps_total": 377749, "done": false, "hostname": "flow-main", "timesteps_since_restore": 377749, "info": {"default": {"entropy": 1.357442021369934, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9634331464767456, "policy_loss": -0.015760546550154686, "cur_kl_coeff": 0.14999999105930328, "total_loss": 2.59643816947937, "kl": 0.02224801294505596, "vf_loss": 2.6088616847991943}, "update_time_ms": 115.917, "sample_time_ms": 14651.13, "num_steps_trained": 377749, "grad_time_ms": 10251.015, "load_time_ms": 20.56, "num_steps_sampled": 377749}, "training_iteration": 9, "date": "2019-05-06_00-23-37", "episode_reward_min": 311.76112646354056, "episode_len_mean": 700.0, "episode_reward_max": 900.2843070812162, "time_total_s": 226.13979125022888, "custom_metrics": {"cost2_min": -85.21075259320287, "system_level_velocity_min": 3.939421254226217, "cost2_max": -29.053902551934033, "system_level_velocity_max": 13.849350856516525, "outflow_rate_min": 407.9717588050733, "cost2_mean": -63.030500111097155, "cost1_mean": 265.6748791498232, "outflow_rate_mean": 875.5331026699756, "system_level_velocity_mean": 10.01285896850642, "cost1_max": 374.78964574617333, "cost1_min": 100.87654506010992, "outflow_rate_max": 1164.9509242844954}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 133, "num_metric_batches_dropped": 0, "episodes_this_iter": 14, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed7b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed9e8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedc88>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 9}
{"policy_reward_mean": {}, "time_this_iter_s": 22.785733461380005, "time_since_restore": 248.9255247116089, "timestamp": 1557102240, "episode_reward_mean": 669.756419574326, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 40419, "timesteps_total": 418168, "done": false, "hostname": "flow-main", "timesteps_since_restore": 418168, "info": {"default": {"entropy": 1.3631937503814697, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9581422805786133, "policy_loss": -0.014891339465975761, "cur_kl_coeff": 0.22499999403953552, "total_loss": 3.1654858589172363, "kl": 0.016077792271971703, "vf_loss": 3.1767594814300537}, "update_time_ms": 105.138, "sample_time_ms": 14427.5, "num_steps_trained": 418168, "grad_time_ms": 10250.155, "load_time_ms": 22.24, "num_steps_sampled": 418168}, "training_iteration": 10, "date": "2019-05-06_00-24-00", "episode_reward_min": 350.7658618959986, "episode_len_mean": 700.0, "episode_reward_max": 900.2843070812162, "time_total_s": 248.9255247116089, "custom_metrics": {"cost2_min": -99.93609277587545, "system_level_velocity_min": 3.939421254226217, "cost2_max": -32.79056215361013, "system_level_velocity_max": 13.849350856516525, "outflow_rate_min": 407.9717588050733, "cost2_mean": -67.00525759472997, "cost1_mean": 278.28484601170186, "outflow_rate_mean": 916.9996923952881, "system_level_velocity_mean": 10.464100714354798, "cost1_max": 374.78964574617333, "cost1_min": 100.87654506010992, "outflow_rate_max": 1164.9509242844954}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 153, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedf28>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed358>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedd68>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 10}
{"policy_reward_mean": {}, "time_this_iter_s": 22.231101512908936, "time_since_restore": 271.1566262245178, "timestamp": 1557102262, "episode_reward_mean": 701.3248646117804, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 39242, "timesteps_total": 457410, "done": false, "hostname": "flow-main", "timesteps_since_restore": 457410, "info": {"default": {"entropy": 1.344407081604004, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9464513063430786, "policy_loss": -0.015556559897959232, "cur_kl_coeff": 0.2250000238418579, "total_loss": 4.773098945617676, "kl": 0.016316862776875496, "vf_loss": 4.784984111785889}, "update_time_ms": 8.532, "sample_time_ms": 14022.313, "num_steps_trained": 457410, "grad_time_ms": 10161.086, "load_time_ms": 16.55, "num_steps_sampled": 457410}, "training_iteration": 11, "date": "2019-05-06_00-24-22", "episode_reward_min": 394.37546303138333, "episode_len_mean": 700.0, "episode_reward_max": 972.3284912604832, "time_total_s": 271.1566262245178, "custom_metrics": {"cost2_min": -99.93609277587545, "system_level_velocity_min": 3.939421254226217, "cost2_max": -44.94066872847889, "system_level_velocity_max": 15.235024248801507, "outflow_rate_min": 407.9717588050733, "cost2_mean": -69.4556775201417, "cost1_mean": 287.49782093844, "outflow_rate_mean": 939.9070484171624, "system_level_velocity_mean": 10.810044818381112, "cost1_max": 398.8440675604307, "cost1_min": 100.87654506010992, "outflow_rate_max": 1164.9509242844954}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 170, "num_metric_batches_dropped": 0, "episodes_this_iter": 17, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74978>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74b38>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74cc0>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 11}
{"policy_reward_mean": {}, "time_this_iter_s": 22.330256938934326, "time_since_restore": 293.48688316345215, "timestamp": 1557102285, "episode_reward_mean": 724.1373505812383, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 37999, "timesteps_total": 495409, "done": false, "hostname": "flow-main", "timesteps_since_restore": 495409, "info": {"default": {"entropy": 1.321297526359558, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9544600248336792, "policy_loss": -0.015236523002386093, "cur_kl_coeff": 0.2250000238418579, "total_loss": 4.096992492675781, "kl": 0.01939549297094345, "vf_loss": 4.107864856719971}, "update_time_ms": 8.785, "sample_time_ms": 13854.492, "num_steps_trained": 495409, "grad_time_ms": 9989.557, "load_time_ms": 18.165, "num_steps_sampled": 495409}, "training_iteration": 12, "date": "2019-05-06_00-24-45", "episode_reward_min": 486.39488737210934, "episode_len_mean": 700.0, "episode_reward_max": 972.3284912604832, "time_total_s": 293.48688316345215, "custom_metrics": {"cost2_min": -99.93609277587545, "system_level_velocity_min": 7.5767111077322715, "cost2_max": -27.31566849489295, "system_level_velocity_max": 15.235024248801507, "outflow_rate_min": 688.9358145161417, "cost2_mean": -68.9699442182588, "cost1_mean": 298.5565132365728, "outflow_rate_mean": 952.8240847849935, "system_level_velocity_mean": 11.249828716002655, "cost1_max": 398.8440675604307, "cost1_min": 198.4335701244695, "outflow_rate_max": 1164.9509242844954}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 190, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7ae80>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7ac88>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7ab70>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 12}
{"policy_reward_mean": {}, "time_this_iter_s": 24.47250509262085, "time_since_restore": 317.959388256073, "timestamp": 1557102309, "episode_reward_mean": 740.3047679452039, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 38734, "timesteps_total": 534143, "done": false, "hostname": "flow-main", "timesteps_since_restore": 534143, "info": {"default": {"entropy": 1.315880537033081, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9630973935127258, "policy_loss": -0.017778826877474785, "cur_kl_coeff": 0.22500000894069672, "total_loss": 4.438294410705566, "kl": 0.01919352263212204, "vf_loss": 4.451754570007324}, "update_time_ms": 8.726, "sample_time_ms": 14012.47, "num_steps_trained": 534143, "grad_time_ms": 10028.596, "load_time_ms": 18.038, "num_steps_sampled": 534143}, "training_iteration": 13, "date": "2019-05-06_00-25-09", "episode_reward_min": 486.39488737210934, "episode_len_mean": 700.0, "episode_reward_max": 972.3284912604832, "time_total_s": 317.959388256073, "custom_metrics": {"cost2_min": -99.93609277587545, "system_level_velocity_min": 7.288560711973771, "cost2_max": -27.31566849489295, "system_level_velocity_max": 16.123595160767024, "outflow_rate_min": 688.9358145161417, "cost2_mean": -66.19151237789828, "cost1_mean": 309.82766001806226, "outflow_rate_mean": 951.7117729656634, "system_level_velocity_mean": 11.693503352489023, "cost1_max": 429.1165825949848, "cost1_min": 193.42297954215792, "outflow_rate_max": 1164.9509242844954}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 208, "num_metric_batches_dropped": 0, "episodes_this_iter": 18, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed208>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefede10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedcc0>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 13}
{"policy_reward_mean": {}, "time_this_iter_s": 23.80213713645935, "time_since_restore": 341.76152539253235, "timestamp": 1557102333, "episode_reward_mean": 749.5286637600315, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 40289, "timesteps_total": 574432, "done": false, "hostname": "flow-main", "timesteps_since_restore": 574432, "info": {"default": {"entropy": 1.3617552518844604, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9573899507522583, "policy_loss": -0.017992286011576653, "cur_kl_coeff": 0.22500000894069672, "total_loss": 5.0952372550964355, "kl": 0.019235732033848763, "vf_loss": 5.108901500701904}, "update_time_ms": 8.904, "sample_time_ms": 13808.705, "num_steps_trained": 574432, "grad_time_ms": 10250.697, "load_time_ms": 19.765, "num_steps_sampled": 574432}, "training_iteration": 14, "date": "2019-05-06_00-25-33", "episode_reward_min": 22.89744635103518, "episode_len_mean": 693.16, "episode_reward_max": 972.3284912604832, "time_total_s": 341.76152539253235, "custom_metrics": {"cost2_min": -99.93609277587545, "system_level_velocity_min": 7.288560711973771, "cost2_max": -8.243771459714083, "system_level_velocity_max": 16.284714825695545, "outflow_rate_min": 440.29843071181995, "cost2_mean": -62.86118727795052, "cost1_mean": 320.1035712524252, "outflow_rate_mean": 960.091057446174, "system_level_velocity_mean": 12.24530746128764, "cost1_max": 429.1165825949848, "cost1_min": 10.306706415195094, "outflow_rate_max": 1141.605966124257}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 229, "num_metric_batches_dropped": 0, "episodes_this_iter": 21, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add748d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed240>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74a90>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 14}
{"policy_reward_mean": {}, "time_this_iter_s": 23.26229214668274, "time_since_restore": 365.0238175392151, "timestamp": 1557102356, "episode_reward_mean": 749.9634914882283, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 37741, "timesteps_total": 612173, "done": false, "hostname": "flow-main", "timesteps_since_restore": 612173, "info": {"default": {"entropy": 1.3108084201812744, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9479398131370544, "policy_loss": -0.01583457551896572, "cur_kl_coeff": 0.2250000238418579, "total_loss": 5.041977882385254, "kl": 0.019983774051070213, "vf_loss": 5.053316593170166}, "update_time_ms": 9.239, "sample_time_ms": 13516.043, "num_steps_trained": 612173, "grad_time_ms": 10074.981, "load_time_ms": 20.83, "num_steps_sampled": 612173}, "training_iteration": 15, "date": "2019-05-06_00-25-56", "episode_reward_min": 22.89744635103518, "episode_len_mean": 693.16, "episode_reward_max": 972.3284912604832, "time_total_s": 365.0238175392151, "custom_metrics": {"cost2_min": -99.93609277587545, "system_level_velocity_min": 7.288560711973771, "cost2_max": -8.243771459714083, "system_level_velocity_max": 16.52110400263837, "outflow_rate_min": 440.29843071181995, "cost2_mean": -61.696611872458035, "cost1_mean": 326.69250761299105, "outflow_rate_mean": 961.1603518531841, "system_level_velocity_mean": 12.510636571175269, "cost1_max": 436.3674231668649, "cost1_min": 10.306706415195094, "outflow_rate_max": 1189.6857543680453}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 246, "num_metric_batches_dropped": 0, "episodes_this_iter": 17, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a1d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a668>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7ac18>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 15}
{"policy_reward_mean": {}, "time_this_iter_s": 25.175804376602173, "time_since_restore": 390.19962191581726, "timestamp": 1557102381, "episode_reward_mean": 752.8978517140681, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 37726, "timesteps_total": 649899, "done": false, "hostname": "flow-main", "timesteps_since_restore": 649899, "info": {"default": {"entropy": 1.2452901601791382, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9159600138664246, "policy_loss": -0.016940061002969742, "cur_kl_coeff": 0.2250000238418579, "total_loss": 6.611784934997559, "kl": 0.019825445488095284, "vf_loss": 6.624263763427734}, "update_time_ms": 9.309, "sample_time_ms": 13729.493, "num_steps_trained": 649899, "grad_time_ms": 9897.016, "load_time_ms": 19.169, "num_steps_sampled": 649899}, "training_iteration": 16, "date": "2019-05-06_00-26-21", "episode_reward_min": 22.89744635103518, "episode_len_mean": 693.16, "episode_reward_max": 957.1451361465619, "time_total_s": 390.19962191581726, "custom_metrics": {"cost2_min": -87.82963827907302, "system_level_velocity_min": 7.288560711973771, "cost2_max": -8.243771459714083, "system_level_velocity_max": 16.52110400263837, "outflow_rate_min": 440.29843071181995, "cost2_mean": -58.329315417547114, "cost1_mean": 334.3782854033474, "outflow_rate_mean": 967.7172111079858, "system_level_velocity_mean": 12.81362213553024, "cost1_max": 436.3674231668649, "cost1_min": 10.306706415195094, "outflow_rate_max": 1231.539125912596}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 267, "num_metric_batches_dropped": 0, "episodes_this_iter": 21, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7acc0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7ab00>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a978>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 16}
{"policy_reward_mean": {}, "time_this_iter_s": 22.823920965194702, "time_since_restore": 413.02354288101196, "timestamp": 1557102404, "episode_reward_mean": 761.3881258879504, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 37450, "timesteps_total": 687349, "done": false, "hostname": "flow-main", "timesteps_since_restore": 687349, "info": {"default": {"entropy": 1.281083583831787, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9481470584869385, "policy_loss": -0.017183370888233185, "cur_kl_coeff": 0.22500000894069672, "total_loss": 4.902207851409912, "kl": 0.020753514021635056, "vf_loss": 4.914721488952637}, "update_time_ms": 8.981, "sample_time_ms": 13639.129, "num_steps_trained": 687349, "grad_time_ms": 9740.018, "load_time_ms": 18.454, "num_steps_sampled": 687349}, "training_iteration": 17, "date": "2019-05-06_00-26-44", "episode_reward_min": 22.89744635103518, "episode_len_mean": 693.16, "episode_reward_max": 957.1451361465619, "time_total_s": 413.02354288101196, "custom_metrics": {"cost2_min": -88.68004931305026, "system_level_velocity_min": 7.288560711973771, "cost2_max": -8.243771459714083, "system_level_velocity_max": 16.52110400263837, "outflow_rate_min": 440.29843071181995, "cost2_mean": -56.137683360893476, "cost1_mean": 337.82622648961086, "outflow_rate_mean": 973.990054994081, "system_level_velocity_mean": 12.926328641940612, "cost1_max": 436.3674231668649, "cost1_min": 10.306706415195094, "outflow_rate_max": 1231.539125912596}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 286, "num_metric_batches_dropped": 0, "episodes_this_iter": 19, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7af28>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7af60>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a518>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 17}
{"policy_reward_mean": {}, "time_this_iter_s": 22.246018886566162, "time_since_restore": 435.2695617675781, "timestamp": 1557102427, "episode_reward_mean": 763.7058784995077, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 36675, "timesteps_total": 724024, "done": false, "hostname": "flow-main", "timesteps_since_restore": 724024, "info": {"default": {"entropy": 1.224430799484253, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8787632584571838, "policy_loss": -0.01899574138224125, "cur_kl_coeff": 0.33750003576278687, "total_loss": 8.132946968078613, "kl": 0.017940286546945572, "vf_loss": 8.14588737487793}, "update_time_ms": 8.79, "sample_time_ms": 13581.169, "num_steps_trained": 724024, "grad_time_ms": 9523.283, "load_time_ms": 18.206, "num_steps_sampled": 724024}, "training_iteration": 18, "date": "2019-05-06_00-27-07", "episode_reward_min": 22.89744635103518, "episode_len_mean": 693.16, "episode_reward_max": 957.1451361465619, "time_total_s": 435.2695617675781, "custom_metrics": {"cost2_min": -88.68004931305026, "system_level_velocity_min": 8.305476137830258, "cost2_max": -8.243771459714083, "system_level_velocity_max": 16.52110400263837, "outflow_rate_min": 440.29843071181995, "cost2_mean": -55.74027178028237, "cost1_mean": 339.16349654277883, "outflow_rate_mean": 983.8920187381098, "system_level_velocity_mean": 12.970802378425043, "cost1_max": 436.3674231668649, "cost1_min": 10.306706415195094, "outflow_rate_max": 1231.539125912596}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 307, "num_metric_batches_dropped": 0, "episodes_this_iter": 21, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74358>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74d30>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74160>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 18}
{"policy_reward_mean": {}, "time_this_iter_s": 21.76914405822754, "time_since_restore": 457.03870582580566, "timestamp": 1557102448, "episode_reward_mean": 775.3837630029728, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35990, "timesteps_total": 760014, "done": false, "hostname": "flow-main", "timesteps_since_restore": 760014, "info": {"default": {"entropy": 1.2182353734970093, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8671733736991882, "policy_loss": -0.017429227009415627, "cur_kl_coeff": 0.33750003576278687, "total_loss": 8.787084579467773, "kl": 0.01636091060936451, "vf_loss": 8.798991203308105}, "update_time_ms": 8.81, "sample_time_ms": 13655.508, "num_steps_trained": 760014, "grad_time_ms": 9327.562, "load_time_ms": 17.999, "num_steps_sampled": 760014}, "training_iteration": 19, "date": "2019-05-06_00-27-28", "episode_reward_min": 518.9722897765821, "episode_len_mean": 700.0, "episode_reward_max": 957.1451361465619, "time_total_s": 457.03870582580566, "custom_metrics": {"cost2_min": -88.68004931305026, "system_level_velocity_min": 8.305476137830258, "cost2_max": -24.772843650143027, "system_level_velocity_max": 16.52110400263837, "outflow_rate_min": 730.8435077308824, "cost2_mean": -56.136837350969834, "cost1_mean": 346.3487447765432, "outflow_rate_mean": 992.3969958777344, "system_level_velocity_mean": 13.087857249341436, "cost1_max": 436.3674231668649, "cost1_min": 211.8689688804421, "outflow_rate_max": 1231.539125912596}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 327, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a5f8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7aa90>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7aba8>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 19}
{"policy_reward_mean": {}, "time_this_iter_s": 21.791150093078613, "time_since_restore": 478.8298559188843, "timestamp": 1557102470, "episode_reward_mean": 784.1421882394759, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35757, "timesteps_total": 795771, "done": false, "hostname": "flow-main", "timesteps_since_restore": 795771, "info": {"default": {"entropy": 1.2183561325073242, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8508426547050476, "policy_loss": -0.016949886456131935, "cur_kl_coeff": 0.33750003576278687, "total_loss": 9.2432861328125, "kl": 0.017129329964518547, "vf_loss": 9.25445556640625}, "update_time_ms": 8.857, "sample_time_ms": 13695.834, "num_steps_trained": 795771, "grad_time_ms": 9190.582, "load_time_ms": 15.121, "num_steps_sampled": 795771}, "training_iteration": 20, "date": "2019-05-06_00-27-50", "episode_reward_min": 644.807301141753, "episode_len_mean": 700.0, "episode_reward_max": 977.9248511848449, "time_total_s": 478.8298559188843, "custom_metrics": {"cost2_min": -88.68004931305026, "system_level_velocity_min": 9.007670892928752, "cost2_max": -24.772843650143027, "system_level_velocity_max": 16.295949604896176, "outflow_rate_min": 766.2120370265022, "cost2_mean": -53.08019646945276, "cost1_mean": 353.2002728657706, "outflow_rate_mean": 994.3614289937855, "system_level_velocity_mean": 13.344613381118062, "cost1_max": 435.36460098434594, "cost1_min": 244.77975755825616, "outflow_rate_max": 1231.539125912596}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 347, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a2b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a898>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a0b8>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 20}
{"policy_reward_mean": {}, "time_this_iter_s": 22.486335039138794, "time_since_restore": 501.31619095802307, "timestamp": 1557102493, "episode_reward_mean": 780.9658934083615, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 36265, "timesteps_total": 832036, "done": false, "hostname": "flow-main", "timesteps_since_restore": 832036, "info": {"default": {"entropy": 1.2384148836135864, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8758318424224854, "policy_loss": -0.019466042518615723, "cur_kl_coeff": 0.33750003576278687, "total_loss": 10.59129810333252, "kl": 0.017673185095191002, "vf_loss": 10.604798316955566}, "update_time_ms": 8.785, "sample_time_ms": 13732.224, "num_steps_trained": 832036, "grad_time_ms": 9181.421, "load_time_ms": 14.266, "num_steps_sampled": 832036}, "training_iteration": 21, "date": "2019-05-06_00-28-13", "episode_reward_min": 49.418729524853866, "episode_len_mean": 693.39, "episode_reward_max": 977.9248511848449, "time_total_s": 501.31619095802307, "custom_metrics": {"cost2_min": -88.68004931305026, "system_level_velocity_min": 9.007670892928752, "cost2_max": -14.30959566701766, "system_level_velocity_max": 18.19694643713825, "outflow_rate_min": 516.2798416262304, "cost2_mean": -49.588890835884165, "cost1_mean": 355.0891140060233, "outflow_rate_mean": 982.340794896383, "system_level_velocity_mean": 13.585669979901086, "cost1_max": 427.40080111678463, "cost1_min": 26.139143500556543, "outflow_rate_max": 1163.2290895430306}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 368, "num_metric_batches_dropped": 0, "episodes_this_iter": 21, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed518>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedef0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed898>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 21}
{"policy_reward_mean": {}, "time_this_iter_s": 20.62870144844055, "time_since_restore": 521.9448924064636, "timestamp": 1557102513, "episode_reward_mean": 773.1049168320914, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 36537, "timesteps_total": 868573, "done": false, "hostname": "flow-main", "timesteps_since_restore": 868573, "info": {"default": {"entropy": 1.2901568412780762, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9179452061653137, "policy_loss": -0.022164922207593918, "cur_kl_coeff": 0.33750006556510925, "total_loss": 8.678390502929688, "kl": 0.01883084699511528, "vf_loss": 8.69420051574707}, "update_time_ms": 8.652, "sample_time_ms": 13748.368, "num_steps_trained": 868573, "grad_time_ms": 8998.884, "load_time_ms": 11.829, "num_steps_sampled": 868573}, "training_iteration": 22, "date": "2019-05-06_00-28-33", "episode_reward_min": 49.418729524853866, "episode_len_mean": 686.87, "episode_reward_max": 977.9248511848449, "time_total_s": 521.9448924064636, "custom_metrics": {"cost2_min": -74.72725259017176, "system_level_velocity_min": 10.564030944286605, "cost2_max": -14.279630217839458, "system_level_velocity_max": 18.54646146527241, "outflow_rate_min": 516.2798416262304, "cost2_mean": -46.91653818306105, "cost1_mean": 354.02063013648274, "outflow_rate_mean": 969.1588589379412, "system_level_velocity_mean": 13.733531970666883, "cost1_max": 431.86934693736237, "cost1_min": 26.139143500556543, "outflow_rate_max": 1147.2262196427382}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 389, "num_metric_batches_dropped": 0, "episodes_this_iter": 21, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a630>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a978>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a4e0>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 22}
{"policy_reward_mean": {}, "time_this_iter_s": 23.893146514892578, "time_since_restore": 545.8380389213562, "timestamp": 1557102537, "episode_reward_mean": 775.2325750958403, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 36766, "timesteps_total": 905339, "done": false, "hostname": "flow-main", "timesteps_since_restore": 905339, "info": {"default": {"entropy": 1.3345952033996582, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9517583847045898, "policy_loss": -0.017884597182273865, "cur_kl_coeff": 0.3375000059604645, "total_loss": 7.391219615936279, "kl": 0.01814143918454647, "vf_loss": 7.402981758117676}, "update_time_ms": 8.579, "sample_time_ms": 13789.42, "num_steps_trained": 905339, "grad_time_ms": 8901.166, "load_time_ms": 11.656, "num_steps_sampled": 905339}, "training_iteration": 23, "date": "2019-05-06_00-28-57", "episode_reward_min": 49.418729524853866, "episode_len_mean": 686.87, "episode_reward_max": 977.9248511848449, "time_total_s": 545.8380389213562, "custom_metrics": {"cost2_min": -74.72725259017176, "system_level_velocity_min": 10.407291307701847, "cost2_max": -14.279630217839458, "system_level_velocity_max": 18.54646146527241, "outflow_rate_min": 516.2798416262304, "cost2_mean": -45.88216715142428, "cost1_mean": 355.6392268209189, "outflow_rate_mean": 976.0382281470097, "system_level_velocity_mean": 13.777158561674794, "cost1_max": 431.86934693736237, "cost1_min": 26.139143500556543, "outflow_rate_max": 1147.2262196427382}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 409, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a198>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a518>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7ab70>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 23}
{"policy_reward_mean": {}, "time_this_iter_s": 21.037794589996338, "time_since_restore": 566.8758335113525, "timestamp": 1557102558, "episode_reward_mean": 774.8185692539641, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 36115, "timesteps_total": 941454, "done": false, "hostname": "flow-main", "timesteps_since_restore": 941454, "info": {"default": {"entropy": 1.258673071861267, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.853380560874939, "policy_loss": -0.018184561282396317, "cur_kl_coeff": 0.33750003576278687, "total_loss": 10.885546684265137, "kl": 0.016791237518191338, "vf_loss": 10.898063659667969}, "update_time_ms": 8.614, "sample_time_ms": 13722.79, "num_steps_trained": 941454, "grad_time_ms": 8691.991, "load_time_ms": 9.524, "num_steps_sampled": 941454}, "training_iteration": 24, "date": "2019-05-06_00-29-18", "episode_reward_min": 49.418729524853866, "episode_len_mean": 686.87, "episode_reward_max": 977.9248511848449, "time_total_s": 566.8758335113525, "custom_metrics": {"cost2_min": -70.73407241325961, "system_level_velocity_min": 10.295925987808358, "cost2_max": -14.279630217839458, "system_level_velocity_max": 18.54646146527241, "outflow_rate_min": 516.2798416262304, "cost2_mean": -42.29031998141422, "cost1_mean": 358.09638492921044, "outflow_rate_mean": 976.4111388194733, "system_level_velocity_mean": 13.884811159812108, "cost1_max": 431.86934693736237, "cost1_min": 26.139143500556543, "outflow_rate_max": 1147.2262196427382}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 430, "num_metric_batches_dropped": 0, "episodes_this_iter": 21, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7ae80>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7aa58>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a8d0>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 24}
{"policy_reward_mean": {}, "time_this_iter_s": 21.045817852020264, "time_since_restore": 587.9216513633728, "timestamp": 1557102580, "episode_reward_mean": 770.5448809057314, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 36232, "timesteps_total": 977686, "done": false, "hostname": "flow-main", "timesteps_since_restore": 977686, "info": {"default": {"entropy": 1.3236545324325562, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.9061035513877869, "policy_loss": -0.01798837259411812, "cur_kl_coeff": 0.33750003576278687, "total_loss": 10.35392951965332, "kl": 0.017536042258143425, "vf_loss": 10.366000175476074}, "update_time_ms": 8.599, "sample_time_ms": 13680.216, "num_steps_trained": 977686, "grad_time_ms": 8512.709, "load_time_ms": 8.123, "num_steps_sampled": 977686}, "training_iteration": 25, "date": "2019-05-06_00-29-40", "episode_reward_min": 49.418729524853866, "episode_len_mean": 686.87, "episode_reward_max": 951.5820824208067, "time_total_s": 587.9216513633728, "custom_metrics": {"cost2_min": -63.24618834107485, "system_level_velocity_min": 10.066130867372657, "cost2_max": -14.279630217839458, "system_level_velocity_max": 18.54646146527241, "outflow_rate_min": 516.2798416262304, "cost2_mean": -40.34602474361914, "cost1_mean": 355.33230340917515, "outflow_rate_mean": 971.6523691650052, "system_level_velocity_mean": 13.79077408114977, "cost1_max": 431.86934693736237, "cost1_min": 26.139143500556543, "outflow_rate_max": 1144.8848174013629}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 449, "num_metric_batches_dropped": 0, "episodes_this_iter": 19, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a198>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a080>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7abe0>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 25}
{"policy_reward_mean": {}, "time_this_iter_s": 22.94736933708191, "time_since_restore": 610.8690207004547, "timestamp": 1557102603, "episode_reward_mean": 772.6434702813588, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35606, "timesteps_total": 1013292, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1013292, "info": {"default": {"entropy": 1.2907553911209106, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8825287222862244, "policy_loss": -0.020101040601730347, "cur_kl_coeff": 0.33750003576278687, "total_loss": 10.5129976272583, "kl": 0.019383059814572334, "vf_loss": 10.526556968688965}, "update_time_ms": 8.426, "sample_time_ms": 13583.905, "num_steps_trained": 1013292, "grad_time_ms": 8385.591, "load_time_ms": 8.249, "num_steps_sampled": 1013292}, "training_iteration": 26, "date": "2019-05-06_00-30-03", "episode_reward_min": 58.478509223879634, "episode_len_mean": 693.48, "episode_reward_max": 951.5820824208067, "time_total_s": 610.8690207004547, "custom_metrics": {"cost2_min": -63.24618834107485, "system_level_velocity_min": 9.010779354009063, "cost2_max": -14.279630217839458, "system_level_velocity_max": 18.54646146527241, "outflow_rate_min": 538.3215311843727, "cost2_mean": -39.04511375727358, "cost1_mean": 357.13049986294607, "outflow_rate_mean": 976.9546075586758, "system_level_velocity_mean": 13.697483873892823, "cost1_max": 431.86934693736237, "cost1_min": 31.598288547633786, "outflow_rate_max": 1157.9813016110909}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 472, "num_metric_batches_dropped": 0, "episodes_this_iter": 23, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed630>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed390>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed358>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 26}
{"policy_reward_mean": {}, "time_this_iter_s": 22.182101726531982, "time_since_restore": 633.0511224269867, "timestamp": 1557102625, "episode_reward_mean": 772.808349073639, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35472, "timesteps_total": 1048764, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1048764, "info": {"default": {"entropy": 1.282216191291809, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7757337093353271, "policy_loss": -0.018883807584643364, "cur_kl_coeff": 0.3375000059604645, "total_loss": 13.2109956741333, "kl": 0.018208110705018044, "vf_loss": 13.223732948303223}, "update_time_ms": 8.369, "sample_time_ms": 13660.385, "num_steps_trained": 1048764, "grad_time_ms": 8246.999, "load_time_ms": 8.253, "num_steps_sampled": 1048764}, "training_iteration": 27, "date": "2019-05-06_00-30-25", "episode_reward_min": 38.66842098163163, "episode_len_mean": 693.29, "episode_reward_max": 951.5820824208067, "time_total_s": 633.0511224269867, "custom_metrics": {"cost2_min": -63.24618834107485, "system_level_velocity_min": 9.010779354009063, "cost2_max": -12.962836116407532, "system_level_velocity_max": 17.874045727628147, "outflow_rate_min": 493.4100718231657, "cost2_mean": -36.44891192407934, "cost1_mean": 357.86126809967, "outflow_rate_mean": 973.0246857439203, "system_level_velocity_mean": 13.721504322052743, "cost1_max": 428.5530268035086, "cost1_min": 19.28599093031214, "outflow_rate_max": 1157.9813016110909}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 494, "num_metric_batches_dropped": 0, "episodes_this_iter": 22, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c9b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7ca20>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c9e8>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 27}
{"policy_reward_mean": {}, "time_this_iter_s": 20.043463945388794, "time_since_restore": 653.0945863723755, "timestamp": 1557102645, "episode_reward_mean": 777.5369246635072, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35770, "timesteps_total": 1084534, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1084534, "info": {"default": {"entropy": 1.2726624011993408, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8168051838874817, "policy_loss": -0.018763063475489616, "cur_kl_coeff": 0.33750003576278687, "total_loss": 12.979552268981934, "kl": 0.017282923683524132, "vf_loss": 12.992481231689453}, "update_time_ms": 8.421, "sample_time_ms": 13732.114, "num_steps_trained": 1084534, "grad_time_ms": 7953.957, "load_time_ms": 8.508, "num_steps_sampled": 1084534}, "training_iteration": 28, "date": "2019-05-06_00-30-45", "episode_reward_min": 38.66842098163163, "episode_len_mean": 693.29, "episode_reward_max": 918.1940477511156, "time_total_s": 653.0945863723755, "custom_metrics": {"cost2_min": -61.79631025017603, "system_level_velocity_min": 9.010779354009063, "cost2_max": -12.962836116407532, "system_level_velocity_max": 17.874045727628147, "outflow_rate_min": 493.4100718231657, "cost2_mean": -34.202099903735245, "cost1_mean": 362.0028050399894, "outflow_rate_mean": 969.6787159169637, "system_level_velocity_mean": 13.89092021858317, "cost1_max": 428.5530268035086, "cost1_min": 19.28599093031214, "outflow_rate_max": 1157.9813016110909}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 514, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c160>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c048>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c080>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 28}
{"policy_reward_mean": {}, "time_this_iter_s": 24.2945077419281, "time_since_restore": 677.3890941143036, "timestamp": 1557102669, "episode_reward_mean": 778.0784327624435, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 36815, "timesteps_total": 1121349, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1121349, "info": {"default": {"entropy": 1.3176484107971191, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8531757593154907, "policy_loss": -0.020513970404863358, "cur_kl_coeff": 0.3375000059604645, "total_loss": 13.017706871032715, "kl": 0.018651816993951797, "vf_loss": 13.031925201416016}, "update_time_ms": 8.27, "sample_time_ms": 13960.369, "num_steps_trained": 1121349, "grad_time_ms": 7978.088, "load_time_ms": 8.634, "num_steps_sampled": 1121349}, "training_iteration": 29, "date": "2019-05-06_00-31-09", "episode_reward_min": 38.66842098163163, "episode_len_mean": 693.29, "episode_reward_max": 918.1940477511156, "time_total_s": 677.3890941143036, "custom_metrics": {"cost2_min": -61.79631025017603, "system_level_velocity_min": 9.010779354009063, "cost2_max": -12.962836116407532, "system_level_velocity_max": 17.874045727628147, "outflow_rate_min": 493.4100718231657, "cost2_mean": -32.63827049920692, "cost1_mean": 362.21236848107174, "outflow_rate_mean": 965.3239617806827, "system_level_velocity_mean": 13.886885595185271, "cost1_max": 426.5862951650546, "cost1_min": 19.28599093031214, "outflow_rate_max": 1165.3566189823896}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 538, "num_metric_batches_dropped": 0, "episodes_this_iter": 24, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c630>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7cb70>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7ce80>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 29}
{"policy_reward_mean": {}, "time_this_iter_s": 21.116527557373047, "time_since_restore": 698.5056216716766, "timestamp": 1557102690, "episode_reward_mean": 782.6706720367172, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35134, "timesteps_total": 1156483, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1156483, "info": {"default": {"entropy": 1.253754734992981, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7869692444801331, "policy_loss": -0.01988137699663639, "cur_kl_coeff": 0.33750003576278687, "total_loss": 12.570441246032715, "kl": 0.0192888006567955, "vf_loss": 12.58381175994873}, "update_time_ms": 8.006, "sample_time_ms": 13964.023, "num_steps_trained": 1156483, "grad_time_ms": 7905.934, "load_time_ms": 8.579, "num_steps_sampled": 1156483}, "training_iteration": 30, "date": "2019-05-06_00-31-30", "episode_reward_min": 38.66842098163163, "episode_len_mean": 693.29, "episode_reward_max": 918.1940477511156, "time_total_s": 698.5056216716766, "custom_metrics": {"cost2_min": -61.79631025017603, "system_level_velocity_min": 9.337391034291814, "cost2_max": -12.962836116407532, "system_level_velocity_max": 17.874045727628147, "outflow_rate_min": 493.4100718231657, "cost2_mean": -31.14172259985476, "cost1_mean": 362.667124641436, "outflow_rate_mean": 961.1940777990596, "system_level_velocity_mean": 13.890929890518008, "cost1_max": 426.5862951650546, "cost1_min": 19.28599093031214, "outflow_rate_max": 1165.3566189823896}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 558, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c518>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c748>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c908>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 30}
{"policy_reward_mean": {}, "time_this_iter_s": 21.282565116882324, "time_since_restore": 719.788186788559, "timestamp": 1557102712, "episode_reward_mean": 793.685282125608, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35178, "timesteps_total": 1191661, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1191661, "info": {"default": {"entropy": 1.2928475141525269, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8297060132026672, "policy_loss": -0.019188717007637024, "cur_kl_coeff": 0.33750003576278687, "total_loss": 12.144515037536621, "kl": 0.018250152468681335, "vf_loss": 12.15754508972168}, "update_time_ms": 8.093, "sample_time_ms": 13992.575, "num_steps_trained": 1191661, "grad_time_ms": 7758.52, "load_time_ms": 8.207, "num_steps_sampled": 1191661}, "training_iteration": 31, "date": "2019-05-06_00-31-52", "episode_reward_min": 38.66842098163163, "episode_len_mean": 693.29, "episode_reward_max": 918.1940477511156, "time_total_s": 719.788186788559, "custom_metrics": {"cost2_min": -61.79631025017603, "system_level_velocity_min": 9.337391034291814, "cost2_max": -12.962836116407532, "system_level_velocity_max": 17.874045727628147, "outflow_rate_min": 493.4100718231657, "cost2_mean": -30.246729747370956, "cost1_mean": 366.4574011304084, "outflow_rate_mean": 965.8612895667201, "system_level_velocity_mean": 14.019840670210508, "cost1_max": 426.5862951650546, "cost1_min": 19.28599093031214, "outflow_rate_max": 1165.3566189823896}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 579, "num_metric_batches_dropped": 0, "episodes_this_iter": 21, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c240>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c080>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c160>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 31}
{"policy_reward_mean": {}, "time_this_iter_s": 22.475440740585327, "time_since_restore": 742.2636275291443, "timestamp": 1557102734, "episode_reward_mean": 793.7599309238165, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35036, "timesteps_total": 1226697, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1226697, "info": {"default": {"entropy": 1.2952938079833984, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8696867823600769, "policy_loss": -0.021702272817492485, "cur_kl_coeff": 0.33750003576278687, "total_loss": 12.285883903503418, "kl": 0.0193091481924057, "vf_loss": 12.301070213317871}, "update_time_ms": 7.936, "sample_time_ms": 14074.518, "num_steps_trained": 1226697, "grad_time_ms": 7860.865, "load_time_ms": 8.198, "num_steps_sampled": 1226697}, "training_iteration": 32, "date": "2019-05-06_00-32-14", "episode_reward_min": 646.5095005676727, "episode_len_mean": 700.0, "episode_reward_max": 911.2931456253533, "time_total_s": 742.2636275291443, "custom_metrics": {"cost2_min": -56.634131203552684, "system_level_velocity_min": 8.672622073873558, "cost2_max": -16.17886879591163, "system_level_velocity_max": 16.273101026265152, "outflow_rate_min": 750.6441140163322, "cost2_mean": -29.932841174099572, "cost1_mean": 368.7416496433884, "outflow_rate_mean": 961.9329209845084, "system_level_velocity_mean": 13.947838248742674, "cost1_max": 426.5862951650546, "cost1_min": 232.08136492834953, "outflow_rate_max": 1165.3566189823896}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 599, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7cc50>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7cef0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c630>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 32}
{"policy_reward_mean": {}, "time_this_iter_s": 22.09479308128357, "time_since_restore": 764.3584206104279, "timestamp": 1557102756, "episode_reward_mean": 791.4939896712568, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 34985, "timesteps_total": 1261682, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1261682, "info": {"default": {"entropy": 1.2877000570297241, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.80687415599823, "policy_loss": -0.023491617292165756, "cur_kl_coeff": 0.33750003576278687, "total_loss": 12.519076347351074, "kl": 0.021223504096269608, "vf_loss": 12.535406112670898}, "update_time_ms": 7.697, "sample_time_ms": 13958.282, "num_steps_trained": 1261682, "grad_time_ms": 7798.274, "load_time_ms": 7.898, "num_steps_sampled": 1261682}, "training_iteration": 33, "date": "2019-05-06_00-32-36", "episode_reward_min": 646.5095005676727, "episode_len_mean": 700.0, "episode_reward_max": 911.2931456253533, "time_total_s": 764.3584206104279, "custom_metrics": {"cost2_min": -51.14410084017308, "system_level_velocity_min": 8.672622073873558, "cost2_max": -16.17886879591163, "system_level_velocity_max": 16.273101026265152, "outflow_rate_min": 750.6441140163322, "cost2_mean": -28.380122044290175, "cost1_mean": 371.0465261184764, "outflow_rate_mean": 955.2184118393889, "system_level_velocity_mean": 14.054463050290288, "cost1_max": 420.47897677637866, "cost1_min": 232.08136492834953, "outflow_rate_max": 1125.8709499902498}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 621, "num_metric_batches_dropped": 0, "episodes_this_iter": 22, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c4a8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c978>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefd4f60>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 33}
{"policy_reward_mean": {}, "time_this_iter_s": 20.90791153907776, "time_since_restore": 785.2663321495056, "timestamp": 1557102777, "episode_reward_mean": 788.4914145269094, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35527, "timesteps_total": 1297209, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1297209, "info": {"default": {"entropy": 1.3453633785247803, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8749366998672485, "policy_loss": -0.018470339477062225, "cur_kl_coeff": 0.5062499046325684, "total_loss": 14.109084129333496, "kl": 0.014232564717531204, "vf_loss": 14.12034797668457}, "update_time_ms": 7.609, "sample_time_ms": 14043.489, "num_steps_trained": 1297209, "grad_time_ms": 7703.045, "load_time_ms": 7.849, "num_steps_sampled": 1297209}, "training_iteration": 34, "date": "2019-05-06_00-32-57", "episode_reward_min": 635.3830634029495, "episode_len_mean": 700.0, "episode_reward_max": 911.2931456253533, "time_total_s": 785.2663321495056, "custom_metrics": {"cost2_min": -51.4589005194428, "system_level_velocity_min": 8.672622073873558, "cost2_max": -16.022721599542233, "system_level_velocity_max": 16.273101026265152, "outflow_rate_min": 787.0873280203688, "cost2_mean": -28.28973231887931, "cost1_mean": 372.08436454262426, "outflow_rate_mean": 948.6983969367805, "system_level_velocity_mean": 14.10737254718885, "cost1_max": 423.8491107211372, "cost1_min": 232.08136492834953, "outflow_rate_max": 1106.4833849148815}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 642, "num_metric_batches_dropped": 0, "episodes_this_iter": 21, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a7f0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7aeb8>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a320>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 34}
{"policy_reward_mean": {}, "time_this_iter_s": 22.417919158935547, "time_since_restore": 807.6842513084412, "timestamp": 1557102800, "episode_reward_mean": 770.2613181254704, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35113, "timesteps_total": 1332322, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1332322, "info": {"default": {"entropy": 1.3248004913330078, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8576306700706482, "policy_loss": -0.02239595167338848, "cur_kl_coeff": 0.5062499046325684, "total_loss": 12.76688003540039, "kl": 0.01608346775174141, "vf_loss": 12.781134605407715}, "update_time_ms": 7.416, "sample_time_ms": 14136.436, "num_steps_trained": 1332322, "grad_time_ms": 7750.068, "load_time_ms": 8.224, "num_steps_sampled": 1332322}, "training_iteration": 35, "date": "2019-05-06_00-33-20", "episode_reward_min": 503.7197506668631, "episode_len_mean": 700.0, "episode_reward_max": 911.2931456253533, "time_total_s": 807.6842513084412, "custom_metrics": {"cost2_min": -51.4589005194428, "system_level_velocity_min": 8.672622073873558, "cost2_max": -16.022721599542233, "system_level_velocity_max": 16.262010805215667, "outflow_rate_min": 781.7967161668802, "cost2_mean": -27.304708387124677, "cost1_mean": 370.8444240885736, "outflow_rate_mean": 938.7297873726762, "system_level_velocity_mean": 14.083527986597135, "cost1_max": 423.8491107211372, "cost1_min": 232.08136492834953, "outflow_rate_max": 1106.4833849148815}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 666, "num_metric_batches_dropped": 0, "episodes_this_iter": 24, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7cc50>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c630>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c240>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 35}
{"policy_reward_mean": {}, "time_this_iter_s": 22.597543001174927, "time_since_restore": 830.2817943096161, "timestamp": 1557102822, "episode_reward_mean": 764.5367096976859, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35434, "timesteps_total": 1367756, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1367756, "info": {"default": {"entropy": 1.3463698625564575, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7748152017593384, "policy_loss": -0.01958310417830944, "cur_kl_coeff": 0.5062499046325684, "total_loss": 15.154650688171387, "kl": 0.014580505900084972, "vf_loss": 15.166851043701172}, "update_time_ms": 7.35, "sample_time_ms": 14093.899, "num_steps_trained": 1367756, "grad_time_ms": 7757.58, "load_time_ms": 8.17, "num_steps_sampled": 1367756}, "training_iteration": 36, "date": "2019-05-06_00-33-42", "episode_reward_min": 503.7197506668631, "episode_len_mean": 700.0, "episode_reward_max": 907.5576391652747, "time_total_s": 830.2817943096161, "custom_metrics": {"cost2_min": -51.4589005194428, "system_level_velocity_min": 10.113457009979793, "cost2_max": -15.141756742407962, "system_level_velocity_max": 16.262010805215667, "outflow_rate_min": 781.7967161668802, "cost2_mean": -26.56832180391816, "cost1_mean": 366.7164526470448, "outflow_rate_mean": 927.3298896553221, "system_level_velocity_mean": 13.926749328763727, "cost1_max": 423.8491107211372, "cost1_min": 268.4364155605133, "outflow_rate_max": 1077.8411290533636}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 691, "num_metric_batches_dropped": 0, "episodes_this_iter": 25, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c6d8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c898>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c9b0>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 36}
{"policy_reward_mean": {}, "time_this_iter_s": 21.482282638549805, "time_since_restore": 851.7640769481659, "timestamp": 1557102844, "episode_reward_mean": 764.4290595440689, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35354, "timesteps_total": 1403110, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1403110, "info": {"default": {"entropy": 1.3442717790603638, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8236296772956848, "policy_loss": -0.018306175246834755, "cur_kl_coeff": 0.5062499046325684, "total_loss": 15.716877937316895, "kl": 0.013254097662866116, "vf_loss": 15.728474617004395}, "update_time_ms": 7.239, "sample_time_ms": 14053.655, "num_steps_trained": 1403110, "grad_time_ms": 7728.491, "load_time_ms": 7.819, "num_steps_sampled": 1403110}, "training_iteration": 37, "date": "2019-05-06_00-34-04", "episode_reward_min": 503.7197506668631, "episode_len_mean": 700.0, "episode_reward_max": 907.5576391652747, "time_total_s": 851.7640769481659, "custom_metrics": {"cost2_min": -51.4589005194428, "system_level_velocity_min": 7.4946782839844195, "cost2_max": -15.141756742407962, "system_level_velocity_max": 16.262010805215667, "outflow_rate_min": 658.8226201419369, "cost2_mean": -25.44424887161517, "cost1_mean": 364.7279889272892, "outflow_rate_mean": 921.4163967675929, "system_level_velocity_mean": 13.824399430124888, "cost1_max": 423.8491107211372, "cost1_min": 199.79350335989648, "outflow_rate_max": 1065.8996207649557}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 713, "num_metric_batches_dropped": 0, "episodes_this_iter": 22, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed3c8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed240>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed780>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 37}
{"policy_reward_mean": {}, "time_this_iter_s": 20.725054025650024, "time_since_restore": 872.4891309738159, "timestamp": 1557102865, "episode_reward_mean": 762.3567084985286, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35180, "timesteps_total": 1438290, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1438290, "info": {"default": {"entropy": 1.3511778116226196, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7865712642669678, "policy_loss": -0.0207095704972744, "cur_kl_coeff": 0.5062499046325684, "total_loss": 14.455338478088379, "kl": 0.014236519113183022, "vf_loss": 14.468840599060059}, "update_time_ms": 7.157, "sample_time_ms": 14065.786, "num_steps_trained": 1438290, "grad_time_ms": 7785.32, "load_time_ms": 7.776, "num_steps_sampled": 1438290}, "training_iteration": 38, "date": "2019-05-06_00-34-25", "episode_reward_min": 503.7197506668631, "episode_len_mean": 700.0, "episode_reward_max": 914.4060605238278, "time_total_s": 872.4891309738159, "custom_metrics": {"cost2_min": -43.10604987590002, "system_level_velocity_min": 7.4946782839844195, "cost2_max": -15.141756742407962, "system_level_velocity_max": 16.08347061637495, "outflow_rate_min": 658.8226201419369, "cost2_mean": -24.210294809661193, "cost1_mean": 364.2891952779899, "outflow_rate_mean": 919.7711227023646, "system_level_velocity_mean": 13.79153133212591, "cost1_max": 423.8491107211372, "cost1_min": 199.79350335989648, "outflow_rate_max": 1065.8996207649557}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 735, "num_metric_batches_dropped": 0, "episodes_this_iter": 22, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c160>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74470>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7c080>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 38}
{"policy_reward_mean": {}, "time_this_iter_s": 20.865307092666626, "time_since_restore": 893.3544380664825, "timestamp": 1557102886, "episode_reward_mean": 766.0288412271286, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35232, "timesteps_total": 1473522, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1473522, "info": {"default": {"entropy": 1.361050009727478, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7885031700134277, "policy_loss": -0.017799433320760727, "cur_kl_coeff": 0.5062499642372131, "total_loss": 14.742042541503906, "kl": 0.014332370832562447, "vf_loss": 14.752585411071777}, "update_time_ms": 6.924, "sample_time_ms": 13708.479, "num_steps_trained": 1473522, "grad_time_ms": 7799.988, "load_time_ms": 7.865, "num_steps_sampled": 1473522}, "training_iteration": 39, "date": "2019-05-06_00-34-46", "episode_reward_min": 503.7197506668631, "episode_len_mean": 700.0, "episode_reward_max": 914.4060605238278, "time_total_s": 893.3544380664825, "custom_metrics": {"cost2_min": -40.355768350878975, "system_level_velocity_min": 7.4946782839844195, "cost2_max": -14.074773454255652, "system_level_velocity_max": 16.0257449781012, "outflow_rate_min": 658.8226201419369, "cost2_mean": -23.58100711742898, "cost1_mean": 363.20835755494704, "outflow_rate_mean": 917.0346234179691, "system_level_velocity_mean": 13.7333049558776, "cost1_max": 419.7333491229617, "cost1_min": 199.79350335989648, "outflow_rate_max": 1063.0123806165805}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 755, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add74080>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b828>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b940>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 39}
{"policy_reward_mean": {}, "time_this_iter_s": 21.547714471817017, "time_since_restore": 914.9021525382996, "timestamp": 1557102907, "episode_reward_mean": 773.8031277923735, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35245, "timesteps_total": 1508767, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1508767, "info": {"default": {"entropy": 1.3504164218902588, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7482651472091675, "policy_loss": -0.018511392176151276, "cur_kl_coeff": 0.5062499642372131, "total_loss": 16.00592041015625, "kl": 0.014056642539799213, "vf_loss": 16.017314910888672}, "update_time_ms": 7.207, "sample_time_ms": 13741.771, "num_steps_trained": 1508767, "grad_time_ms": 7810.57, "load_time_ms": 7.725, "num_steps_sampled": 1508767}, "training_iteration": 40, "date": "2019-05-06_00-35-07", "episode_reward_min": 565.6005665146727, "episode_len_mean": 700.0, "episode_reward_max": 914.4060605238278, "time_total_s": 914.9021525382996, "custom_metrics": {"cost2_min": -40.355768350878975, "system_level_velocity_min": 7.4946782839844195, "cost2_max": -14.074773454255652, "system_level_velocity_max": 16.0257449781012, "outflow_rate_min": 658.8226201419369, "cost2_mean": -23.060417442271074, "cost1_mean": 366.71104837143315, "outflow_rate_mean": 916.2632266558842, "system_level_velocity_mean": 13.846879037545214, "cost1_max": 419.825989508501, "cost1_min": 199.79350335989648, "outflow_rate_max": 1052.745874823777}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 776, "num_metric_batches_dropped": 0, "episodes_this_iter": 21, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b710>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b9b0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b898>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 40}
{"policy_reward_mean": {}, "time_this_iter_s": 21.364229679107666, "time_since_restore": 936.2663822174072, "timestamp": 1557102929, "episode_reward_mean": 775.0751851111136, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 34399, "timesteps_total": 1543166, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1543166, "info": {"default": {"entropy": 1.331534504890442, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8079174757003784, "policy_loss": -0.017956960946321487, "cur_kl_coeff": 0.5062499642372131, "total_loss": 16.903608322143555, "kl": 0.01447329018265009, "vf_loss": 16.91423797607422}, "update_time_ms": 6.993, "sample_time_ms": 13724.029, "num_steps_trained": 1543166, "grad_time_ms": 7835.874, "load_time_ms": 8.365, "num_steps_sampled": 1543166}, "training_iteration": 41, "date": "2019-05-06_00-35-29", "episode_reward_min": 565.6005665146727, "episode_len_mean": 700.0, "episode_reward_max": 914.4060605238278, "time_total_s": 936.2663822174072, "custom_metrics": {"cost2_min": -40.355768350878975, "system_level_velocity_min": 7.4946782839844195, "cost2_max": -14.074773454255652, "system_level_velocity_max": 16.234521313505784, "outflow_rate_min": 658.8226201419369, "cost2_mean": -22.731003548347406, "cost1_mean": 369.7157511941724, "outflow_rate_mean": 916.6388287354454, "system_level_velocity_mean": 13.968366444318692, "cost1_max": 425.77898585004067, "cost1_min": 199.79350335989648, "outflow_rate_max": 1083.4800289962438}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 796, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a470>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7a860>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add7ab38>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 41}
{"policy_reward_mean": {}, "time_this_iter_s": 22.732730865478516, "time_since_restore": 958.9991130828857, "timestamp": 1557102951, "episode_reward_mean": 774.8564349270227, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 34500, "timesteps_total": 1577666, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1577666, "info": {"default": {"entropy": 1.2925059795379639, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6847517490386963, "policy_loss": -0.018621157854795456, "cur_kl_coeff": 0.5062499642372131, "total_loss": 18.99030303955078, "kl": 0.014032741077244282, "vf_loss": 19.001821517944336}, "update_time_ms": 7.027, "sample_time_ms": 13701.131, "num_steps_trained": 1577666, "grad_time_ms": 7883.185, "load_time_ms": 8.472, "num_steps_sampled": 1577666}, "training_iteration": 42, "date": "2019-05-06_00-35-51", "episode_reward_min": 546.4481178299294, "episode_len_mean": 700.0, "episode_reward_max": 885.4332682644508, "time_total_s": 958.9991130828857, "custom_metrics": {"cost2_min": -46.55899821020725, "system_level_velocity_min": 10.12565125181548, "cost2_max": -14.074773454255652, "system_level_velocity_max": 17.13642446554092, "outflow_rate_min": 786.7669679115527, "cost2_mean": -23.15267829196892, "cost1_mean": 376.5008696895167, "outflow_rate_mean": 927.7723614975242, "system_level_velocity_mean": 14.268906845026857, "cost1_max": 434.10341058583595, "cost1_min": 266.74133834833594, "outflow_rate_max": 1093.4683809816513}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 821, "num_metric_batches_dropped": 0, "episodes_this_iter": 25, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed860>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedd30>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedc18>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 42}
{"policy_reward_mean": {}, "time_this_iter_s": 22.503387212753296, "time_since_restore": 981.502500295639, "timestamp": 1557102974, "episode_reward_mean": 779.6108854331727, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 34541, "timesteps_total": 1612207, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1612207, "info": {"default": {"entropy": 1.3145792484283447, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7692133784294128, "policy_loss": -0.020410900935530663, "cur_kl_coeff": 0.5062499642372131, "total_loss": 15.141907691955566, "kl": 0.01472958642989397, "vf_loss": 15.154861450195312}, "update_time_ms": 7.162, "sample_time_ms": 13638.626, "num_steps_trained": 1612207, "grad_time_ms": 7986.649, "load_time_ms": 8.434, "num_steps_sampled": 1612207}, "training_iteration": 43, "date": "2019-05-06_00-36-14", "episode_reward_min": 546.4481178299294, "episode_len_mean": 700.0, "episode_reward_max": 885.4332682644508, "time_total_s": 981.502500295639, "custom_metrics": {"cost2_min": -46.55899821020725, "system_level_velocity_min": 10.923419111279037, "cost2_max": -14.266470245084667, "system_level_velocity_max": 17.13642446554092, "outflow_rate_min": 786.7669679115527, "cost2_mean": -23.693332959220854, "cost1_mean": 381.39442648160684, "outflow_rate_mean": 940.4325191089108, "system_level_velocity_mean": 14.465062315904648, "cost1_max": 434.10341058583595, "cost1_min": 283.1241769295426, "outflow_rate_max": 1093.4683809816513}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 843, "num_metric_batches_dropped": 0, "episodes_this_iter": 22, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8bef0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8bbe0>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b4e0>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 43}
{"policy_reward_mean": {}, "time_this_iter_s": 21.464373350143433, "time_since_restore": 1002.9668736457825, "timestamp": 1557102995, "episode_reward_mean": 784.2963962055177, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 34503, "timesteps_total": 1646710, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1646710, "info": {"default": {"entropy": 1.2914955615997314, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6573585867881775, "policy_loss": -0.02083384245634079, "cur_kl_coeff": 0.5062499642372131, "total_loss": 19.51382827758789, "kl": 0.014600072987377644, "vf_loss": 19.527271270751953}, "update_time_ms": 6.995, "sample_time_ms": 13730.989, "num_steps_trained": 1646710, "grad_time_ms": 7950.447, "load_time_ms": 8.203, "num_steps_sampled": 1646710}, "training_iteration": 44, "date": "2019-05-06_00-36-35", "episode_reward_min": 546.4481178299294, "episode_len_mean": 700.0, "episode_reward_max": 905.1361964202464, "time_total_s": 1002.9668736457825, "custom_metrics": {"cost2_min": -46.55899821020725, "system_level_velocity_min": 11.015098743701957, "cost2_max": -14.382846541183355, "system_level_velocity_max": 17.13642446554092, "outflow_rate_min": 805.9960464054698, "cost2_mean": -23.75958691963464, "cost1_mean": 388.8118130554038, "outflow_rate_mean": 948.7708400275199, "system_level_velocity_mean": 14.771258888812099, "cost1_max": 434.10341058583595, "cost1_min": 295.51455935482477, "outflow_rate_max": 1093.4683809816513}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 869, "num_metric_batches_dropped": 0, "episodes_this_iter": 26, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed358>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefeda58>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed320>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 44}
{"policy_reward_mean": {}, "time_this_iter_s": 22.11599063873291, "time_since_restore": 1025.0828642845154, "timestamp": 1557103018, "episode_reward_mean": 784.5381562643972, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 34670, "timesteps_total": 1681380, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1681380, "info": {"default": {"entropy": 1.3279613256454468, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7816230058670044, "policy_loss": -0.01905468851327896, "cur_kl_coeff": 0.5062499046325684, "total_loss": 18.036314010620117, "kl": 0.014094165526330471, "vf_loss": 18.04823112487793}, "update_time_ms": 6.885, "sample_time_ms": 13582.274, "num_steps_trained": 1681380, "grad_time_ms": 8066.854, "load_time_ms": 7.956, "num_steps_sampled": 1681380}, "training_iteration": 45, "date": "2019-05-06_00-36-58", "episode_reward_min": 546.4481178299294, "episode_len_mean": 700.0, "episode_reward_max": 905.1361964202464, "time_total_s": 1025.0828642845154, "custom_metrics": {"cost2_min": -46.55899821020725, "system_level_velocity_min": 11.292957856708599, "cost2_max": -14.382846541183355, "system_level_velocity_max": 17.13642446554092, "outflow_rate_min": 730.3133632307741, "cost2_mean": -23.95897311551664, "cost1_mean": 389.1668003400225, "outflow_rate_mean": 951.4761515358689, "system_level_velocity_mean": 14.79164901101931, "cost1_max": 434.10341058583595, "cost1_min": 302.41082294256967, "outflow_rate_max": 1093.4683809816513}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 892, "num_metric_batches_dropped": 0, "episodes_this_iter": 23, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8bcc0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b828>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b320>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 45}
{"policy_reward_mean": {}, "time_this_iter_s": 20.643489599227905, "time_since_restore": 1045.7263538837433, "timestamp": 1557103038, "episode_reward_mean": 778.5952112709117, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35100, "timesteps_total": 1716480, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1716480, "info": {"default": {"entropy": 1.3470500707626343, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7958412170410156, "policy_loss": -0.021566784009337425, "cur_kl_coeff": 0.5062499046325684, "total_loss": 14.430923461914062, "kl": 0.015015083365142345, "vf_loss": 14.4448881149292}, "update_time_ms": 7.182, "sample_time_ms": 13304.59, "num_steps_trained": 1716480, "grad_time_ms": 8149.008, "load_time_ms": 8.117, "num_steps_sampled": 1716480}, "training_iteration": 46, "date": "2019-05-06_00-37-18", "episode_reward_min": 546.4481178299294, "episode_len_mean": 700.0, "episode_reward_max": 905.1361964202464, "time_total_s": 1045.7263538837433, "custom_metrics": {"cost2_min": -44.579006312172424, "system_level_velocity_min": 10.732658528058657, "cost2_max": -14.382846541183355, "system_level_velocity_max": 16.875313095617134, "outflow_rate_min": 730.3133632307741, "cost2_mean": -24.451715086976005, "cost1_mean": 384.8965370156321, "outflow_rate_mean": 944.0677510872061, "system_level_velocity_mean": 14.627854357211767, "cost1_max": 434.10341058583595, "cost1_min": 285.49850013557796, "outflow_rate_max": 1095.167859611256}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 912, "num_metric_batches_dropped": 0, "episodes_this_iter": 20, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b3c8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b898>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8bc18>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 46}
{"policy_reward_mean": {}, "time_this_iter_s": 22.01169204711914, "time_since_restore": 1067.7380459308624, "timestamp": 1557103060, "episode_reward_mean": 775.9181789348138, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 34906, "timesteps_total": 1751386, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1751386, "info": {"default": {"entropy": 1.3328368663787842, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7334343194961548, "policy_loss": -0.021317796781659126, "cur_kl_coeff": 0.5062499046325684, "total_loss": 15.861627578735352, "kl": 0.013927189633250237, "vf_loss": 15.875893592834473}, "update_time_ms": 7.218, "sample_time_ms": 13410.579, "num_steps_trained": 1751386, "grad_time_ms": 8095.656, "load_time_ms": 8.805, "num_steps_sampled": 1751386}, "training_iteration": 47, "date": "2019-05-06_00-37-40", "episode_reward_min": 581.4678395654513, "episode_len_mean": 700.0, "episode_reward_max": 905.1361964202464, "time_total_s": 1067.7380459308624, "custom_metrics": {"cost2_min": -44.579006312172424, "system_level_velocity_min": 10.732658528058657, "cost2_max": -14.382846541183355, "system_level_velocity_max": 16.936998362210502, "outflow_rate_min": 730.3133632307741, "cost2_mean": -24.537550197317945, "cost1_mean": 383.15364951242964, "outflow_rate_mean": 935.9821694746871, "system_level_velocity_mean": 14.585882490069878, "cost1_max": 433.95939575995686, "cost1_min": 285.49850013557796, "outflow_rate_max": 1095.167859611256}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 936, "num_metric_batches_dropped": 0, "episodes_this_iter": 24, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8beb8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8be10>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8bc88>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 47}
{"policy_reward_mean": {}, "time_this_iter_s": 22.79069209098816, "time_since_restore": 1090.5287380218506, "timestamp": 1557103083, "episode_reward_mean": 781.2797469568204, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35752, "timesteps_total": 1787138, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1787138, "info": {"default": {"entropy": 1.4439107179641724, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8356364369392395, "policy_loss": -0.02342572808265686, "cur_kl_coeff": 0.5062499046325684, "total_loss": 17.939476013183594, "kl": 0.015587884932756424, "vf_loss": 17.95500946044922}, "update_time_ms": 7.264, "sample_time_ms": 13423.559, "num_steps_trained": 1787138, "grad_time_ms": 8289.082, "load_time_ms": 8.708, "num_steps_sampled": 1787138}, "training_iteration": 48, "date": "2019-05-06_00-38-03", "episode_reward_min": 581.4678395654513, "episode_len_mean": 700.0, "episode_reward_max": 901.8806873708853, "time_total_s": 1090.5287380218506, "custom_metrics": {"cost2_min": -46.31454264487877, "system_level_velocity_min": 10.496376904112884, "cost2_max": -15.3844091581465, "system_level_velocity_max": 16.936998362210502, "outflow_rate_min": 730.3133632307741, "cost2_mean": -25.144913441069043, "cost1_mean": 381.3087845306658, "outflow_rate_mean": 939.9845856915078, "system_level_velocity_mean": 14.507609169346452, "cost1_max": 436.26575184885525, "cost1_min": 277.43217198672835, "outflow_rate_max": 1097.526077105486}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 958, "num_metric_batches_dropped": 0, "episodes_this_iter": 22, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b4a8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8bf28>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b080>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 48}
{"policy_reward_mean": {}, "time_this_iter_s": 21.225611686706543, "time_since_restore": 1111.7543497085571, "timestamp": 1557103104, "episode_reward_mean": 771.0134098700386, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 34500, "timesteps_total": 1821638, "done": false, "hostname": "flow-main", "timesteps_since_restore": 1821638, "info": {"default": {"entropy": 1.4151734113693237, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8234594464302063, "policy_loss": -0.02201341651380062, "cur_kl_coeff": 0.5062499642372131, "total_loss": 14.290489196777344, "kl": 0.01417552586644888, "vf_loss": 14.305326461791992}, "update_time_ms": 7.395, "sample_time_ms": 13400.472, "num_steps_trained": 1821638, "grad_time_ms": 8344.659, "load_time_ms": 8.774, "num_steps_sampled": 1821638}, "training_iteration": 49, "date": "2019-05-06_00-38-24", "episode_reward_min": 581.4678395654513, "episode_len_mean": 700.0, "episode_reward_max": 901.8806873708853, "time_total_s": 1111.7543497085571, "custom_metrics": {"cost2_min": -46.31454264487877, "system_level_velocity_min": 10.053896518234376, "cost2_max": -15.3844091581465, "system_level_velocity_max": 16.936998362210502, "outflow_rate_min": 730.3133632307741, "cost2_mean": -26.186949067616442, "cost1_mean": 376.0664617591035, "outflow_rate_mean": 931.7191632617767, "system_level_velocity_mean": 14.30656129494204, "cost1_max": 436.26575184885525, "cost1_min": 265.0307370898136, "outflow_rate_max": 1097.526077105486}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 980, "num_metric_batches_dropped": 0, "episodes_this_iter": 22, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b710>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8b278>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0add8bbe0>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 49}
{"policy_reward_mean": {}, "time_this_iter_s": 21.38184666633606, "time_since_restore": 1133.1361963748932, "timestamp": 1557103126, "episode_reward_mean": 768.9390391042878, "pid": 12618, "node_ip": "10.138.0.2", "timesteps_this_iter": 35266, "timesteps_total": 1856904, "done": true, "hostname": "flow-main", "timesteps_since_restore": 1856904, "info": {"default": {"entropy": 1.3949642181396484, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.857421875, "policy_loss": -0.018672840669751167, "cur_kl_coeff": 0.5062499642372131, "total_loss": 16.04928970336914, "kl": 0.013443665578961372, "vf_loss": 16.061155319213867}, "update_time_ms": 7.867, "sample_time_ms": 13466.342, "num_steps_trained": 1856904, "grad_time_ms": 8262.447, "load_time_ms": 9.062, "num_steps_sampled": 1856904}, "training_iteration": 50, "date": "2019-05-06_00-38-46", "episode_reward_min": 588.5817605757184, "episode_len_mean": 700.0, "episode_reward_max": 901.8806873708853, "time_total_s": 1133.1361963748932, "custom_metrics": {"cost2_min": -49.18808729797796, "system_level_velocity_min": 10.053896518234376, "cost2_max": -15.34026767634191, "system_level_velocity_max": 16.936998362210502, "outflow_rate_min": 789.1209694946743, "cost2_mean": -26.26165341420387, "cost1_mean": 377.8889019858591, "outflow_rate_mean": 930.0738714896694, "system_level_velocity_mean": 14.391993421324514, "cost1_max": 436.26575184885525, "cost1_min": 265.0307370898136, "outflow_rate_max": 1097.526077105486}, "experiment_id": "ad71d576228148fbb166d1ccb0622a9f", "episodes_total": 1004, "num_metric_batches_dropped": 0, "episodes_this_iter": 24, "config": {"synchronize_filters": true, "input_evaluation": null, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed630>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefed320>", "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fb0aefedc18>"}, "kl_target": 0.01, "gamma": 0.99, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "sample_batch_size": 200, "num_gpus": 0, "sgd_minibatch_size": 128, "collect_metrics_timeout": 180, "use_gae": true, "num_envs_per_worker": 1, "input": "sampler", "lr_schedule": null, "straggler_mitigation": false, "optimizer": {}, "log_level": "INFO", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:5.0", "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "horizon": 1500, "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "vf_loss_coeff": 1.0, "vf_share_layers": false, "sample_async": false, "vf_clip_param": 1000000.0, "compress_observations": false, "preprocessor_pref": "deepmind", "observation_filter": "MeanStdFilter", "output_max_file_size": 67108864, "kl_coeff": 0.2, "model": {"use_lstm": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "custom_model": null, "custom_preprocessor": null, "max_seq_len": 20, "framestack": true, "custom_options": {}, "grayscale": false, "lstm_cell_size": 256, "channel_major": false, "free_log_std": false, "conv_activation": "relu", "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "fcnet_activation": "tanh", "conv_filters": null}, "num_sgd_iter": 10, "simple_optimizer": false, "entropy_coeff": 0.0, "batch_mode": "truncate_episodes", "num_cpus_per_worker": 1, "clip_rewards": null, "tf_session_args": {"device_count": {"CPU": 1}, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "monitor": false, "clip_param": 0.3, "train_batch_size": 30000, "clip_actions": false, "num_workers": 20, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "lambda": 0.97, "num_cpus_for_driver": 1, "lr": 0.0005}, "iterations_since_restore": 50}
