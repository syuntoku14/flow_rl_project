{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 70.85779237747192, "episode_reward_max": 382.2520120572553, "episodes_this_iter": 41, "timesteps_total": 113766, "episodes_total": 41, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 51.9967335012275, "episode_len_mean": 683.8536585365854, "timesteps_this_iter": 113766, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 1, "done": false, "info": {"update_time_ms": 2514.057, "default": {"entropy": 1.4258683919906616, "vf_explained_var": 0.9014714956283569, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.00028658504015766084, "cur_lr": 0.0005000000237487257, "total_loss": 1.162629246711731, "kl": 0.0008278590976260602, "vf_loss": 1.162750244140625}, "num_steps_sampled": 113766, "load_time_ms": 63.506, "num_steps_trained": 113766, "sample_time_ms": 44876.764, "grad_time_ms": 23144.467}, "training_iteration": 1, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acc0b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acca20>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acc940>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 256.68983652524275, "timestamp": 1556412536, "time_total_s": 70.85779237747192, "date": "2019-04-28_00-48-56", "timesteps_since_restore": 113766, "time_since_restore": 70.85779237747192, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -20.632677529005015, "system_level_velocity_mean": 8.001397640287692, "cost1_max": 239.94629852315734, "cost1_min": 24.481979820697415, "cost1_mean": 195.56529650915977, "outflow_rate_min": 500.8216993545232, "outflow_rate_mean": 609.919330218455, "cost2_min": -76.48491067045097, "system_level_velocity_max": 18.22006463023601, "outflow_rate_max": 784.2039364042388, "system_level_velocity_min": 5.9476713428628285, "cost2_mean": -52.166559594315004}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 40.98142981529236, "episode_reward_max": 382.2520120572553, "episodes_this_iter": 57, "timesteps_total": 237548, "episodes_total": 98, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 51.9967335012275, "episode_len_mean": 693.2448979591836, "timesteps_this_iter": 123782, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 2, "done": false, "info": {"update_time_ms": 1263.01, "default": {"entropy": 1.416477918624878, "vf_explained_var": 0.9076731204986572, "cur_kl_coeff": 0.10000002384185791, "policy_loss": -0.0033970950171351433, "cur_lr": 0.0005000000237487257, "total_loss": 0.7776567935943604, "kl": 0.008064771071076393, "vf_loss": 0.7802475094795227}, "num_steps_sampled": 237548, "load_time_ms": 43.65, "num_steps_trained": 237548, "sample_time_ms": 30094.42, "grad_time_ms": 24264.662}, "training_iteration": 2, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a676d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67048>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67828>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 268.379497228694, "timestamp": 1556412577, "time_total_s": 111.83922219276428, "date": "2019-04-28_00-49-37", "timesteps_since_restore": 237548, "time_since_restore": 111.83922219276428, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -20.632677529005015, "system_level_velocity_mean": 7.712942250003113, "cost1_max": 239.94629852315734, "cost1_min": 24.481979820697415, "cost1_mean": 194.70333189031294, "outflow_rate_min": 372.53102158296963, "outflow_rate_mean": 607.0113935827801, "cost2_min": -87.84755152815765, "system_level_velocity_max": 18.22006463023601, "outflow_rate_max": 784.2039364042388, "system_level_velocity_min": 5.563020358166686, "cost2_mean": -56.028331835203616}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 39.53326916694641, "episode_reward_max": 528.4695462684309, "episodes_this_iter": 35, "timesteps_total": 358731, "episodes_total": 133, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 177.96802421616852, "episode_len_mean": 700.0, "timesteps_this_iter": 121183, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 3, "done": false, "info": {"update_time_ms": 845.968, "default": {"entropy": 1.3975191116333008, "vf_explained_var": 0.906493604183197, "cur_kl_coeff": 0.10000002384185791, "policy_loss": -0.004676233045756817, "cur_lr": 0.0005000000237487257, "total_loss": 2.645677089691162, "kl": 0.008831782266497612, "vf_loss": 2.649470090866089}, "num_steps_sampled": 358731, "load_time_ms": 34.241, "num_steps_trained": 358731, "sample_time_ms": 25212.662, "grad_time_ms": 24120.534}, "training_iteration": 3, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b470>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b6d8>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 315.44252393421414, "timestamp": 1556412617, "time_total_s": 151.3724913597107, "date": "2019-04-28_00-50-17", "timesteps_since_restore": 358731, "time_since_restore": 151.3724913597107, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -31.089778513561097, "system_level_velocity_mean": 7.880001553331721, "cost1_max": 280.0486256122754, "cost1_min": 121.39262522640028, "cost1_mean": 204.39012362829553, "outflow_rate_min": 372.53102158296963, "outflow_rate_mean": 634.2148262489176, "cost2_min": -115.42764380041523, "system_level_velocity_max": 10.866773197722464, "outflow_rate_max": 866.7237841149927, "system_level_velocity_min": 4.5422636918846315, "cost2_mean": -61.3857695884578}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 39.67299270629883, "episode_reward_max": 742.5449306982291, "episodes_this_iter": 44, "timesteps_total": 483653, "episodes_total": 177, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 179.37466538249183, "episode_len_mean": 700.0, "timesteps_this_iter": 124922, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 4, "done": false, "info": {"update_time_ms": 637.05, "default": {"entropy": 1.388015627861023, "vf_explained_var": 0.866008996963501, "cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.0016191325848922133, "cur_lr": 0.0005000000237487257, "total_loss": 5.4509711265563965, "kl": 0.004587872885167599, "vf_loss": 5.452131271362305}, "num_steps_sampled": 483653, "load_time_ms": 32.197, "num_steps_trained": 483653, "sample_time_ms": 22745.509, "grad_time_ms": 24106.95}, "training_iteration": 4, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a677b8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67a20>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 420.1456713952212, "timestamp": 1556412656, "time_total_s": 191.04548406600952, "date": "2019-04-28_00-50-56", "timesteps_since_restore": 483653, "time_since_restore": 191.04548406600952, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -31.089778513561097, "system_level_velocity_mean": 8.738889914273072, "cost1_max": 323.72037893825586, "cost1_min": 121.39262522640028, "cost1_mean": 228.2433536683541, "outflow_rate_min": 372.53102158296963, "outflow_rate_mean": 707.5556647027565, "cost2_min": -115.42764380041523, "system_level_velocity_max": 12.144468034894954, "outflow_rate_max": 965.7694596949025, "system_level_velocity_min": 4.5422636918846315, "cost2_mean": -71.18545780573167}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 38.895708084106445, "episode_reward_max": 814.5731143479095, "episodes_this_iter": 46, "timesteps_total": 607139, "episodes_total": 223, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 197.68223274999306, "episode_len_mean": 700.0, "timesteps_this_iter": 123486, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 5, "done": false, "info": {"update_time_ms": 512.837, "default": {"entropy": 1.3861442804336548, "vf_explained_var": 0.8489565849304199, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0009685911354608834, "cur_lr": 0.0005000000237487257, "total_loss": 6.140514850616455, "kl": 0.004579475615173578, "vf_loss": 6.141254901885986}, "num_steps_sampled": 607139, "load_time_ms": 29.27, "num_steps_trained": 607139, "sample_time_ms": 21252.43, "grad_time_ms": 23954.305}, "training_iteration": 5, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bc18>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5be80>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 571.1225832982664, "timestamp": 1556412695, "time_total_s": 229.94119215011597, "date": "2019-04-28_00-51-35", "timesteps_since_restore": 607139, "time_since_restore": 229.94119215011597, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -43.789663567283846, "system_level_velocity_mean": 9.879914950008642, "cost1_max": 333.78089656024935, "cost1_min": 121.39262522640028, "cost1_mean": 261.391822597856, "outflow_rate_min": 423.2235419328153, "outflow_rate_mean": 826.4596191845636, "cost2_min": -134.1513833284423, "system_level_velocity_max": 12.361964136698523, "outflow_rate_max": 1042.6734925885905, "system_level_velocity_min": 4.5422636918846315, "cost2_mean": -93.76950878972094}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 36.077635526657104, "episode_reward_max": 814.5731143479095, "episodes_this_iter": 56, "timesteps_total": 726308, "episodes_total": 279, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 479.9294812833485, "episode_len_mean": 700.0, "timesteps_this_iter": 119169, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 6, "done": false, "info": {"update_time_ms": 429.129, "default": {"entropy": 1.3752950429916382, "vf_explained_var": 0.8436897993087769, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0012707924470305443, "cur_lr": 0.0005000000237487257, "total_loss": 7.840939044952393, "kl": 0.005531024653464556, "vf_loss": 7.842071533203125}, "num_steps_sampled": 726308, "load_time_ms": 28.206, "num_steps_trained": 726308, "sample_time_ms": 20053.893, "grad_time_ms": 23588.957}, "training_iteration": 6, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a670b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67b70>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67da0>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 678.542466293798, "timestamp": 1556412731, "time_total_s": 266.01882767677307, "date": "2019-04-28_00-52-11", "timesteps_since_restore": 726308, "time_since_restore": 266.01882767677307, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -84.99371011228754, "system_level_velocity_mean": 10.701702502170486, "cost1_max": 333.78089656024935, "cost1_min": 211.51364275846151, "cost1_mean": 285.26379366598314, "outflow_rate_min": 673.5575100252147, "outflow_rate_mean": 915.8891137980529, "cost2_min": -148.08530169256085, "system_level_velocity_max": 12.361964136698523, "outflow_rate_max": 1042.6734925885905, "system_level_velocity_min": 8.10069908400806, "cost2_mean": -112.80556678735283}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 36.88294267654419, "episode_reward_max": 815.04491851562, "episodes_this_iter": 60, "timesteps_total": 845545, "episodes_total": 339, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 47.4507582243173, "episode_len_mean": 693.37, "timesteps_this_iter": 119237, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 7, "done": false, "info": {"update_time_ms": 369.132, "default": {"entropy": 1.3606300354003906, "vf_explained_var": 0.8081697821617126, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0005235830903984606, "cur_lr": 0.0005000000237487257, "total_loss": 9.755932807922363, "kl": 0.004286502953618765, "vf_loss": 9.756349563598633}, "num_steps_sampled": 845545, "load_time_ms": 27.018, "num_steps_trained": 845545, "sample_time_ms": 19227.957, "grad_time_ms": 23412.673}, "training_iteration": 7, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b0f0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5be80>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 703.4254145885291, "timestamp": 1556412768, "time_total_s": 302.90177035331726, "date": "2019-04-28_00-52-48", "timesteps_since_restore": 845545, "time_since_restore": 302.90177035331726, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -20.634466391752525, "system_level_velocity_mean": 11.158013291950304, "cost1_max": 349.6106511064962, "cost1_min": 23.733820149048356, "cost1_mean": 293.14344970303364, "outflow_rate_min": 512.2654414756628, "outflow_rate_mean": 944.9430659841394, "cost2_min": -153.218327818557, "system_level_velocity_max": 18.081211683125037, "outflow_rate_max": 1053.937019689012, "system_level_velocity_min": 8.10069908400806, "cost2_mean": -119.52002003312518}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 40.9595844745636, "episode_reward_max": 887.5549739819876, "episodes_this_iter": 44, "timesteps_total": 965942, "episodes_total": 383, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 47.4507582243173, "episode_len_mean": 693.37, "timesteps_this_iter": 120397, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 8, "done": false, "info": {"update_time_ms": 324.355, "default": {"entropy": 1.3577094078063965, "vf_explained_var": 0.8261399269104004, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0010133817559108138, "cur_lr": 0.0005000000237487257, "total_loss": 9.81371784210205, "kl": 0.0058584799990057945, "vf_loss": 9.814658164978027}, "num_steps_sampled": 965942, "load_time_ms": 26.605, "num_steps_trained": 965942, "sample_time_ms": 18689.306, "grad_time_ms": 23705.974}, "training_iteration": 8, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a671d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67b70>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a670b8>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 730.3515955285287, "timestamp": 1556412809, "time_total_s": 343.86135482788086, "date": "2019-04-28_00-53-29", "timesteps_since_restore": 965942, "time_since_restore": 343.86135482788086, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -20.634466391752525, "system_level_velocity_mean": 11.654605412840388, "cost1_max": 380.7936661762545, "cost1_min": 23.733820149048356, "cost1_mean": 306.30070373689244, "outflow_rate_min": 512.2654414756628, "outflow_rate_mean": 988.4559152382052, "cost2_min": -173.12149052103206, "system_level_velocity_max": 18.081211683125037, "outflow_rate_max": 1153.7751528697256, "system_level_velocity_min": 9.042398338007878, "cost2_mean": -129.36556054577278}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 38.15582752227783, "episode_reward_max": 887.5549739819876, "episodes_this_iter": 55, "timesteps_total": 1090274, "episodes_total": 438, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 46.6467913435504, "episode_len_mean": 693.37, "timesteps_this_iter": 124332, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 9, "done": false, "info": {"update_time_ms": 289.434, "default": {"entropy": 1.3419355154037476, "vf_explained_var": 0.7637518048286438, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0006539604510180652, "cur_lr": 0.0005000000237487257, "total_loss": 10.517580032348633, "kl": 0.004462200216948986, "vf_loss": 10.518178939819336}, "num_steps_sampled": 1090274, "load_time_ms": 26.325, "num_steps_trained": 1090274, "sample_time_ms": 18289.125, "grad_time_ms": 23604.193}, "training_iteration": 9, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b5f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b7b8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b0f0>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 726.1227048385822, "timestamp": 1556412848, "time_total_s": 382.0171823501587, "date": "2019-04-28_00-54-08", "timesteps_since_restore": 1090274, "time_since_restore": 382.0171823501587, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -22.936056064670762, "system_level_velocity_mean": 11.959674974276565, "cost1_max": 380.7936661762545, "cost1_min": 24.25704778679416, "cost1_mean": 312.6140849047018, "outflow_rate_min": 518.6392970701784, "outflow_rate_mean": 1018.4210347486762, "cost2_min": -184.8692822420143, "system_level_velocity_max": 18.682420750311984, "outflow_rate_max": 1153.7751528697256, "system_level_velocity_min": 8.871899840274349, "cost2_mean": -139.2942448212834}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 40.43990898132324, "episode_reward_max": 906.784998174294, "episodes_this_iter": 38, "timesteps_total": 1215718, "episodes_total": 476, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 46.6467913435504, "episode_len_mean": 693.37, "timesteps_this_iter": 125444, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 10, "done": false, "info": {"update_time_ms": 261.43, "default": {"entropy": 1.3300790786743164, "vf_explained_var": 0.8172745704650879, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0005192822427488863, "cur_lr": 0.0005000000237487257, "total_loss": 9.461092948913574, "kl": 0.006058994214981794, "vf_loss": 9.461575508117676}, "num_steps_sampled": 1215718, "load_time_ms": 25.739, "num_steps_trained": 1215718, "sample_time_ms": 17995.017, "grad_time_ms": 23724.17}, "training_iteration": 10, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a671d0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67160>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 718.0673931867884, "timestamp": 1556412888, "time_total_s": 422.45709133148193, "date": "2019-04-28_00-54-48", "timesteps_since_restore": 1215718, "time_since_restore": 422.45709133148193, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -22.936056064670762, "system_level_velocity_mean": 11.970484490134881, "cost1_max": 392.06588355298805, "cost1_min": 24.25704778679416, "cost1_mean": 312.2098445208364, "outflow_rate_min": 518.6392970701784, "outflow_rate_mean": 1021.7847337528231, "cost2_min": -184.8692822420143, "system_level_velocity_max": 18.682420750311984, "outflow_rate_max": 1170.4602458307825, "system_level_velocity_min": 8.871899840274349, "cost2_mean": -141.5633486875809}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 37.36685085296631, "episode_reward_max": 906.8514839363592, "episodes_this_iter": 49, "timesteps_total": 1337245, "episodes_total": 525, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 608.3340892971152, "episode_len_mean": 700.0, "timesteps_this_iter": 121527, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 11, "done": false, "info": {"update_time_ms": 11.127, "default": {"entropy": 1.3125282526016235, "vf_explained_var": 0.8004755973815918, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.00045298211625777185, "cur_lr": 0.0005000000237487257, "total_loss": 11.450491905212402, "kl": 0.006043884437531233, "vf_loss": 11.450906753540039}, "num_steps_sampled": 1337245, "load_time_ms": 20.859, "num_steps_trained": 1337245, "sample_time_ms": 14977.368, "grad_time_ms": 23653.148}, "training_iteration": 11, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b5f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b7b8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bbe0>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 726.5918324295897, "timestamp": 1556412925, "time_total_s": 459.82394218444824, "date": "2019-04-28_00-55-25", "timesteps_since_restore": 1337245, "time_since_restore": 459.82394218444824, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -120.49131657903038, "system_level_velocity_mean": 11.917620275066609, "cost1_max": 393.2883128942048, "cost1_min": 238.1270220570991, "cost1_mean": 315.80225778227907, "outflow_rate_min": 821.0202409992272, "outflow_rate_mean": 1030.3926529740118, "cost2_min": -174.99941866840186, "system_level_velocity_max": 14.884881720886144, "outflow_rate_max": 1170.4602458307825, "system_level_velocity_min": 9.137228664444347, "cost2_mean": -145.344096585273}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 38.189756870269775, "episode_reward_max": 906.8514839363592, "episodes_this_iter": 57, "timesteps_total": 1455529, "episodes_total": 582, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 614.2940199207043, "episode_len_mean": 700.0, "timesteps_this_iter": 118284, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 12, "done": false, "info": {"update_time_ms": 10.996, "default": {"entropy": 1.313952922821045, "vf_explained_var": 0.7759708166122437, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0006833342486061156, "cur_lr": 0.0005000000237487257, "total_loss": 11.43441390991211, "kl": 0.005544690415263176, "vf_loss": 11.435062408447266}, "num_steps_sampled": 1455529, "load_time_ms": 21.159, "num_steps_trained": 1455529, "sample_time_ms": 14979.293, "grad_time_ms": 23373.474}, "training_iteration": 12, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a674e0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67a20>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 740.4169583359821, "timestamp": 1556412964, "time_total_s": 498.013699054718, "date": "2019-04-28_00-56-04", "timesteps_since_restore": 1455529, "time_since_restore": 498.013699054718, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -112.54456868093709, "system_level_velocity_mean": 12.137826269203767, "cost1_max": 393.2883128942048, "cost1_min": 249.90979954231136, "cost1_mean": 321.5435610596772, "outflow_rate_min": 870.537408142179, "outflow_rate_mean": 1043.9964260095692, "cost2_min": -187.0009563548308, "system_level_velocity_max": 14.884881720886144, "outflow_rate_max": 1184.1710932834596, "system_level_velocity_min": 9.489654331626015, "cost2_mean": -146.79477665844408}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 37.45657682418823, "episode_reward_max": 873.3322139938209, "episodes_this_iter": 54, "timesteps_total": 1574749, "episodes_total": 636, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 614.2940199207043, "episode_len_mean": 700.0, "timesteps_this_iter": 119220, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 13, "done": false, "info": {"update_time_ms": 10.842, "default": {"entropy": 1.2982697486877441, "vf_explained_var": 0.7704442739486694, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.0006569971446879208, "cur_lr": 0.0005000000237487257, "total_loss": 13.163447380065918, "kl": 0.005620104260742664, "vf_loss": 13.164069175720215}, "num_steps_sampled": 1574749, "load_time_ms": 22.048, "num_steps_trained": 1574749, "sample_time_ms": 14897.26, "grad_time_ms": 23243.047}, "training_iteration": 13, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b630>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab0780>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 743.1407197478131, "timestamp": 1556413001, "time_total_s": 535.4702758789062, "date": "2019-04-28_00-56-41", "timesteps_since_restore": 1574749, "time_since_restore": 535.4702758789062, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -123.5476156898159, "system_level_velocity_mean": 12.08057031625381, "cost1_max": 386.88797094390685, "cost1_min": 255.80633467017964, "cost1_mean": 320.4124219714646, "outflow_rate_min": 870.537408142179, "outflow_rate_mean": 1040.1349656352402, "cost2_min": -187.0009563548308, "system_level_velocity_max": 14.588797230196365, "outflow_rate_max": 1184.1710932834596, "system_level_velocity_min": 9.690663574564002, "cost2_mean": -148.29054148238086}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 39.596429109573364, "episode_reward_max": 870.0665753809898, "episodes_this_iter": 57, "timesteps_total": 1695282, "episodes_total": 693, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 620.8739924922728, "episode_len_mean": 700.0, "timesteps_this_iter": 120533, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 14, "done": false, "info": {"update_time_ms": 10.921, "default": {"entropy": 1.2971441745758057, "vf_explained_var": 0.7454299926757812, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.0007661502459086478, "cur_lr": 0.0005000000237487257, "total_loss": 13.414907455444336, "kl": 0.005925591103732586, "vf_loss": 13.415637016296387}, "num_steps_sampled": 1695282, "load_time_ms": 22.465, "num_steps_trained": 1695282, "sample_time_ms": 14935.346, "grad_time_ms": 23197.835}, "training_iteration": 14, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a673c8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67048>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 733.9893461057286, "timestamp": 1556413041, "time_total_s": 575.0667049884796, "date": "2019-04-28_00-57-21", "timesteps_since_restore": 1695282, "time_since_restore": 575.0667049884796, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -123.5476156898159, "system_level_velocity_mean": 12.058318792875788, "cost1_max": 394.5135097132811, "cost1_min": 261.77803710453645, "cost1_mean": 319.1797196717068, "outflow_rate_min": 887.6787519660976, "outflow_rate_mean": 1040.465397756589, "cost2_min": -185.87979869473463, "system_level_velocity_max": 14.882791049595472, "outflow_rate_max": 1186.6189748288366, "system_level_velocity_min": 10.004864813402463, "cost2_mean": -151.6392463560379}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 38.80208230018616, "episode_reward_max": 870.0665753809898, "episodes_this_iter": 35, "timesteps_total": 1815249, "episodes_total": 728, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 620.8739924922728, "episode_len_mean": 700.0, "timesteps_this_iter": 119967, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 15, "done": false, "info": {"update_time_ms": 10.483, "default": {"entropy": 1.2630807161331177, "vf_explained_var": 0.7987962365150452, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.0010325725888833404, "cur_lr": 0.0005000000237487257, "total_loss": 10.652941703796387, "kl": 0.006680680438876152, "vf_loss": 10.653934478759766}, "num_steps_sampled": 1815249, "load_time_ms": 22.071, "num_steps_trained": 1815249, "sample_time_ms": 14922.988, "grad_time_ms": 23205.095}, "training_iteration": 15, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5be10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bcf8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b0b8>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 734.422495328326, "timestamp": 1556413080, "time_total_s": 613.8687872886658, "date": "2019-04-28_00-58-00", "timesteps_since_restore": 1815249, "time_since_restore": 613.8687872886658, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -117.84703345680157, "system_level_velocity_mean": 12.188764944068371, "cost1_max": 394.5135097132811, "cost1_min": 261.77803710453645, "cost1_mean": 322.04575392116584, "outflow_rate_min": 887.6787519660976, "outflow_rate_mean": 1044.201264069585, "cost2_min": -185.87979869473463, "system_level_velocity_max": 14.882791049595472, "outflow_rate_max": 1186.6189748288366, "system_level_velocity_min": 10.004864813402463, "cost2_mean": -149.01526269681398}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 40.47956967353821, "episode_reward_max": 870.0665753809898, "episodes_this_iter": 56, "timesteps_total": 1937171, "episodes_total": 784, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 38.86150985013796, "episode_len_mean": 693.27, "timesteps_this_iter": 121922, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 16, "done": false, "info": {"update_time_ms": 10.557, "default": {"entropy": 1.2565200328826904, "vf_explained_var": 0.7693067193031311, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0006359854596666992, "cur_lr": 0.0005000000237487257, "total_loss": 14.639463424682617, "kl": 0.006212656386196613, "vf_loss": 14.640060424804688}, "num_steps_sampled": 1937171, "load_time_ms": 22.345, "num_steps_trained": 1937171, "sample_time_ms": 15020.738, "grad_time_ms": 23544.344}, "training_iteration": 16, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67a90>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a673c8>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 736.3738697940275, "timestamp": 1556413120, "time_total_s": 654.348356962204, "date": "2019-04-28_00-58-40", "timesteps_since_restore": 1937171, "time_since_restore": 654.348356962204, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -19.907956675172308, "system_level_velocity_mean": 12.443766868119587, "cost1_max": 394.5135097132811, "cost1_min": 17.665595146621698, "cost1_mean": 324.32251761841553, "outflow_rate_min": 440.0050268646629, "outflow_rate_mean": 1044.4623075187178, "cost2_min": -173.56040065202095, "system_level_velocity_max": 16.850014294701193, "outflow_rate_max": 1186.6189748288366, "system_level_velocity_min": 10.12854515255838, "cost2_mean": -140.58587598822544}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 36.5708487033844, "episode_reward_max": 903.1585038363827, "episodes_this_iter": 50, "timesteps_total": 2056485, "episodes_total": 834, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 38.86150985013796, "episode_len_mean": 693.27, "timesteps_this_iter": 119314, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 17, "done": false, "info": {"update_time_ms": 10.801, "default": {"entropy": 1.246622085571289, "vf_explained_var": 0.7456973195075989, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.0008840970112942159, "cur_lr": 0.0005000000237487257, "total_loss": 14.42050838470459, "kl": 0.00747177517041564, "vf_loss": 14.421346664428711}, "num_steps_sampled": 2056485, "load_time_ms": 22.83, "num_steps_trained": 2056485, "sample_time_ms": 15075.138, "grad_time_ms": 23459.719}, "training_iteration": 17, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bbe0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b7b8>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 736.9391974291325, "timestamp": 1556413157, "time_total_s": 690.9192056655884, "date": "2019-04-28_00-59-17", "timesteps_since_restore": 2056485, "time_since_restore": 690.9192056655884, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -19.907956675172308, "system_level_velocity_mean": 12.488707647490937, "cost1_max": 391.4112093165293, "cost1_min": 17.665595146621698, "cost1_mean": 325.24950450966384, "outflow_rate_min": 440.0050268646629, "outflow_rate_mean": 1048.6100279477794, "cost2_min": -159.79806807101824, "system_level_velocity_max": 16.850014294701193, "outflow_rate_max": 1169.187705795952, "system_level_velocity_min": 10.217096323182151, "cost2_mean": -137.8323468990072}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 36.65697479248047, "episode_reward_max": 914.5531035944506, "episodes_this_iter": 52, "timesteps_total": 2173468, "episodes_total": 886, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 647.2281991520945, "episode_len_mean": 700.0, "timesteps_this_iter": 116983, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 18, "done": false, "info": {"update_time_ms": 10.783, "default": {"entropy": 1.243756890296936, "vf_explained_var": 0.7309905886650085, "cur_kl_coeff": 0.006250000558793545, "policy_loss": -0.0012076741550117731, "cur_lr": 0.0005000000237487257, "total_loss": 17.455848693847656, "kl": 0.007320348639041185, "vf_loss": 17.45701026916504}, "num_steps_sampled": 2173468, "load_time_ms": 21.824, "num_steps_trained": 2173468, "sample_time_ms": 15071.263, "grad_time_ms": 23034.695}, "training_iteration": 18, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67da0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67b70>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 743.8343928789313, "timestamp": 1556413193, "time_total_s": 727.5761804580688, "date": "2019-04-28_00-59-53", "timesteps_since_restore": 2173468, "time_since_restore": 727.5761804580688, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -116.84763509364909, "system_level_velocity_mean": 12.395481258218084, "cost1_max": 405.6245629538624, "cost1_min": 258.6416454841983, "cost1_mean": 326.88580109016556, "outflow_rate_min": 881.3960120331768, "outflow_rate_mean": 1053.0874064837215, "cost2_min": -180.19183371423117, "system_level_velocity_max": 15.286151476601388, "outflow_rate_max": 1187.0404943491098, "system_level_velocity_min": 10.014004468541211, "cost2_mean": -139.3536154895087}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 37.35225296020508, "episode_reward_max": 933.1735990368027, "episodes_this_iter": 58, "timesteps_total": 2289876, "episodes_total": 944, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 38.979870554502504, "episode_len_mean": 686.62, "timesteps_this_iter": 116408, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 19, "done": false, "info": {"update_time_ms": 10.881, "default": {"entropy": 1.2330334186553955, "vf_explained_var": 0.7007994651794434, "cur_kl_coeff": 0.006250000558793545, "policy_loss": -0.0006798516260460019, "cur_lr": 0.0005000000237487257, "total_loss": 18.528467178344727, "kl": 0.00696164183318615, "vf_loss": 18.52910614013672}, "num_steps_sampled": 2289876, "load_time_ms": 21.886, "num_steps_trained": 2289876, "sample_time_ms": 15024.742, "grad_time_ms": 22999.728}, "training_iteration": 19, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b9e8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b208>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 729.6303195894266, "timestamp": 1556413231, "time_total_s": 764.9284334182739, "date": "2019-04-28_01-00-31", "timesteps_since_restore": 2289876, "time_since_restore": 764.9284334182739, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -19.907655958317132, "system_level_velocity_mean": 12.58941129283373, "cost1_max": 408.7757215537402, "cost1_min": 17.712868887790293, "cost1_mean": 322.1281063251618, "outflow_rate_min": 445.6108305202122, "outflow_rate_mean": 1047.5264496360876, "cost2_min": -187.4293089317169, "system_level_velocity_max": 18.133708232728026, "outflow_rate_max": 1187.0404943491098, "system_level_velocity_min": 9.705362520177948, "cost2_mean": -140.4499580270826}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 36.20831489562988, "episode_reward_max": 933.1735990368027, "episodes_this_iter": 51, "timesteps_total": 2407462, "episodes_total": 995, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 422.3787862189728, "episode_len_mean": 696.08, "timesteps_this_iter": 117586, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 20, "done": false, "info": {"update_time_ms": 11.14, "default": {"entropy": 1.215685248374939, "vf_explained_var": 0.7444319128990173, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0008277514716610312, "cur_lr": 0.0005000000237487257, "total_loss": 16.24822425842285, "kl": 0.00694061117246747, "vf_loss": 16.249006271362305}, "num_steps_sampled": 2407462, "load_time_ms": 22.061, "num_steps_trained": 2407462, "sample_time_ms": 14970.825, "grad_time_ms": 22633.163}, "training_iteration": 20, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67c88>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67f60>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 748.5941771965792, "timestamp": 1556413267, "time_total_s": 801.1367483139038, "date": "2019-04-28_01-01-07", "timesteps_since_restore": 2407462, "time_since_restore": 801.1367483139038, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -81.36988641476216, "system_level_velocity_mean": 12.868881436470556, "cost1_max": 408.7757215537402, "cost1_min": 189.55489962368154, "cost1_mean": 335.56434638913464, "outflow_rate_min": 893.7879977433174, "outflow_rate_mean": 1077.1950879062422, "cost2_min": -190.40167423102966, "system_level_velocity_max": 16.398106095797488, "outflow_rate_max": 1191.9671533174883, "system_level_velocity_min": 10.371767008274583, "cost2_mean": -143.9535164871198}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 41.90609669685364, "episode_reward_max": 946.2204123839255, "episodes_this_iter": 55, "timesteps_total": 2526241, "episodes_total": 1050, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 422.3787862189728, "episode_len_mean": 696.08, "timesteps_this_iter": 118779, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 21, "done": false, "info": {"update_time_ms": 11.088, "default": {"entropy": 1.1897836923599243, "vf_explained_var": 0.717588484287262, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0013435103464871645, "cur_lr": 0.0005000000237487257, "total_loss": 15.253168106079102, "kl": 0.008143642917275429, "vf_loss": 15.254460334777832}, "num_steps_sampled": 2526241, "load_time_ms": 23.21, "num_steps_trained": 2526241, "sample_time_ms": 15095.051, "grad_time_ms": 22957.229}, "training_iteration": 21, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7048>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad70f0>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 757.0605851392353, "timestamp": 1556413309, "time_total_s": 843.0428450107574, "date": "2019-04-28_01-01-49", "timesteps_since_restore": 2526241, "time_since_restore": 843.0428450107574, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -81.36988641476216, "system_level_velocity_mean": 12.987358263371153, "cost1_max": 415.1585630177899, "cost1_min": 189.55489962368154, "cost1_mean": 339.58795645235614, "outflow_rate_min": 875.6359020390158, "outflow_rate_mean": 1081.3345819807228, "cost2_min": -190.40167423102966, "system_level_velocity_max": 16.398106095797488, "outflow_rate_max": 1212.5328375031502, "system_level_velocity_min": 9.90597074500072, "cost2_mean": -142.2525327884349}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 38.492616176605225, "episode_reward_max": 946.2204123839255, "episodes_this_iter": 36, "timesteps_total": 2647387, "episodes_total": 1086, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 615.6461178041034, "episode_len_mean": 700.0, "timesteps_this_iter": 121146, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 22, "done": false, "info": {"update_time_ms": 11.186, "default": {"entropy": 1.1840169429779053, "vf_explained_var": 0.7762739062309265, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.0004349788068793714, "cur_lr": 0.0005000000237487257, "total_loss": 14.54072380065918, "kl": 0.008760504424571991, "vf_loss": 14.54110336303711}, "num_steps_sampled": 2647387, "load_time_ms": 23.056, "num_steps_trained": 2647387, "sample_time_ms": 15016.472, "grad_time_ms": 23065.327}, "training_iteration": 22, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9b748>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67c88>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 753.0645396786481, "timestamp": 1556413347, "time_total_s": 881.5354611873627, "date": "2019-04-28_01-02-27", "timesteps_since_restore": 2647387, "time_since_restore": 881.5354611873627, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -116.1211753073739, "system_level_velocity_mean": 12.699245022693031, "cost1_max": 415.1585630177899, "cost1_min": 256.216370114967, "cost1_mean": 334.86497710959446, "outflow_rate_min": 875.6359020390158, "outflow_rate_mean": 1068.0225912019796, "cost2_min": -182.89997646781723, "system_level_velocity_max": 15.574509847185961, "outflow_rate_max": 1212.5328375031502, "system_level_velocity_min": 9.90597074500072, "cost2_mean": -142.8730160348987}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 36.78084683418274, "episode_reward_max": 982.9316391406486, "episodes_this_iter": 55, "timesteps_total": 2766673, "episodes_total": 1141, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 615.6461178041034, "episode_len_mean": 700.0, "timesteps_this_iter": 119286, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 23, "done": false, "info": {"update_time_ms": 11.198, "default": {"entropy": 1.177064061164856, "vf_explained_var": 0.7503126859664917, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.001129833166487515, "cur_lr": 0.0005000000237487257, "total_loss": 17.74319839477539, "kl": 0.008103102445602417, "vf_loss": 17.74427604675293}, "num_steps_sampled": 2766673, "load_time_ms": 22.003, "num_steps_trained": 2766673, "sample_time_ms": 14974.042, "grad_time_ms": 23044.442}, "training_iteration": 23, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7320>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7048>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 737.9255946322489, "timestamp": 1556413384, "time_total_s": 918.3163080215454, "date": "2019-04-28_01-03-04", "timesteps_since_restore": 2766673, "time_since_restore": 918.3163080215454, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -119.40340005746083, "system_level_velocity_mean": 12.46142901941919, "cost1_max": 430.12194400290616, "cost1_min": 255.33316485744217, "cost1_mean": 328.10231195082014, "outflow_rate_min": 875.6359020390158, "outflow_rate_mean": 1058.9869324222145, "cost2_min": -179.4796241278297, "system_level_velocity_max": 16.158383473660912, "outflow_rate_max": 1244.1547451836448, "system_level_velocity_min": 9.873024818856305, "cost2_mean": -148.23256877463214}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 37.37823224067688, "episode_reward_max": 982.9316391406486, "episodes_this_iter": 54, "timesteps_total": 2886361, "episodes_total": 1195, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 616.4417467555712, "episode_len_mean": 700.0, "timesteps_this_iter": 119688, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 24, "done": false, "info": {"update_time_ms": 11.193, "default": {"entropy": 1.1831778287887573, "vf_explained_var": 0.7317918539047241, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.00037077991873957217, "cur_lr": 0.0005000000237487257, "total_loss": 19.585697174072266, "kl": 0.00663552712649107, "vf_loss": 19.58602523803711}, "num_steps_sampled": 2886361, "load_time_ms": 21.23, "num_steps_trained": 2886361, "sample_time_ms": 14891.322, "grad_time_ms": 22906.952}, "training_iteration": 24, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab04a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67fd0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67208>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 740.4783935883977, "timestamp": 1556413422, "time_total_s": 955.6945402622223, "date": "2019-04-28_01-03-42", "timesteps_since_restore": 2886361, "time_since_restore": 955.6945402622223, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -125.52435574394806, "system_level_velocity_mean": 12.664240832206232, "cost1_max": 430.12194400290616, "cost1_min": 243.26486783931347, "cost1_mean": 332.4254518852795, "outflow_rate_min": 872.1066296470598, "outflow_rate_mean": 1073.5887610700197, "cost2_min": -184.39145768222997, "system_level_velocity_max": 16.158383473660912, "outflow_rate_max": 1244.1547451836448, "system_level_velocity_min": 9.49599060068734, "cost2_mean": -151.38599534164038}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 35.44632697105408, "episode_reward_max": 871.6035170085721, "episodes_this_iter": 50, "timesteps_total": 3004519, "episodes_total": 1245, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 616.4417467555712, "episode_len_mean": 700.0, "timesteps_this_iter": 118158, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 25, "done": false, "info": {"update_time_ms": 11.091, "default": {"entropy": 1.1836544275283813, "vf_explained_var": 0.7568010091781616, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0010946113616228104, "cur_lr": 0.0005000000237487257, "total_loss": 17.842884063720703, "kl": 0.007330451626330614, "vf_loss": 17.843931198120117}, "num_steps_sampled": 3004519, "load_time_ms": 21.297, "num_steps_trained": 3004519, "sample_time_ms": 14828.578, "grad_time_ms": 22634.58}, "training_iteration": 25, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b940>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b5c0>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 744.059268788817, "timestamp": 1556413457, "time_total_s": 991.1408672332764, "date": "2019-04-28_01-04-17", "timesteps_since_restore": 3004519, "time_since_restore": 991.1408672332764, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -132.9309844321516, "system_level_velocity_mean": 12.775391941031739, "cost1_max": 407.66000870425614, "cost1_min": 243.26486783931347, "cost1_mean": 334.92508150989755, "outflow_rate_min": 872.1066296470598, "outflow_rate_mean": 1082.9892014104541, "cost2_min": -191.58771011646215, "system_level_velocity_max": 15.362156626746565, "outflow_rate_max": 1228.7150040300814, "system_level_velocity_min": 9.49599060068734, "cost2_mean": -152.80134725490527}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 39.81094694137573, "episode_reward_max": 925.0241781772892, "episodes_this_iter": 58, "timesteps_total": 3124034, "episodes_total": 1303, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 617.2110211745983, "episode_len_mean": 700.0, "timesteps_this_iter": 119515, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 26, "done": false, "info": {"update_time_ms": 10.973, "default": {"entropy": 1.1839641332626343, "vf_explained_var": 0.708515465259552, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0012089823139831424, "cur_lr": 0.0005000000237487257, "total_loss": 20.756288528442383, "kl": 0.008013051934540272, "vf_loss": 20.757448196411133}, "num_steps_sampled": 3124034, "load_time_ms": 21.378, "num_steps_trained": 3124034, "sample_time_ms": 14893.54, "grad_time_ms": 22503.806}, "training_iteration": 26, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a676d8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67da0>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 740.0777185376143, "timestamp": 1556413497, "time_total_s": 1030.951814174652, "date": "2019-04-28_01-04-57", "timesteps_since_restore": 3124034, "time_since_restore": 1030.951814174652, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -125.37062918126753, "system_level_velocity_mean": 12.614028628704748, "cost1_max": 410.72635574688144, "cost1_min": 252.9370572330625, "cost1_mean": 330.85874668699466, "outflow_rate_min": 880.2283101038013, "outflow_rate_mean": 1076.8705555977801, "cost2_min": -191.58771011646215, "system_level_velocity_max": 15.379129520103405, "outflow_rate_max": 1228.7150040300814, "system_level_velocity_min": 9.759473495384203, "cost2_mean": -155.97072154435898}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 37.48263382911682, "episode_reward_max": 925.0241781772892, "episodes_this_iter": 41, "timesteps_total": 3243656, "episodes_total": 1344, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 617.2110211745983, "episode_len_mean": 700.0, "timesteps_this_iter": 119622, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 27, "done": false, "info": {"update_time_ms": 10.957, "default": {"entropy": 1.1829897165298462, "vf_explained_var": 0.7662428021430969, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.0016838788287714124, "cur_lr": 0.0005000000237487257, "total_loss": 17.203813552856445, "kl": 0.008805584162473679, "vf_loss": 17.205442428588867}, "num_steps_sampled": 3243656, "load_time_ms": 20.531, "num_steps_trained": 3243656, "sample_time_ms": 14864.007, "grad_time_ms": 22622.878}, "training_iteration": 27, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a685f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68588>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a685c0>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 734.3294433215523, "timestamp": 1556413534, "time_total_s": 1068.434448003769, "date": "2019-04-28_01-05-34", "timesteps_since_restore": 3243656, "time_since_restore": 1068.434448003769, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -125.37062918126753, "system_level_velocity_mean": 12.550638648332326, "cost1_max": 410.72635574688144, "cost1_min": 252.9370572330625, "cost1_mean": 329.208160334992, "outflow_rate_min": 880.2283101038013, "outflow_rate_mean": 1073.0394443015578, "cost2_min": -186.6209797190922, "system_level_velocity_max": 15.379129520103405, "outflow_rate_max": 1212.2014331258126, "system_level_velocity_min": 9.759473495384203, "cost2_mean": -157.41547076138042}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 38.60130310058594, "episode_reward_max": 906.1793942911276, "episodes_this_iter": 53, "timesteps_total": 3363704, "episodes_total": 1397, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 638.837614034369, "episode_len_mean": 700.0, "timesteps_this_iter": 120048, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 28, "done": false, "info": {"update_time_ms": 10.967, "default": {"entropy": 1.1622192859649658, "vf_explained_var": 0.7410539388656616, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.000672002206556499, "cur_lr": 0.0005000000237487257, "total_loss": 21.065610885620117, "kl": 0.007108022924512625, "vf_loss": 21.066240310668945}, "num_steps_sampled": 3363704, "load_time_ms": 21.777, "num_steps_trained": 3363704, "sample_time_ms": 14888.019, "grad_time_ms": 22793.404}, "training_iteration": 28, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67c18>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67518>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 742.258253801402, "timestamp": 1556413573, "time_total_s": 1107.0357511043549, "date": "2019-04-28_01-06-13", "timesteps_since_restore": 3363704, "time_since_restore": 1107.0357511043549, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -128.51645470250028, "system_level_velocity_mean": 12.856472710126273, "cost1_max": 422.43452812311494, "cost1_min": 259.48541580048146, "cost1_mean": 337.10588033178124, "outflow_rate_min": 901.3639341142143, "outflow_rate_mean": 1090.3836871296944, "cost2_min": -191.44827897583912, "system_level_velocity_max": 15.932207071397576, "outflow_rate_max": 1248.9643714736444, "system_level_velocity_min": 10.14305285495355, "cost2_mean": -157.03427001905732}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 41.11650228500366, "episode_reward_max": 906.1793942911276, "episodes_this_iter": 48, "timesteps_total": 3483614, "episodes_total": 1445, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 633.6210680293404, "episode_len_mean": 700.0, "timesteps_this_iter": 119910, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 29, "done": false, "info": {"update_time_ms": 10.895, "default": {"entropy": 1.1344938278198242, "vf_explained_var": 0.7474456429481506, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.0014797549229115248, "cur_lr": 0.0005000000237487257, "total_loss": 19.721189498901367, "kl": 0.009066957049071789, "vf_loss": 19.722614288330078}, "num_steps_sampled": 3483614, "load_time_ms": 21.141, "num_steps_trained": 3483614, "sample_time_ms": 14978.374, "grad_time_ms": 23080.37}, "training_iteration": 29, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68cc0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68668>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 739.0711905119257, "timestamp": 1556413614, "time_total_s": 1148.1522533893585, "date": "2019-04-28_01-06-54", "timesteps_since_restore": 3483614, "time_since_restore": 1148.1522533893585, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -119.95645460524213, "system_level_velocity_mean": 12.834974817733984, "cost1_max": 422.43452812311494, "cost1_min": 259.48541580048146, "cost1_mean": 335.7968806151282, "outflow_rate_min": 923.22433029159, "outflow_rate_mean": 1085.8391199570106, "cost2_min": -193.73124674088524, "system_level_velocity_max": 15.932207071397576, "outflow_rate_max": 1256.0812260037167, "system_level_velocity_min": 10.256035651534795, "cost2_mean": -156.927628617445}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 38.33224582672119, "episode_reward_max": 892.4675311795348, "episodes_this_iter": 54, "timesteps_total": 3601726, "episodes_total": 1499, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 622.2148171925311, "episode_len_mean": 700.0, "timesteps_this_iter": 118112, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 30, "done": false, "info": {"update_time_ms": 10.964, "default": {"entropy": 1.1306523084640503, "vf_explained_var": 0.7470026016235352, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0012344421120360494, "cur_lr": 0.0005000000237487257, "total_loss": 22.567079544067383, "kl": 0.009445014409720898, "vf_loss": 22.56825828552246}, "num_steps_sampled": 3601726, "load_time_ms": 21.413, "num_steps_trained": 3601726, "sample_time_ms": 14916.442, "grad_time_ms": 23351.119}, "training_iteration": 30, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a675f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a677b8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67dd8>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 732.1876813981748, "timestamp": 1556413653, "time_total_s": 1186.4844992160797, "date": "2019-04-28_01-07-33", "timesteps_since_restore": 3601726, "time_since_restore": 1186.4844992160797, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -119.95645460524213, "system_level_velocity_mean": 12.67680974502101, "cost1_max": 420.2504261765979, "cost1_min": 261.38625402216434, "cost1_mean": 330.9589098226629, "outflow_rate_min": 904.2119504744567, "outflow_rate_mean": 1070.7035880878632, "cost2_min": -193.73124674088524, "system_level_velocity_max": 15.852193026251914, "outflow_rate_max": 1256.0812260037167, "system_level_velocity_min": 10.200528344191163, "cost2_mean": -154.61615795654131}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 38.06104826927185, "episode_reward_max": 959.9082730823045, "episodes_this_iter": 54, "timesteps_total": 3718495, "episodes_total": 1553, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 49.52435304401136, "episode_len_mean": 693.35, "timesteps_this_iter": 116769, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 31, "done": false, "info": {"update_time_ms": 11.124, "default": {"entropy": 1.1106817722320557, "vf_explained_var": 0.7385122776031494, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0014547975733876228, "cur_lr": 0.0005000000237487257, "total_loss": 23.223312377929688, "kl": 0.009057777933776379, "vf_loss": 23.22471046447754}, "num_steps_sampled": 3718495, "load_time_ms": 21.369, "num_steps_trained": 3718495, "sample_time_ms": 14754.731, "grad_time_ms": 23132.236}, "training_iteration": 31, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68b70>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a685c0>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 733.8537223310469, "timestamp": 1556413691, "time_total_s": 1224.5455474853516, "date": "2019-04-28_01-08-11", "timesteps_since_restore": 3718495, "time_since_restore": 1224.5455474853516, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -20.202378799880293, "system_level_velocity_mean": 12.93397023847895, "cost1_max": 435.78286468993815, "cost1_min": 22.788265684852995, "cost1_mean": 332.7711434686485, "outflow_rate_min": 491.61637924011427, "outflow_rate_mean": 1074.9213215421732, "cost2_min": -185.80704131069865, "system_level_velocity_max": 18.342607938654524, "outflow_rate_max": 1237.9507183182686, "system_level_velocity_min": 10.3879426486553, "cost2_mean": -150.74820160606515}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 36.714152097702026, "episode_reward_max": 959.9082730823045, "episodes_this_iter": 49, "timesteps_total": 3836776, "episodes_total": 1602, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 49.52435304401136, "episode_len_mean": 693.35, "timesteps_this_iter": 118281, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 32, "done": false, "info": {"update_time_ms": 10.908, "default": {"entropy": 1.0904123783111572, "vf_explained_var": 0.7554734945297241, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0013389368541538715, "cur_lr": 0.0005000000237487257, "total_loss": 20.598011016845703, "kl": 0.010067817755043507, "vf_loss": 20.599288940429688}, "num_steps_sampled": 3836776, "load_time_ms": 21.118, "num_steps_trained": 3836776, "sample_time_ms": 14700.451, "grad_time_ms": 23009.416}, "training_iteration": 32, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67d30>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67630>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 736.3856734472755, "timestamp": 1556413727, "time_total_s": 1261.2596995830536, "date": "2019-04-28_01-08-47", "timesteps_since_restore": 3836776, "time_since_restore": 1261.2596995830536, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -20.202378799880293, "system_level_velocity_mean": 13.011928455473681, "cost1_max": 435.78286468993815, "cost1_min": 22.788265684852995, "cost1_mean": 335.0046905753277, "outflow_rate_min": 491.61637924011427, "outflow_rate_mean": 1079.9507910785487, "cost2_min": -179.5791056253156, "system_level_velocity_max": 18.342607938654524, "outflow_rate_max": 1245.2651302672627, "system_level_velocity_min": 10.3879426486553, "cost2_mean": -150.99040007989097}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 37.7921302318573, "episode_reward_max": 945.5748204276463, "episodes_this_iter": 55, "timesteps_total": 3954323, "episodes_total": 1657, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 596.8386672738424, "episode_len_mean": 700.0, "timesteps_this_iter": 117547, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 33, "done": false, "info": {"update_time_ms": 11.323, "default": {"entropy": 1.0787676572799683, "vf_explained_var": 0.7382472157478333, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0013292786898091435, "cur_lr": 0.0005000000237487257, "total_loss": 23.371469497680664, "kl": 0.010575824417173862, "vf_loss": 23.372732162475586}, "num_steps_sampled": 3954323, "load_time_ms": 22.251, "num_steps_trained": 3954323, "sample_time_ms": 14701.445, "grad_time_ms": 23109.884}, "training_iteration": 33, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a685c0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68630>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 740.5822470013521, "timestamp": 1556413765, "time_total_s": 1299.051829814911, "date": "2019-04-28_01-09-25", "timesteps_since_restore": 3954323, "time_since_restore": 1299.051829814911, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -124.82447673378621, "system_level_velocity_mean": 12.82273702096163, "cost1_max": 428.16124358757804, "cost1_min": 246.18190747502805, "cost1_mean": 335.2734119701745, "outflow_rate_min": 867.4733539928988, "outflow_rate_mean": 1076.3132295427906, "cost2_min": -187.82592950523446, "system_level_velocity_max": 16.062476923475316, "outflow_rate_max": 1245.2651302672627, "system_level_velocity_min": 9.660809400525286, "cost2_mean": -151.26595841547854}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 41.871087074279785, "episode_reward_max": 938.1645341792907, "episodes_this_iter": 48, "timesteps_total": 4071060, "episodes_total": 1705, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 47.78216103091616, "episode_len_mean": 693.37, "timesteps_this_iter": 116737, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 34, "done": false, "info": {"update_time_ms": 11.304, "default": {"entropy": 1.0755438804626465, "vf_explained_var": 0.759878933429718, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0014137424295768142, "cur_lr": 0.0005000000237487257, "total_loss": 23.251888275146484, "kl": 0.011216308921575546, "vf_loss": 23.253231048583984}, "num_steps_sampled": 4071060, "load_time_ms": 22.273, "num_steps_trained": 4071060, "sample_time_ms": 14988.063, "grad_time_ms": 23271.402}, "training_iteration": 34, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67860>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67be0>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 738.163840390681, "timestamp": 1556413807, "time_total_s": 1340.9229168891907, "date": "2019-04-28_01-10-07", "timesteps_since_restore": 4071060, "time_since_restore": 1340.9229168891907, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -22.903141357517935, "system_level_velocity_mean": 12.937586404916667, "cost1_max": 427.17625262508193, "cost1_min": 24.453414554567566, "cost1_mean": 333.7158160029563, "outflow_rate_min": 515.4180655611638, "outflow_rate_mean": 1069.6614562936056, "cost2_min": -187.82592950523446, "system_level_velocity_max": 18.774278839977626, "outflow_rate_max": 1223.7959088166333, "system_level_velocity_min": 9.572691281084094, "cost2_mean": -146.79714499635017}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 36.607449769973755, "episode_reward_max": 952.4078506671265, "episodes_this_iter": 57, "timesteps_total": 4188741, "episodes_total": 1762, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 47.78216103091616, "episode_len_mean": 693.37, "timesteps_this_iter": 117681, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 35, "done": false, "info": {"update_time_ms": 11.376, "default": {"entropy": 1.0955884456634521, "vf_explained_var": 0.7517663836479187, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.000926821434404701, "cur_lr": 0.0005000000237487257, "total_loss": 24.423213958740234, "kl": 0.009269173257052898, "vf_loss": 24.424083709716797}, "num_steps_sampled": 4188741, "load_time_ms": 23.528, "num_steps_trained": 4188741, "sample_time_ms": 14972.969, "grad_time_ms": 23399.9}, "training_iteration": 35, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68828>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a685c0>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 743.6912523418597, "timestamp": 1556413844, "time_total_s": 1377.5303666591644, "date": "2019-04-28_01-10-44", "timesteps_since_restore": 4188741, "time_since_restore": 1377.5303666591644, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -22.903141357517935, "system_level_velocity_mean": 13.170008957979908, "cost1_max": 435.8048519814773, "cost1_min": 24.453414554567566, "cost1_mean": 339.73941016212586, "outflow_rate_min": 515.4180655611638, "outflow_rate_mean": 1077.4316709187913, "cost2_min": -184.99278734654112, "system_level_velocity_max": 18.774278839977626, "outflow_rate_max": 1219.5193266073363, "system_level_velocity_min": 9.572691281084094, "cost2_mean": -145.9961539303947}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 39.12538695335388, "episode_reward_max": 952.4078506671265, "episodes_this_iter": 49, "timesteps_total": 4305334, "episodes_total": 1811, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 631.719125138076, "episode_len_mean": 700.0, "timesteps_this_iter": 116593, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 36, "done": false, "info": {"update_time_ms": 11.618, "default": {"entropy": 1.0918456315994263, "vf_explained_var": 0.7655009031295776, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0017661333549767733, "cur_lr": 0.0005000000237487257, "total_loss": 23.4937801361084, "kl": 0.011310317553579807, "vf_loss": 23.49547576904297}, "num_steps_sampled": 4305334, "load_time_ms": 23.147, "num_steps_trained": 4305334, "sample_time_ms": 14953.531, "grad_time_ms": 23350.138}, "training_iteration": 36, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a673c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67ac8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67ba8>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 753.2215228586068, "timestamp": 1556413883, "time_total_s": 1416.6557536125183, "date": "2019-04-28_01-11-23", "timesteps_since_restore": 4305334, "time_since_restore": 1416.6557536125183, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -117.69592247095409, "system_level_velocity_mean": 13.268590823619986, "cost1_max": 435.8048519814773, "cost1_min": 247.09136712730754, "cost1_mean": 347.0494406844068, "outflow_rate_min": 898.8329526637316, "outflow_rate_mean": 1087.8061292973696, "cost2_min": -180.80865080956139, "system_level_velocity_max": 16.470836094009158, "outflow_rate_max": 1219.5193266073363, "system_level_velocity_min": 9.627678014653876, "cost2_mean": -145.55415197470674}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 40.04529857635498, "episode_reward_max": 902.8762065977828, "episodes_this_iter": 53, "timesteps_total": 4422668, "episodes_total": 1864, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 631.719125138076, "episode_len_mean": 700.0, "timesteps_this_iter": 117334, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 37, "done": false, "info": {"update_time_ms": 11.56, "default": {"entropy": 1.077347993850708, "vf_explained_var": 0.7556412220001221, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0011486673029139638, "cur_lr": 0.0005000000237487257, "total_loss": 26.150922775268555, "kl": 0.010486115701496601, "vf_loss": 26.152006149291992}, "num_steps_sampled": 4422668, "load_time_ms": 23.21, "num_steps_trained": 4422668, "sample_time_ms": 15045.612, "grad_time_ms": 23513.392}, "training_iteration": 37, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68828>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68588>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 746.7402727056682, "timestamp": 1556413923, "time_total_s": 1456.7010521888733, "date": "2019-04-28_01-12-03", "timesteps_since_restore": 4422668, "time_since_restore": 1456.7010521888733, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -117.69592247095409, "system_level_velocity_mean": 13.157115882165384, "cost1_max": 419.5300128665692, "cost1_min": 273.20679388512497, "cost1_mean": 343.67118714834714, "outflow_rate_min": 940.6224266957445, "outflow_rate_mean": 1081.6131498288416, "cost2_min": -188.17008207525018, "system_level_velocity_max": 15.83539066145699, "outflow_rate_max": 1196.133905198554, "system_level_velocity_min": 10.720234737809944, "cost2_mean": -147.12524603768605}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 37.14561891555786, "episode_reward_max": 955.3813961387909, "episodes_this_iter": 53, "timesteps_total": 4538300, "episodes_total": 1917, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 302.99924230144177, "episode_len_mean": 695.15, "timesteps_this_iter": 115632, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 38, "done": false, "info": {"update_time_ms": 11.496, "default": {"entropy": 1.0723488330841064, "vf_explained_var": 0.7492937445640564, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.0008699846803210676, "cur_lr": 0.0005000000237487257, "total_loss": 28.15712547302246, "kl": 0.009568791836500168, "vf_loss": 28.15793800354004}, "num_steps_sampled": 4538300, "load_time_ms": 22.115, "num_steps_trained": 4538300, "sample_time_ms": 15029.637, "grad_time_ms": 23386.474}, "training_iteration": 38, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a670b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67978>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67240>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 746.8184448625018, "timestamp": 1556413960, "time_total_s": 1493.8466711044312, "date": "2019-04-28_01-12-40", "timesteps_since_restore": 4538300, "time_since_restore": 1493.8466711044312, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -68.80427156893519, "system_level_velocity_mean": 13.242514163019912, "cost1_max": 442.28276111839557, "cost1_min": 140.37136199524934, "cost1_mean": 343.07326069030256, "outflow_rate_min": 823.5038879119306, "outflow_rate_mean": 1083.2607721872755, "cost2_min": -190.40774431996266, "system_level_velocity_max": 17.407774591135905, "outflow_rate_max": 1234.8024255458904, "system_level_velocity_min": 10.410829024281446, "cost2_mean": -148.70153250086807}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 39.213685750961304, "episode_reward_max": 895.4304389737727, "episodes_this_iter": 54, "timesteps_total": 4655387, "episodes_total": 1971, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 45.70937811383172, "episode_len_mean": 688.5, "timesteps_this_iter": 117087, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 39, "done": false, "info": {"update_time_ms": 11.564, "default": {"entropy": 1.0649064779281616, "vf_explained_var": 0.7404016256332397, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0013481708010658622, "cur_lr": 0.0005000000237487257, "total_loss": 28.96090316772461, "kl": 0.012727943249046803, "vf_loss": 28.962169647216797}, "num_steps_sampled": 4655387, "load_time_ms": 21.392, "num_steps_trained": 4655387, "sample_time_ms": 14984.23, "grad_time_ms": 23247.062}, "training_iteration": 39, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68128>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68b70>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 743.3564944664965, "timestamp": 1556413999, "time_total_s": 1533.0603568553925, "date": "2019-04-28_01-13-19", "timesteps_since_restore": 4655387, "time_since_restore": 1533.0603568553925, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -21.651271453536697, "system_level_velocity_mean": 13.40786307193816, "cost1_max": 426.7944702384502, "cost1_min": 22.86997937984156, "cost1_mean": 342.3810310671928, "outflow_rate_min": 503.3696715240479, "outflow_rate_mean": 1083.5854917537179, "cost2_min": -190.83527212919742, "system_level_velocity_max": 18.36735956786593, "outflow_rate_max": 1234.8024255458904, "system_level_velocity_min": 10.252988895991628, "cost2_mean": -148.57643615872385}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 39.33966588973999, "episode_reward_max": 955.4624564639244, "episodes_this_iter": 56, "timesteps_total": 4771102, "episodes_total": 2027, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 45.70937811383172, "episode_len_mean": 686.72, "timesteps_this_iter": 115715, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 40, "done": false, "info": {"update_time_ms": 11.392, "default": {"entropy": 1.041848063468933, "vf_explained_var": 0.7135717272758484, "cur_kl_coeff": 0.006250000558793545, "policy_loss": -0.0015158670721575618, "cur_lr": 0.0005000000237487257, "total_loss": 31.520069122314453, "kl": 0.013447187840938568, "vf_loss": 31.521501541137695}, "num_steps_sampled": 4771102, "load_time_ms": 20.453, "num_steps_trained": 4771102, "sample_time_ms": 15088.819, "grad_time_ms": 23248.839}, "training_iteration": 40, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a676d8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68e10>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 738.037716026499, "timestamp": 1556414039, "time_total_s": 1572.4000227451324, "date": "2019-04-28_01-13-59", "timesteps_since_restore": 4771102, "time_since_restore": 1572.4000227451324, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -21.531064592685606, "system_level_velocity_mean": 13.51013436674684, "cost1_max": 442.47256311157514, "cost1_min": 22.86997937984156, "cost1_mean": 342.7534296371672, "outflow_rate_min": 492.95596726901147, "outflow_rate_mean": 1080.3636611121383, "cost2_min": -190.83527212919742, "system_level_velocity_max": 18.476692233086986, "outflow_rate_max": 1217.320087860752, "system_level_velocity_min": 10.0478597660783, "cost2_mean": -147.29714887549528}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 38.20967388153076, "episode_reward_max": 979.1051409692396, "episodes_this_iter": 48, "timesteps_total": 4887068, "episodes_total": 2075, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 51.61594982747699, "episode_len_mean": 693.37, "timesteps_this_iter": 115966, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 41, "done": false, "info": {"update_time_ms": 11.409, "default": {"entropy": 1.052284836769104, "vf_explained_var": 0.7486898899078369, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0010053007863461971, "cur_lr": 0.0005000000237487257, "total_loss": 26.633161544799805, "kl": 0.009815676137804985, "vf_loss": 26.63410758972168}, "num_steps_sampled": 4887068, "load_time_ms": 19.476, "num_steps_trained": 4887068, "sample_time_ms": 15142.347, "grad_time_ms": 23207.884}, "training_iteration": 41, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68cc0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68438>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 742.6332578944235, "timestamp": 1556414077, "time_total_s": 1610.6096966266632, "date": "2019-04-28_01-14-37", "timesteps_since_restore": 4887068, "time_since_restore": 1610.6096966266632, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -21.531064592685606, "system_level_velocity_mean": 13.43992319063758, "cost1_max": 456.44216987626555, "cost1_min": 24.257150153560705, "cost1_mean": 345.48737566576557, "outflow_rate_min": 492.95596726901147, "outflow_rate_mean": 1083.4166562758558, "cost2_min": -182.79920579276776, "system_level_velocity_max": 18.476692233086986, "outflow_rate_max": 1231.6680877142176, "system_level_velocity_min": 10.0478597660783, "cost2_mean": -149.19145446756937}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 37.998263359069824, "episode_reward_max": 979.1051409692396, "episodes_this_iter": 57, "timesteps_total": 5002815, "episodes_total": 2132, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 647.8971027820857, "episode_len_mean": 700.0, "timesteps_this_iter": 115747, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 42, "done": false, "info": {"update_time_ms": 11.775, "default": {"entropy": 1.0331083536148071, "vf_explained_var": 0.7299376130104065, "cur_kl_coeff": 0.006250000558793545, "policy_loss": -0.0009013646631501615, "cur_lr": 0.0005000000237487257, "total_loss": 30.194671630859375, "kl": 0.012822302989661694, "vf_loss": 30.19548988342285}, "num_steps_sampled": 5002815, "load_time_ms": 18.472, "num_steps_trained": 5002815, "sample_time_ms": 15258.536, "grad_time_ms": 23220.16}, "training_iteration": 42, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a673c8>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67240>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 748.383728031914, "timestamp": 1556414115, "time_total_s": 1648.607959985733, "date": "2019-04-28_01-15-15", "timesteps_since_restore": 5002815, "time_since_restore": 1648.607959985733, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -122.81204954461793, "system_level_velocity_mean": 13.287915279922222, "cost1_max": 456.44216987626555, "cost1_min": 273.8145125533672, "cost1_mean": 345.94178480745745, "outflow_rate_min": 956.9477664484014, "outflow_rate_mean": 1084.5447896496719, "cost2_min": -184.9890725130257, "system_level_velocity_max": 17.224289593427415, "outflow_rate_max": 1231.6680877142176, "system_level_velocity_min": 10.494991903725893, "cost2_mean": -153.06883078102038}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 39.25530815124512, "episode_reward_max": 928.675179183501, "episodes_this_iter": 53, "timesteps_total": 5120036, "episodes_total": 2185, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 633.2507722661766, "episode_len_mean": 700.0, "timesteps_this_iter": 117221, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 43, "done": false, "info": {"update_time_ms": 11.406, "default": {"entropy": 1.0306421518325806, "vf_explained_var": 0.7418158650398254, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0009188823751173913, "cur_lr": 0.0005000000237487257, "total_loss": 29.563026428222656, "kl": 0.01180953811854124, "vf_loss": 29.563873291015625}, "num_steps_sampled": 5120036, "load_time_ms": 18.203, "num_steps_trained": 5120036, "sample_time_ms": 15366.567, "grad_time_ms": 23259.486}, "training_iteration": 43, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a681d0>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68278>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 758.6130798874073, "timestamp": 1556414154, "time_total_s": 1687.8632681369781, "date": "2019-04-28_01-15-54", "timesteps_since_restore": 5120036, "time_since_restore": 1687.8632681369781, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -126.61753347748213, "system_level_velocity_mean": 13.666677901773683, "cost1_max": 430.66422039984843, "cost1_min": 273.66350043962404, "cost1_mean": 356.38756453034875, "outflow_rate_min": 956.9477664484014, "outflow_rate_mean": 1101.1523642715895, "cost2_min": -194.01933922836696, "system_level_velocity_max": 16.230642410559312, "outflow_rate_max": 1241.9210915615895, "system_level_velocity_min": 10.750409797959993, "cost2_mean": -150.190091566317}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 37.66757798194885, "episode_reward_max": 984.6198742422542, "episodes_this_iter": 53, "timesteps_total": 5235891, "episodes_total": 2238, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 633.2507722661766, "episode_len_mean": 700.0, "timesteps_this_iter": 115855, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 44, "done": false, "info": {"update_time_ms": 11.421, "default": {"entropy": 1.0143674612045288, "vf_explained_var": 0.7492536902427673, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0010197993833571672, "cur_lr": 0.0005000000237487257, "total_loss": 31.06863784790039, "kl": 0.016571279615163803, "vf_loss": 31.06955337524414}, "num_steps_sampled": 5235891, "load_time_ms": 17.237, "num_steps_trained": 5235891, "sample_time_ms": 15125.271, "grad_time_ms": 23079.095}, "training_iteration": 44, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67240>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67c88>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 752.5518193350756, "timestamp": 1556414192, "time_total_s": 1725.530846118927, "date": "2019-04-28_01-16-32", "timesteps_since_restore": 5235891, "time_since_restore": 1725.530846118927, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -126.59593520560068, "system_level_velocity_mean": 13.530735736994707, "cost1_max": 453.4447350775274, "cost1_min": 262.7068075124606, "cost1_mean": 351.93567368534076, "outflow_rate_min": 935.755153676323, "outflow_rate_mean": 1094.4813946051215, "cost2_min": -193.7401557984409, "system_level_velocity_max": 17.047527869708844, "outflow_rate_max": 1263.0705693134576, "system_level_velocity_min": 10.246143775109445, "cost2_mean": -152.59202534843456}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 40.620068073272705, "episode_reward_max": 985.5680777024446, "episodes_this_iter": 52, "timesteps_total": 5351747, "episodes_total": 2290, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 50.388748678173584, "episode_len_mean": 693.35, "timesteps_this_iter": 115856, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 45, "done": false, "info": {"update_time_ms": 11.628, "default": {"entropy": 1.0079724788665771, "vf_explained_var": 0.7553868293762207, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0014712169067934155, "cur_lr": 0.0005000000237487257, "total_loss": 30.502300262451172, "kl": 0.011487583629786968, "vf_loss": 30.50370216369629}, "num_steps_sampled": 5351747, "load_time_ms": 15.915, "num_steps_trained": 5351747, "sample_time_ms": 15207.723, "grad_time_ms": 23396.181}, "training_iteration": 45, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a686a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68a20>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68898>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 745.7851605686691, "timestamp": 1556414233, "time_total_s": 1766.1509141921997, "date": "2019-04-28_01-17-13", "timesteps_since_restore": 5351747, "time_since_restore": 1766.1509141921997, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -21.841223956815753, "system_level_velocity_mean": 13.61841388872777, "cost1_max": 456.2089995746402, "cost1_min": 23.031245536657032, "cost1_mean": 349.9298196847534, "outflow_rate_min": 477.5379300875581, "outflow_rate_mean": 1090.6733184673556, "cost2_min": -193.7401557984409, "system_level_velocity_max": 18.482776133887942, "outflow_rate_max": 1263.0705693134576, "system_level_velocity_min": 10.246143775109445, "cost2_mean": -152.0070276794731}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 37.58772015571594, "episode_reward_max": 959.9923531801376, "episodes_this_iter": 54, "timesteps_total": 5466005, "episodes_total": 2344, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 50.388748678173584, "episode_len_mean": 693.35, "timesteps_this_iter": 114258, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 46, "done": false, "info": {"update_time_ms": 11.387, "default": {"entropy": 0.9931184649467468, "vf_explained_var": 0.7087182402610779, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0011964627774432302, "cur_lr": 0.0005000000237487257, "total_loss": 34.290470123291016, "kl": 0.013044877909123898, "vf_loss": 34.29158401489258}, "num_steps_sampled": 5466005, "load_time_ms": 15.96, "num_steps_trained": 5466005, "sample_time_ms": 15146.75, "grad_time_ms": 23303.276}, "training_iteration": 46, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68f98>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68d30>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 745.5739560827553, "timestamp": 1556414270, "time_total_s": 1803.7386343479156, "date": "2019-04-28_01-17-50", "timesteps_since_restore": 5466005, "time_since_restore": 1803.7386343479156, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -21.841223956815753, "system_level_velocity_mean": 13.654191793572272, "cost1_max": 447.2669968034114, "cost1_min": 23.031245536657032, "cost1_mean": 349.75238121633447, "outflow_rate_min": 477.5379300875581, "outflow_rate_mean": 1089.0715046048178, "cost2_min": -193.8228638286725, "system_level_velocity_max": 18.482776133887942, "outflow_rate_max": 1222.6294119410059, "system_level_velocity_min": 10.584889378985126, "cost2_mean": -149.2702562527337}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 36.484323024749756, "episode_reward_max": 957.0786981999522, "episodes_this_iter": 61, "timesteps_total": 5580633, "episodes_total": 2405, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 39.707851227452515, "episode_len_mean": 693.27, "timesteps_this_iter": 114628, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 47, "done": false, "info": {"update_time_ms": 11.33, "default": {"entropy": 0.9895250797271729, "vf_explained_var": 0.6911700367927551, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0013948703417554498, "cur_lr": 0.0005000000237487257, "total_loss": 37.21285629272461, "kl": 0.01218848954886198, "vf_loss": 37.214176177978516}, "num_steps_sampled": 5580633, "load_time_ms": 16.323, "num_steps_trained": 5580633, "sample_time_ms": 15158.526, "grad_time_ms": 22939.152}, "training_iteration": 47, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68e48>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9be10>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 739.6536209242253, "timestamp": 1556414307, "time_total_s": 1840.2229573726654, "date": "2019-04-28_01-18-27", "timesteps_since_restore": 5580633, "time_since_restore": 1840.2229573726654, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -18.073970525456517, "system_level_velocity_mean": 13.5878413682318, "cost1_max": 453.30880541354793, "cost1_min": 17.79113963220154, "cost1_mean": 346.6030727219641, "outflow_rate_min": 468.51797875626045, "outflow_rate_mean": 1080.0075306106241, "cost2_min": -186.29382781345606, "system_level_velocity_max": 17.11510502067801, "outflow_rate_max": 1229.1621683332337, "system_level_velocity_min": 10.427802771187936, "cost2_mean": -148.00206136129486}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 37.43703866004944, "episode_reward_max": 969.1469230585884, "episodes_this_iter": 49, "timesteps_total": 5695461, "episodes_total": 2454, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 39.707851227452515, "episode_len_mean": 686.65, "timesteps_this_iter": 114828, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 48, "done": false, "info": {"update_time_ms": 11.61, "default": {"entropy": 0.9859763383865356, "vf_explained_var": 0.725257396697998, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.002132442081347108, "cur_lr": 0.0005000000237487257, "total_loss": 32.250240325927734, "kl": 0.01378936693072319, "vf_loss": 32.25228500366211}, "num_steps_sampled": 5695461, "load_time_ms": 16.829, "num_steps_trained": 5695461, "sample_time_ms": 15156.122, "grad_time_ms": 22968.349}, "training_iteration": 48, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67b70>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a676d8>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 735.3173293253072, "timestamp": 1556414344, "time_total_s": 1877.6599960327148, "date": "2019-04-28_01-19-04", "timesteps_since_restore": 5695461, "time_since_restore": 1877.6599960327148, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -18.073970525456517, "system_level_velocity_mean": 13.782493026541863, "cost1_max": 463.466476982159, "cost1_min": 17.79113963220154, "cost1_mean": 347.593934606101, "outflow_rate_min": 468.51797875626045, "outflow_rate_mean": 1079.036246372413, "cost2_min": -186.29382781345606, "system_level_velocity_max": 18.501210463173383, "outflow_rate_max": 1238.612340429481, "system_level_velocity_min": 10.427802771187936, "cost2_mean": -146.51310226788556}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 36.367486238479614, "episode_reward_max": 950.2378533178355, "episodes_this_iter": 56, "timesteps_total": 5810503, "episodes_total": 2510, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 52.97876134052188, "episode_len_mean": 693.38, "timesteps_this_iter": 115042, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 49, "done": false, "info": {"update_time_ms": 11.642, "default": {"entropy": 0.9785391688346863, "vf_explained_var": 0.7146799564361572, "cur_kl_coeff": 0.006250001490116119, "policy_loss": -0.0014080953551456332, "cur_lr": 0.0005000000237487257, "total_loss": 32.86949920654297, "kl": 0.014023147523403168, "vf_loss": 32.870819091796875}, "num_steps_sampled": 5810503, "load_time_ms": 17.677, "num_steps_trained": 5810503, "sample_time_ms": 15179.625, "grad_time_ms": 22656.875}, "training_iteration": 49, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68320>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68438>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 751.111413394761, "timestamp": 1556414381, "time_total_s": 1914.0274822711945, "date": "2019-04-28_01-19-41", "timesteps_since_restore": 5810503, "time_since_restore": 1914.0274822711945, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -24.875984690215272, "system_level_velocity_mean": 13.799936689652094, "cost1_max": 451.78810084853626, "cost1_min": 25.037932684505677, "cost1_mean": 352.8613750356746, "outflow_rate_min": 481.68023298000435, "outflow_rate_mean": 1086.1805520788523, "cost2_min": -181.75763718094794, "system_level_velocity_max": 18.501210463173383, "outflow_rate_max": 1235.08160368111, "system_level_velocity_min": 10.721865874825694, "cost2_mean": -146.0020797355357}}
{"experiment_id": "d287bda3cfb742ef8333ad81c06db323", "time_this_iter_s": 37.76735043525696, "episode_reward_max": 950.2378533178355, "episodes_this_iter": 53, "timesteps_total": 5926000, "episodes_total": 2563, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "episode_reward_min": 622.3631580585459, "episode_len_mean": 700.0, "timesteps_this_iter": 115497, "pid": 51971, "hostname": "flow-main", "iterations_since_restore": 50, "done": true, "info": {"update_time_ms": 11.692, "default": {"entropy": 0.9742356538772583, "vf_explained_var": 0.7485845685005188, "cur_kl_coeff": 0.006250001024454832, "policy_loss": -0.0008123433799482882, "cur_lr": 0.0005000000237487257, "total_loss": 29.206626892089844, "kl": 0.01342091802507639, "vf_loss": 29.207355499267578}, "num_steps_sampled": 5926000, "load_time_ms": 18.396, "num_steps_trained": 5926000, "sample_time_ms": 15169.928, "grad_time_ms": 22505.775}, "training_iteration": 50, "config": {"lr_schedule": null, "train_batch_size": 90000, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a686d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68a90>", "on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68668>"}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_clip_param": 1000000.0, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "fcnet_activation": "tanh", "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "channel_major": false, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "episode_reward_mean": 752.0526366063366, "timestamp": 1556414418, "time_total_s": 1951.7948327064514, "date": "2019-04-28_01-20-18", "timesteps_since_restore": 5926000, "time_since_restore": 1951.7948327064514, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -123.81651486964097, "system_level_velocity_mean": 13.547325311146114, "cost1_max": 451.78810084853626, "cost1_min": 274.755342445554, "cost1_mean": 351.56123414445227, "outflow_rate_min": 926.4786253252998, "outflow_rate_mean": 1083.9009894035628, "cost2_min": -192.24252349339986, "system_level_velocity_max": 17.084753931157234, "outflow_rate_max": 1235.08160368111, "system_level_velocity_min": 10.765807420925245, "cost2_mean": -148.61420626375065}}
