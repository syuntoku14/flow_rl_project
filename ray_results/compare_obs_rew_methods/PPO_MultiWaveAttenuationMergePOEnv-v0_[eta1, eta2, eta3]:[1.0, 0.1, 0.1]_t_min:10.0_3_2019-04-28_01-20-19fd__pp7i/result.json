{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 40.34934592247009, "episode_reward_max": 360.34725732203884, "episodes_this_iter": 14, "hostname": "flow-main", "episodes_total": 14, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bcf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab0978>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b080>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 173.15027183291676, "timesteps_this_iter": 121582, "pid": 2793, "iterations_since_restore": 1, "done": false, "info": {"update_time_ms": 572.313, "default": {"entropy": 1.4174083471298218, "vf_explained_var": 0.8965619206428528, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.001051268889568746, "kl": 0.0019053518772125244, "total_loss": 1.00644850730896, "cur_lr": 0.0005000000237487257, "vf_loss": 1.0071187019348145}, "num_steps_sampled": 121582, "load_time_ms": 47.331, "num_steps_trained": 121582, "sample_time_ms": 14187.677, "grad_time_ms": 25292.678}, "timesteps_total": 121582, "training_iteration": 1, "episode_len_mean": 700.0, "episode_reward_mean": 237.2601968555206, "timestamp": 1556414469, "time_total_s": 40.34934592247009, "date": "2019-04-28_01-21-09", "timesteps_since_restore": 121582, "time_since_restore": 40.34934592247009, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -26.707695496926995, "system_level_velocity_mean": 8.164200101739512, "outflow_rate_max": 758.6731172739223, "cost1_min": 174.51401406496268, "cost1_mean": 209.3199516444932, "outflow_rate_min": 569.6850334274894, "cost2_min": -60.495028796070706, "system_level_velocity_max": 9.210127361457294, "outflow_rate_mean": 633.2177911822486, "cost1_max": 238.95869022258984, "system_level_velocity_min": 6.687211498135948, "cost2_mean": -46.01134794829813}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 39.39859938621521, "episode_reward_max": 385.8303548014149, "episodes_this_iter": 63, "hostname": "flow-main", "episodes_total": 77, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a686a0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68898>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 173.15027183291676, "timesteps_this_iter": 118527, "pid": 2793, "iterations_since_restore": 2, "done": false, "info": {"update_time_ms": 291.672, "default": {"entropy": 1.4115270376205444, "vf_explained_var": 0.9091894030570984, "cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.003359684254974127, "kl": 0.008333706296980381, "total_loss": 1.369583249092102, "cur_lr": 0.0005000000237487257, "vf_loss": 1.3721096515655518}, "num_steps_sampled": 240109, "load_time_ms": 27.958, "num_steps_trained": 240109, "sample_time_ms": 14614.537, "grad_time_ms": 24701.493}, "timesteps_total": 240109, "training_iteration": 2, "episode_len_mean": 700.0, "episode_reward_mean": 277.3559506087969, "timestamp": 1556414509, "time_total_s": 79.7479453086853, "date": "2019-04-28_01-21-49", "timesteps_since_restore": 240109, "time_since_restore": 79.7479453086853, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -26.707695496926995, "system_level_velocity_mean": 7.816310877734984, "outflow_rate_max": 759.7543226142167, "cost1_min": 158.40540518728912, "cost1_mean": 202.37175569251386, "outflow_rate_min": 477.0591132359711, "cost2_min": -88.62164997892484, "system_level_velocity_max": 9.349634777988658, "outflow_rate_mean": 617.7604102211494, "cost1_max": 238.95869022258984, "system_level_velocity_min": 5.989416038455689, "cost2_mean": -54.23643838509441}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 36.848734617233276, "episode_reward_max": 587.8237796933475, "episodes_this_iter": 56, "hostname": "flow-main", "episodes_total": 133, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7710>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7320>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 213.38795758665572, "timesteps_this_iter": 112020, "pid": 2793, "iterations_since_restore": 3, "done": false, "info": {"update_time_ms": 198.1, "default": {"entropy": 1.3995139598846436, "vf_explained_var": 0.8515636324882507, "cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.0053818062879145145, "kl": 0.00948558934032917, "total_loss": 4.523406505584717, "cur_lr": 0.0005000000237487257, "vf_loss": 4.527839660644531}, "num_steps_sampled": 352129, "load_time_ms": 21.472, "num_steps_trained": 352129, "sample_time_ms": 14595.588, "grad_time_ms": 23821.665}, "timesteps_total": 352129, "training_iteration": 3, "episode_len_mean": 700.0, "episode_reward_mean": 332.1200959225695, "timestamp": 1556414546, "time_total_s": 116.59667992591858, "date": "2019-04-28_01-22-26", "timesteps_since_restore": 352129, "time_since_restore": 116.59667992591858, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -29.680246682139625, "system_level_velocity_mean": 8.034792231336503, "outflow_rate_max": 885.4968173693483, "cost1_min": 158.92915916882237, "cost1_mean": 208.62107378268448, "outflow_rate_min": 456.78889002152835, "cost2_min": -88.62164997892484, "system_level_velocity_max": 11.207877208733425, "outflow_rate_mean": 631.9886016276915, "cost1_max": 292.2419856999876, "system_level_velocity_min": 6.280681629011763, "cost2_mean": -54.19224807790474}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 36.48721385002136, "episode_reward_max": 748.2601034578765, "episodes_this_iter": 60, "hostname": "flow-main", "episodes_total": 193, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68240>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a686a0>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 231.03927679072567, "timesteps_this_iter": 113226, "pid": 2793, "iterations_since_restore": 4, "done": false, "info": {"update_time_ms": 151.25, "default": {"entropy": 1.3838196992874146, "vf_explained_var": 0.6691840887069702, "cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.0019772916566580534, "kl": 0.00510204304009676, "total_loss": 9.396101951599121, "cur_lr": 0.0005000000237487257, "vf_loss": 9.39756965637207}, "num_steps_sampled": 465355, "load_time_ms": 18.44, "num_steps_trained": 465355, "sample_time_ms": 14426.47, "grad_time_ms": 23448.163}, "timesteps_total": 465355, "training_iteration": 4, "episode_len_mean": 700.0, "episode_reward_mean": 507.8542522959973, "timestamp": 1556414582, "time_total_s": 153.08389377593994, "date": "2019-04-28_01-23-02", "timesteps_since_restore": 465355, "time_since_restore": 153.08389377593994, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -37.44354529320625, "system_level_velocity_mean": 9.69484624372018, "outflow_rate_max": 942.2475385155846, "cost1_min": 168.5512349193796, "cost1_mean": 253.66157828916678, "outflow_rate_min": 456.78889002152835, "cost2_min": -103.07778879265624, "system_level_velocity_max": 12.623112179395434, "outflow_rate_mean": 752.3748327917498, "cost1_max": 328.88377008695227, "system_level_velocity_min": 6.605384644322161, "cost2_mean": -64.08059466851421}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.07888317108154, "episode_reward_max": 773.2909471313843, "episodes_this_iter": 57, "hostname": "flow-main", "episodes_total": 250, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9bcf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab0470>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acc908>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 49.509409926019536, "timesteps_this_iter": 112749, "pid": 2793, "iterations_since_restore": 5, "done": false, "info": {"update_time_ms": 123.138, "default": {"entropy": 1.3754119873046875, "vf_explained_var": 0.6560171246528625, "cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.0012521679745987058, "kl": 0.003928625490516424, "total_loss": 10.849365234375, "cur_lr": 0.0005000000237487257, "vf_loss": 10.850224494934082}, "num_steps_sampled": 578104, "load_time_ms": 16.013, "num_steps_trained": 578104, "sample_time_ms": 14534.991, "grad_time_ms": 23139.396}, "timesteps_total": 578104, "training_iteration": 5, "episode_len_mean": 693.35, "episode_reward_mean": 653.4299737876264, "timestamp": 1556414619, "time_total_s": 190.16277694702148, "date": "2019-04-28_01-23-39", "timesteps_since_restore": 578104, "time_since_restore": 190.16277694702148, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -21.159361453279026, "system_level_velocity_mean": 11.305569340349882, "outflow_rate_max": 1009.5671087864232, "cost1_min": 22.630891041444137, "cost1_mean": 293.3750787289607, "outflow_rate_min": 471.8646329345479, "cost2_min": -107.32550946029595, "system_level_velocity_max": 18.04041977996669, "outflow_rate_mean": 886.3930601189182, "cost1_max": 349.43484488457904, "system_level_velocity_min": 8.607557260602508, "cost2_mean": -77.48864373060046}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 38.641989946365356, "episode_reward_max": 789.2835724055503, "episodes_this_iter": 60, "hostname": "flow-main", "episodes_total": 310, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bd30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5be80>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b668>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 49.509409926019536, "timesteps_this_iter": 114546, "pid": 2793, "iterations_since_restore": 6, "done": false, "info": {"update_time_ms": 104.571, "default": {"entropy": 1.3732649087905884, "vf_explained_var": 0.6237218976020813, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0009054504334926605, "kl": 0.00465135695412755, "total_loss": 12.12303352355957, "cur_lr": 0.0005000000237487257, "vf_loss": 12.123706817626953}, "num_steps_sampled": 692650, "load_time_ms": 14.827, "num_steps_trained": 692650, "sample_time_ms": 14744.546, "grad_time_ms": 23051.863}, "timesteps_total": 692650, "training_iteration": 6, "episode_len_mean": 693.35, "episode_reward_mean": 702.1887535448541, "timestamp": 1556414658, "time_total_s": 228.80476689338684, "date": "2019-04-28_01-24-18", "timesteps_since_restore": 692650, "time_since_restore": 228.80476689338684, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -21.159361453279026, "system_level_velocity_mean": 11.578215410778814, "outflow_rate_max": 1005.0499629254836, "cost1_min": 22.630891041444137, "cost1_mean": 302.02694382070246, "outflow_rate_min": 471.8646329345479, "cost2_min": -116.5146938078684, "system_level_velocity_max": 18.04041977996669, "outflow_rate_mean": 928.0412266254348, "cost1_max": 350.5237397963201, "system_level_velocity_min": 8.669894628437282, "cost2_mean": -83.28944178432353}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.2981812953949, "episode_reward_max": 812.3902753726854, "episodes_this_iter": 59, "hostname": "flow-main", "episodes_total": 369, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9be10>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863adaa90>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 603.2206498795846, "timesteps_this_iter": 115891, "pid": 2793, "iterations_since_restore": 7, "done": false, "info": {"update_time_ms": 90.964, "default": {"entropy": 1.3524249792099, "vf_explained_var": 0.5842509269714355, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0006436166004277766, "kl": 0.00459357351064682, "total_loss": 13.40216064453125, "cur_lr": 0.0005000000237487257, "vf_loss": 13.402688980102539}, "num_steps_sampled": 808541, "load_time_ms": 14.012, "num_steps_trained": 808541, "sample_time_ms": 14795.062, "grad_time_ms": 22894.183}, "timesteps_total": 808541, "training_iteration": 7, "episode_len_mean": 700.0, "episode_reward_mean": 730.5676005824882, "timestamp": 1556414695, "time_total_s": 266.10294818878174, "date": "2019-04-28_01-24-55", "timesteps_since_restore": 808541, "time_since_restore": 266.10294818878174, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -62.06361017805703, "system_level_velocity_mean": 11.684296784846698, "outflow_rate_max": 1024.7363563835459, "cost1_min": 238.64076409967944, "cost1_mean": 309.95372620388446, "outflow_rate_min": 797.7104488560535, "cost2_min": -121.48869955709594, "system_level_velocity_max": 13.354716920144575, "outflow_rate_mean": 947.684810578793, "cost1_max": 350.5237397963201, "system_level_velocity_min": 9.138491773628328, "cost2_mean": -87.072296524136}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.96071171760559, "episode_reward_max": 812.7821644239772, "episodes_this_iter": 41, "hostname": "flow-main", "episodes_total": 410, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68588>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a680b8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 603.2206498795846, "timesteps_this_iter": 115347, "pid": 2793, "iterations_since_restore": 8, "done": false, "info": {"update_time_ms": 81.243, "default": {"entropy": 1.338462471961975, "vf_explained_var": 0.6531680226325989, "cur_kl_coeff": 0.012500002980232239, "policy_loss": -0.001003153738565743, "kl": 0.006984485778957605, "total_loss": 11.111984252929688, "cur_lr": 0.0005000000237487257, "vf_loss": 11.112899780273438}, "num_steps_sampled": 923888, "load_time_ms": 13.314, "num_steps_trained": 923888, "sample_time_ms": 14853.897, "grad_time_ms": 22842.954}, "timesteps_total": 923888, "training_iteration": 8, "episode_len_mean": 700.0, "episode_reward_mean": 741.518840365737, "timestamp": 1556414733, "time_total_s": 304.06365990638733, "date": "2019-04-28_01-25-33", "timesteps_since_restore": 923888, "time_since_restore": 304.06365990638733, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -62.06361017805703, "system_level_velocity_mean": 11.853346117790132, "outflow_rate_max": 1024.7363563835459, "cost1_min": 250.3839096000924, "cost1_mean": 314.5954183024223, "outflow_rate_min": 830.6514070839991, "cost2_min": -121.48869955709594, "system_level_velocity_max": 13.313111248166901, "outflow_rate_mean": 960.4878671514613, "cost1_max": 351.70294514317436, "system_level_velocity_min": 9.432750943870884, "cost2_mean": -87.352989194882}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 41.07471966743469, "episode_reward_max": 837.9004716745658, "episodes_this_iter": 59, "hostname": "flow-main", "episodes_total": 469, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a685c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68128>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68048>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 618.1128900623711, "timesteps_this_iter": 117211, "pid": 2793, "iterations_since_restore": 9, "done": false, "info": {"update_time_ms": 73.582, "default": {"entropy": 1.3291049003601074, "vf_explained_var": 0.5739918947219849, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0007388271042145789, "kl": 0.0071925814263522625, "total_loss": 15.697955131530762, "cur_lr": 0.0005000000237487257, "vf_loss": 15.698603630065918}, "num_steps_sampled": 1041099, "load_time_ms": 12.79, "num_steps_trained": 1041099, "sample_time_ms": 15178.546, "grad_time_ms": 22867.819}, "timesteps_total": 1041099, "training_iteration": 9, "episode_len_mean": 700.0, "episode_reward_mean": 745.1028359753694, "timestamp": 1556414774, "time_total_s": 345.138379573822, "date": "2019-04-28_01-26-14", "timesteps_since_restore": 1041099, "time_since_restore": 345.138379573822, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -64.14493267666282, "system_level_velocity_mean": 11.89255881395439, "outflow_rate_max": 1042.0263842252125, "cost1_min": 225.1716551618692, "cost1_mean": 315.8858419777442, "outflow_rate_min": 807.4000654027229, "cost2_min": -123.49644076131185, "system_level_velocity_max": 13.382213926028378, "outflow_rate_mean": 966.5025294140574, "cost1_max": 356.6341384363469, "system_level_velocity_min": 8.439792374779953, "cost2_mean": -90.00179783158694}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.85889148712158, "episode_reward_max": 837.9004716745658, "episodes_this_iter": 45, "hostname": "flow-main", "episodes_total": 514, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad70f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68630>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68518>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 628.9723982629557, "timesteps_this_iter": 116561, "pid": 2793, "iterations_since_restore": 10, "done": false, "info": {"update_time_ms": 67.195, "default": {"entropy": 1.33760404586792, "vf_explained_var": 0.6355018615722656, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0005604649777524173, "kl": 0.006862284149974585, "total_loss": 14.529243469238281, "cur_lr": 0.0005000000237487257, "vf_loss": 14.529717445373535}, "num_steps_sampled": 1157660, "load_time_ms": 12.31, "num_steps_trained": 1157660, "sample_time_ms": 15134.171, "grad_time_ms": 22872.93}, "timesteps_total": 1157660, "training_iteration": 10, "episode_len_mean": 700.0, "episode_reward_mean": 752.9054542762601, "timestamp": 1556414812, "time_total_s": 382.9972710609436, "date": "2019-04-28_01-26-52", "timesteps_since_restore": 1157660, "time_since_restore": 382.9972710609436, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -70.4953992029311, "system_level_velocity_mean": 11.99033308221851, "outflow_rate_max": 1056.1743131326054, "cost1_min": 225.1716551618692, "cost1_mean": 318.66214287361237, "outflow_rate_min": 807.4000654027229, "cost2_min": -135.07275268115606, "system_level_velocity_max": 13.612084758068818, "outflow_rate_mean": 980.5934794655541, "cost1_max": 361.07119523590944, "system_level_velocity_min": 8.439792374779953, "cost2_mean": -96.57607852769603}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 40.043553590774536, "episode_reward_max": 835.831959111735, "episodes_this_iter": 59, "hostname": "flow-main", "episodes_total": 573, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5be80>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bd30>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 613.4374813120041, "timesteps_this_iter": 113293, "pid": 2793, "iterations_since_restore": 11, "done": false, "info": {"update_time_ms": 11.228, "default": {"entropy": 1.31208074092865, "vf_explained_var": 0.5863391757011414, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0006525839562527835, "kl": 0.0067443945445120335, "total_loss": 18.067588806152344, "cur_lr": 0.0005000000237487257, "vf_loss": 18.068157196044922}, "num_steps_sampled": 1270953, "load_time_ms": 8.27, "num_steps_trained": 1270953, "sample_time_ms": 15268.579, "grad_time_ms": 22771.647}, "timesteps_total": 1270953, "training_iteration": 11, "episode_len_mean": 700.0, "episode_reward_mean": 753.437936544147, "timestamp": 1556414852, "time_total_s": 423.04082465171814, "date": "2019-04-28_01-27-32", "timesteps_since_restore": 1270953, "time_since_restore": 423.04082465171814, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -75.03522074867323, "system_level_velocity_mean": 12.065617464575674, "outflow_rate_max": 1056.1743131326054, "cost1_min": 248.30935273910575, "cost1_mean": 320.4156210919859, "outflow_rate_min": 819.894993833607, "cost2_min": -135.07275268115606, "system_level_velocity_max": 13.612084758068818, "outflow_rate_mean": 986.6869284397378, "cost1_max": 361.07119523590944, "system_level_velocity_min": 9.520247368825308, "cost2_mean": -98.88655401428406}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.39067077636719, "episode_reward_max": 822.7608612069295, "episodes_this_iter": 57, "hostname": "flow-main", "episodes_total": 630, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acc940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68198>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a683c8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 624.2946090846625, "timesteps_this_iter": 113157, "pid": 2793, "iterations_since_restore": 12, "done": false, "info": {"update_time_ms": 11.244, "default": {"entropy": 1.3034049272537231, "vf_explained_var": 0.5418403744697571, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0008763307705521584, "kl": 0.0074698529206216335, "total_loss": 18.843040466308594, "cur_lr": 0.0005000000237487257, "vf_loss": 18.843822479248047}, "num_steps_sampled": 1384110, "load_time_ms": 8.186, "num_steps_trained": 1384110, "sample_time_ms": 15273.587, "grad_time_ms": 22570.242}, "timesteps_total": 1384110, "training_iteration": 12, "episode_len_mean": 700.0, "episode_reward_mean": 759.1768730997335, "timestamp": 1556414890, "time_total_s": 460.4314954280853, "date": "2019-04-28_01-28-10", "timesteps_since_restore": 1384110, "time_since_restore": 460.4314954280853, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -66.46447333649924, "system_level_velocity_mean": 12.129907123142795, "outflow_rate_max": 1052.5128659346767, "cost1_min": 264.39729724011704, "cost1_mean": 322.22807301835826, "outflow_rate_min": 852.3063745051883, "cost2_min": -140.31797375536567, "system_level_velocity_max": 13.30384092539042, "outflow_rate_mean": 987.5639028613102, "cost1_max": 352.5889866263037, "system_level_velocity_min": 9.819526169709473, "cost2_mean": -94.91102247363648}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.98551058769226, "episode_reward_max": 822.4361352545648, "episodes_this_iter": 59, "hostname": "flow-main", "episodes_total": 689, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7320>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7128>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 635.5417627794043, "timesteps_this_iter": 114210, "pid": 2793, "iterations_since_restore": 13, "done": false, "info": {"update_time_ms": 11.162, "default": {"entropy": 1.2819969654083252, "vf_explained_var": 0.5571730732917786, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0002653422416187823, "kl": 0.007393288426101208, "total_loss": 20.41417121887207, "cur_lr": 0.0005000000237487257, "vf_loss": 20.41434669494629}, "num_steps_sampled": 1498320, "load_time_ms": 8.023, "num_steps_trained": 1498320, "sample_time_ms": 15351.432, "grad_time_ms": 22608.616}, "timesteps_total": 1498320, "training_iteration": 13, "episode_len_mean": 700.0, "episode_reward_mean": 763.8780792129506, "timestamp": 1556414928, "time_total_s": 498.4170060157776, "date": "2019-04-28_01-28-48", "timesteps_since_restore": 1498320, "time_since_restore": 498.4170060157776, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -66.46447333649924, "system_level_velocity_mean": 12.188926370582246, "outflow_rate_max": 1038.863394024099, "cost1_min": 260.30181779584575, "cost1_mean": 323.7415524786791, "outflow_rate_min": 861.5945393675808, "cost2_min": -122.6383547610279, "system_level_velocity_max": 13.407384938108821, "outflow_rate_mean": 989.1707787232783, "cost1_max": 354.5582705601911, "system_level_velocity_min": 9.93964885520253, "cost2_mean": -92.95130916494509}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 39.287662744522095, "episode_reward_max": 841.2819597212318, "episodes_this_iter": 59, "hostname": "flow-main", "episodes_total": 748, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab0518>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9be10>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 619.5662496686357, "timesteps_this_iter": 113838, "pid": 2793, "iterations_since_restore": 14, "done": false, "info": {"update_time_ms": 11.231, "default": {"entropy": 1.2640944719314575, "vf_explained_var": 0.5479766726493835, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0001491639413870871, "kl": 0.0068953875452280045, "total_loss": 21.63540267944336, "cur_lr": 0.0005000000237487257, "vf_loss": 21.635465621948242}, "num_steps_sampled": 1612158, "load_time_ms": 7.997, "num_steps_trained": 1612158, "sample_time_ms": 15513.447, "grad_time_ms": 22726.476}, "timesteps_total": 1612158, "training_iteration": 14, "episode_len_mean": 700.0, "episode_reward_mean": 758.8736207146995, "timestamp": 1556414967, "time_total_s": 537.7046687602997, "date": "2019-04-28_01-29-27", "timesteps_since_restore": 1612158, "time_since_restore": 537.7046687602997, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -62.38333487992067, "system_level_velocity_mean": 12.079206142712907, "outflow_rate_max": 1038.863394024099, "cost1_min": 221.9393177974782, "cost1_mean": 320.6528872363763, "outflow_rate_min": 830.4426941751295, "cost2_min": -131.39812687461034, "system_level_velocity_max": 13.427672451568714, "outflow_rate_mean": 982.4664092536586, "cost1_max": 356.43284714863546, "system_level_velocity_min": 8.299421267787762, "cost2_mean": -91.55816683367891}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.725451707839966, "episode_reward_max": 841.2819597212318, "episodes_this_iter": 57, "hostname": "flow-main", "episodes_total": 805, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a750b8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a752e8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 619.5662496686357, "timesteps_this_iter": 112616, "pid": 2793, "iterations_since_restore": 15, "done": false, "info": {"update_time_ms": 11.318, "default": {"entropy": 1.2460834980010986, "vf_explained_var": 0.5419561862945557, "cur_kl_coeff": 0.01250000111758709, "policy_loss": -9.30823152884841e-05, "kl": 0.006400354206562042, "total_loss": 21.188819885253906, "cur_lr": 0.0005000000237487257, "vf_loss": 21.188831329345703}, "num_steps_sampled": 1724774, "load_time_ms": 8.047, "num_steps_trained": 1724774, "sample_time_ms": 15502.874, "grad_time_ms": 22799.808}, "timesteps_total": 1724774, "training_iteration": 15, "episode_len_mean": 700.0, "episode_reward_mean": 763.4702753904, "timestamp": 1556415005, "time_total_s": 575.4301204681396, "date": "2019-04-28_01-30-05", "timesteps_since_restore": 1724774, "time_since_restore": 575.4301204681396, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -52.71386104714574, "system_level_velocity_mean": 12.168049785247627, "outflow_rate_max": 1024.249046460734, "cost1_min": 221.9393177974782, "cost1_mean": 323.0363117322412, "outflow_rate_min": 830.4426941751295, "cost2_min": -131.39812687461034, "system_level_velocity_max": 13.737291783489654, "outflow_rate_mean": 977.1860140696282, "cost1_max": 363.07860901727963, "system_level_velocity_min": 8.299421267787762, "cost2_mean": -84.26311788788675}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.577794313430786, "episode_reward_max": 828.177810052361, "episodes_this_iter": 59, "hostname": "flow-main", "episodes_total": 864, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a752b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75278>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75160>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 605.7005012412859, "timesteps_this_iter": 113461, "pid": 2793, "iterations_since_restore": 16, "done": false, "info": {"update_time_ms": 11.389, "default": {"entropy": 1.233680009841919, "vf_explained_var": 0.48752447962760925, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.00034725747536867857, "kl": 0.007566578686237335, "total_loss": 22.466148376464844, "cur_lr": 0.0005000000237487257, "vf_loss": 22.466402053833008}, "num_steps_sampled": 1838235, "load_time_ms": 7.853, "num_steps_trained": 1838235, "sample_time_ms": 15420.243, "grad_time_ms": 22779.262}, "timesteps_total": 1838235, "training_iteration": 16, "episode_len_mean": 700.0, "episode_reward_mean": 774.1139353711537, "timestamp": 1556415042, "time_total_s": 613.0079147815704, "date": "2019-04-28_01-30-42", "timesteps_since_restore": 1838235, "time_since_restore": 613.0079147815704, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -52.71386104714574, "system_level_velocity_mean": 12.360175579280053, "outflow_rate_max": 1014.7479332805714, "cost1_min": 248.24377673082023, "cost1_mean": 328.23975291464893, "outflow_rate_min": 836.592684926972, "cost2_min": -125.0873818075941, "system_level_velocity_max": 13.737291783489654, "outflow_rate_mean": 979.8183461964159, "cost1_max": 363.07860901727963, "system_level_velocity_min": 9.463641047787544, "cost2_mean": -79.42610206805578}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.65812945365906, "episode_reward_max": 838.6003945112294, "episodes_this_iter": 49, "hostname": "flow-main", "episodes_total": 913, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a759b0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a752e8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 605.7005012412859, "timesteps_this_iter": 113540, "pid": 2793, "iterations_since_restore": 17, "done": false, "info": {"update_time_ms": 11.597, "default": {"entropy": 1.2266219854354858, "vf_explained_var": 0.5405388474464417, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0005583149031735957, "kl": 0.007490654941648245, "total_loss": 20.34783172607422, "cur_lr": 0.0005000000237487257, "vf_loss": 20.348297119140625}, "num_steps_sampled": 1951775, "load_time_ms": 7.639, "num_steps_trained": 1951775, "sample_time_ms": 15364.954, "grad_time_ms": 22871.87}, "timesteps_total": 1951775, "training_iteration": 17, "episode_len_mean": 700.0, "episode_reward_mean": 774.2868864468126, "timestamp": 1556415080, "time_total_s": 650.6660442352295, "date": "2019-04-28_01-31-20", "timesteps_since_restore": 1951775, "time_since_restore": 650.6660442352295, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -53.87224098365014, "system_level_velocity_mean": 12.41638435890939, "outflow_rate_max": 1031.2710065637916, "cost1_min": 234.90489711116288, "cost1_mean": 329.80732378556223, "outflow_rate_min": 836.592684926972, "cost2_min": -147.8209586367438, "system_level_velocity_max": 14.02280360668247, "outflow_rate_mean": 981.1581478510483, "cost1_max": 372.2002071810569, "system_level_velocity_min": 8.664804447889903, "cost2_mean": -81.50122427610785}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 38.11554217338562, "episode_reward_max": 847.8248855308152, "episodes_this_iter": 60, "hostname": "flow-main", "episodes_total": 973, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a759e8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75160>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 640.3730020858394, "timesteps_this_iter": 111055, "pid": 2793, "iterations_since_restore": 18, "done": false, "info": {"update_time_ms": 11.471, "default": {"entropy": 1.211500644683838, "vf_explained_var": 0.5063832998275757, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0015294557670131326, "kl": 0.009071702137589455, "total_loss": 26.00753402709961, "cur_lr": 0.0005000000237487257, "vf_loss": 26.008947372436523}, "num_steps_sampled": 2062830, "load_time_ms": 7.549, "num_steps_trained": 2062830, "sample_time_ms": 15365.123, "grad_time_ms": 22884.578}, "timesteps_total": 2062830, "training_iteration": 18, "episode_len_mean": 700.0, "episode_reward_mean": 785.4344542606342, "timestamp": 1556415118, "time_total_s": 688.7815864086151, "date": "2019-04-28_01-31-58", "timesteps_since_restore": 2062830, "time_since_restore": 688.7815864086151, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -43.917791397390886, "system_level_velocity_mean": 12.712254596533615, "outflow_rate_max": 1034.6770732843868, "cost1_min": 234.90489711116288, "cost1_mean": 337.5596555183747, "outflow_rate_min": 849.4727005128664, "cost2_min": -147.8209586367438, "system_level_velocity_max": 14.677870365442255, "outflow_rate_mean": 989.2418414940028, "cost1_max": 385.03961336451994, "system_level_velocity_min": 8.664804447889903, "cost2_mean": -79.02752616356575}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.45779895782471, "episode_reward_max": 870.8893369990421, "episodes_this_iter": 60, "hostname": "flow-main", "episodes_total": 1033, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a750b8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a752e8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 686.8637595600948, "timesteps_this_iter": 108837, "pid": 2793, "iterations_since_restore": 19, "done": false, "info": {"update_time_ms": 11.357, "default": {"entropy": 1.1909669637680054, "vf_explained_var": 0.4572582244873047, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0011761703062802553, "kl": 0.009169790893793106, "total_loss": 26.814699172973633, "cur_lr": 0.0005000000237487257, "vf_loss": 26.815759658813477}, "num_steps_sampled": 2171667, "load_time_ms": 7.532, "num_steps_trained": 2171667, "sample_time_ms": 15061.753, "grad_time_ms": 22826.588}, "timesteps_total": 2171667, "training_iteration": 19, "episode_len_mean": 700.0, "episode_reward_mean": 796.2240803778346, "timestamp": 1556415156, "time_total_s": 726.2393853664398, "date": "2019-04-28_01-32-36", "timesteps_since_restore": 2171667, "time_since_restore": 726.2393853664398, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -40.60848035325027, "system_level_velocity_mean": 13.089371843412039, "outflow_rate_max": 1040.869270874128, "cost1_min": 265.91131794419175, "cost1_mean": 347.0482002802202, "outflow_rate_min": 868.5050668504705, "cost2_min": -124.50434591628121, "system_level_velocity_max": 15.316463495064902, "outflow_rate_mean": 995.5597390498627, "cost1_max": 404.2680178616057, "system_level_velocity_min": 9.938493546349047, "cost2_mean": -73.59971426107427}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 36.358365535736084, "episode_reward_max": 876.643245480685, "episodes_this_iter": 60, "hostname": "flow-main", "episodes_total": 1093, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75278>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75160>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 691.5766422878247, "timesteps_this_iter": 109153, "pid": 2793, "iterations_since_restore": 20, "done": false, "info": {"update_time_ms": 11.573, "default": {"entropy": 1.1756856441497803, "vf_explained_var": 0.5061053037643433, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0005892068729735911, "kl": 0.007210287265479565, "total_loss": 28.684066772460938, "cur_lr": 0.0005000000237487257, "vf_loss": 28.684566497802734}, "num_steps_sampled": 2280820, "load_time_ms": 7.45, "num_steps_trained": 2280820, "sample_time_ms": 15067.015, "grad_time_ms": 22669.608}, "timesteps_total": 2280820, "training_iteration": 20, "episode_len_mean": 700.0, "episode_reward_mean": 807.51710433664, "timestamp": 1556415192, "time_total_s": 762.5977509021759, "date": "2019-04-28_01-33-12", "timesteps_since_restore": 2280820, "time_since_restore": 762.5977509021759, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -37.6190837558868, "system_level_velocity_mean": 13.610005874997746, "outflow_rate_max": 1054.9243530441122, "cost1_min": 269.14302642029094, "cost1_mean": 360.28911231938247, "outflow_rate_min": 853.997952308042, "cost2_min": -119.66780655310171, "system_level_velocity_max": 15.608364925115701, "outflow_rate_mean": 999.0932797549112, "cost1_max": 408.8727071739718, "system_level_velocity_min": 10.257481379223819, "cost2_mean": -66.64652198098497}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 33.76574492454529, "episode_reward_max": 879.0094154523263, "episodes_this_iter": 59, "hostname": "flow-main", "episodes_total": 1152, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a759b0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a752e8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 638.4135781970282, "timesteps_this_iter": 107563, "pid": 2793, "iterations_since_restore": 21, "done": false, "info": {"update_time_ms": 11.41, "default": {"entropy": 1.162315845489502, "vf_explained_var": 0.5416125059127808, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0003837168333120644, "kl": 0.008080268278717995, "total_loss": 29.313175201416016, "cur_lr": 0.0005000000237487257, "vf_loss": 29.313457489013672}, "num_steps_sampled": 2388383, "load_time_ms": 7.537, "num_steps_trained": 2388383, "sample_time_ms": 14954.379, "grad_time_ms": 22157.688}, "timesteps_total": 2388383, "training_iteration": 21, "episode_len_mean": 700.0, "episode_reward_mean": 812.8353074804014, "timestamp": 1556415226, "time_total_s": 796.3634958267212, "date": "2019-04-28_01-33-46", "timesteps_since_restore": 2388383, "time_since_restore": 796.3634958267212, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -33.64903832678871, "system_level_velocity_mean": 14.094966240975173, "outflow_rate_max": 1053.017197825046, "cost1_min": 264.86118249058745, "cost1_mean": 372.24307651640345, "outflow_rate_min": 822.158232344462, "cost2_min": -112.17914058699041, "system_level_velocity_max": 15.969857343199713, "outflow_rate_mean": 1000.4815596424137, "cost1_max": 417.1979398714403, "system_level_velocity_min": 10.094095088475552, "cost2_mean": -61.08205400356812}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 35.54735088348389, "episode_reward_max": 881.7492532574125, "episodes_this_iter": 65, "hostname": "flow-main", "episodes_total": 1217, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a752b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a759e8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75160>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 364.38840913051916, "timesteps_this_iter": 108148, "pid": 2793, "iterations_since_restore": 22, "done": false, "info": {"update_time_ms": 11.597, "default": {"entropy": 1.1398707628250122, "vf_explained_var": 0.427869975566864, "cur_kl_coeff": 0.01250000111758709, "policy_loss": -0.0002620010345708579, "kl": 0.007312038913369179, "total_loss": 33.2268180847168, "cur_lr": 0.0005000000237487257, "vf_loss": 33.22698974609375}, "num_steps_sampled": 2496531, "load_time_ms": 7.681, "num_steps_trained": 2496531, "sample_time_ms": 15000.998, "grad_time_ms": 21923.765}, "timesteps_total": 2496531, "training_iteration": 22, "episode_len_mean": 695.97, "episode_reward_mean": 815.5845676453665, "timestamp": 1556415262, "time_total_s": 831.9108467102051, "date": "2019-04-28_01-34-22", "timesteps_since_restore": 2496531, "time_since_restore": 831.9108467102051, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -39.097666607029154, "system_level_velocity_mean": 14.41822190299012, "outflow_rate_max": 1067.4853773795594, "cost1_min": 160.93514862233522, "cost1_mean": 377.63752990948166, "outflow_rate_min": 763.6717685540114, "cost2_min": -112.17914058699041, "system_level_velocity_max": 15.937248426516827, "outflow_rate_mean": 1001.6758602260846, "cost1_max": 418.1041146709688, "system_level_velocity_min": 10.171534795782385, "cost2_mean": -58.79044095221374}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 35.48970031738281, "episode_reward_max": 888.8755446708445, "episodes_this_iter": 64, "hostname": "flow-main", "episodes_total": 1281, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab0470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863adaa90>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab0518>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 472.9611488610429, "timesteps_this_iter": 107020, "pid": 2793, "iterations_since_restore": 23, "done": false, "info": {"update_time_ms": 11.695, "default": {"entropy": 1.1369566917419434, "vf_explained_var": 0.5246797800064087, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0008689192472957075, "kl": 0.008110249415040016, "total_loss": 33.94290542602539, "cur_lr": 0.0005000000237487257, "vf_loss": 33.94367599487305}, "num_steps_sampled": 2603551, "load_time_ms": 7.843, "num_steps_trained": 2603551, "sample_time_ms": 14915.409, "grad_time_ms": 21757.314}, "timesteps_total": 2603551, "training_iteration": 23, "episode_len_mean": 696.95, "episode_reward_mean": 818.226620694247, "timestamp": 1556415297, "time_total_s": 867.4005470275879, "date": "2019-04-28_01-34-57", "timesteps_since_restore": 2603551, "time_since_restore": 867.4005470275879, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -29.81071244542388, "system_level_velocity_mean": 14.59467249595225, "outflow_rate_max": 1059.5777878613358, "cost1_min": 233.66396487163047, "cost1_mean": 382.08794911546136, "outflow_rate_min": 830.5712455768515, "cost2_min": -124.72115579253504, "system_level_velocity_max": 16.16336172198362, "outflow_rate_mean": 1008.5592845888157, "cost1_max": 421.6674595858172, "system_level_velocity_min": 10.717919782918928, "cost2_mean": -57.68664004209248}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 34.81444501876831, "episode_reward_max": 895.6651467242461, "episodes_this_iter": 61, "hostname": "flow-main", "episodes_total": 1342, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75be0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75dd8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 51.306525587904886, "timesteps_this_iter": 108224, "pid": 2793, "iterations_since_restore": 24, "done": false, "info": {"update_time_ms": 11.729, "default": {"entropy": 1.1358892917633057, "vf_explained_var": 0.5149263143539429, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0012480226578190923, "kl": 0.007460216525942087, "total_loss": 33.218528747558594, "cur_lr": 0.0005000000237487257, "vf_loss": 33.21968460083008}, "num_steps_sampled": 2711775, "load_time_ms": 7.733, "num_steps_trained": 2711775, "sample_time_ms": 14830.966, "grad_time_ms": 21397.98}, "timesteps_total": 2711775, "training_iteration": 24, "episode_len_mean": 690.33, "episode_reward_mean": 805.9443239136717, "timestamp": 1556415332, "time_total_s": 902.2149920463562, "date": "2019-04-28_01-35-32", "timesteps_since_restore": 2711775, "time_since_restore": 902.2149920463562, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -15.27480373778349, "system_level_velocity_mean": 14.471000904306452, "outflow_rate_max": 1060.7284519552245, "cost1_min": 23.07861585273772, "cost1_mean": 374.78067841852686, "outflow_rate_min": 488.9231478226841, "cost2_min": -124.72115579253504, "system_level_velocity_max": 17.070553523255217, "outflow_rate_mean": 995.9938693329028, "cost1_max": 421.6674595858172, "system_level_velocity_min": 9.44667276784205, "cost2_mean": -58.163670708044634}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.088839054107666, "episode_reward_max": 907.9779844164154, "episodes_this_iter": 65, "hostname": "flow-main", "episodes_total": 1407, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67ac8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75ef0>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 51.306525587904886, "timesteps_this_iter": 109592, "pid": 2793, "iterations_since_restore": 25, "done": false, "info": {"update_time_ms": 11.712, "default": {"entropy": 1.1404430866241455, "vf_explained_var": 0.5744622349739075, "cur_kl_coeff": 0.01250000111758709, "policy_loss": -0.0002424569393042475, "kl": 0.007029676344245672, "total_loss": 37.507808685302734, "cur_lr": 0.0005000000237487257, "vf_loss": 37.50796127319336}, "num_steps_sampled": 2821367, "load_time_ms": 7.968, "num_steps_trained": 2821367, "sample_time_ms": 14929.162, "grad_time_ms": 21237.962}, "timesteps_total": 2821367, "training_iteration": 25, "episode_len_mean": 689.43, "episode_reward_mean": 805.5467599926992, "timestamp": 1556415369, "time_total_s": 939.3038311004639, "date": "2019-04-28_01-36-09", "timesteps_since_restore": 2821367, "time_since_restore": 939.3038311004639, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -15.27480373778349, "system_level_velocity_mean": 14.404158599834295, "outflow_rate_max": 1062.5915114282757, "cost1_min": 23.07861585273772, "cost1_mean": 372.71863847852, "outflow_rate_min": 488.9231478226841, "cost2_min": -138.92297383036822, "system_level_velocity_max": 17.070553523255217, "outflow_rate_mean": 996.5634251746294, "cost1_max": 429.450818244902, "system_level_velocity_min": 9.066688901740608, "cost2_mean": -62.40786367789476}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 35.912540435791016, "episode_reward_max": 914.4128986021639, "episodes_this_iter": 64, "hostname": "flow-main", "episodes_total": 1471, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75c18>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75dd8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 369.06140582831495, "timesteps_this_iter": 109981, "pid": 2793, "iterations_since_restore": 26, "done": false, "info": {"update_time_ms": 11.453, "default": {"entropy": 1.1311310529708862, "vf_explained_var": 0.5883087515830994, "cur_kl_coeff": 0.01250000111758709, "policy_loss": 0.00015603330393787473, "kl": 0.005859963595867157, "total_loss": 36.73377227783203, "cur_lr": 0.0005000000237487257, "vf_loss": 36.733543395996094}, "num_steps_sampled": 2931348, "load_time_ms": 8.129, "num_steps_trained": 2931348, "sample_time_ms": 14962.444, "grad_time_ms": 21035.444}, "timesteps_total": 2931348, "training_iteration": 26, "episode_len_mean": 696.05, "episode_reward_mean": 816.7720262003171, "timestamp": 1556415405, "time_total_s": 975.2163715362549, "date": "2019-04-28_01-36-45", "timesteps_since_restore": 2931348, "time_since_restore": 975.2163715362549, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -34.947436627186754, "system_level_velocity_mean": 14.447803107234904, "outflow_rate_max": 1104.6968544001188, "cost1_min": 166.1023568815067, "cost1_mean": 377.9122468378599, "outflow_rate_min": 764.8248173352043, "cost2_min": -153.01749381804711, "system_level_velocity_max": 16.632242241017693, "outflow_rate_mean": 1018.933270921584, "cost1_max": 435.0450078300868, "system_level_velocity_min": 8.826380581439492, "cost2_mean": -70.28047389702562}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 36.68880820274353, "episode_reward_max": 920.5358883764995, "episodes_this_iter": 60, "hostname": "flow-main", "episodes_total": 1531, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a754e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75940>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75a58>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 636.0876353657496, "timesteps_this_iter": 109637, "pid": 2793, "iterations_since_restore": 27, "done": false, "info": {"update_time_ms": 11.501, "default": {"entropy": 1.1324238777160645, "vf_explained_var": 0.6205775737762451, "cur_kl_coeff": 0.01250000111758709, "policy_loss": -0.00040801739669404924, "kl": 0.00650345254689455, "total_loss": 35.66191864013672, "cur_lr": 0.0005000000237487257, "vf_loss": 35.66224670410156}, "num_steps_sampled": 3040985, "load_time_ms": 8.158, "num_steps_trained": 3040985, "sample_time_ms": 14994.881, "grad_time_ms": 20906.265}, "timesteps_total": 3040985, "training_iteration": 27, "episode_len_mean": 700.0, "episode_reward_mean": 821.3259715859089, "timestamp": 1556415442, "time_total_s": 1011.9051797389984, "date": "2019-04-28_01-37-22", "timesteps_since_restore": 3040985, "time_since_restore": 1011.9051797389984, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -37.06502180181919, "system_level_velocity_mean": 14.491592201732601, "outflow_rate_max": 1114.0490991318986, "cost1_min": 232.89407306654442, "cost1_mean": 381.13695279367954, "outflow_rate_min": 831.9804923537854, "cost2_min": -153.01749381804711, "system_level_velocity_max": 16.577541884050543, "outflow_rate_mean": 1032.5889958211583, "cost1_max": 434.24934351453913, "system_level_velocity_min": 8.826380581439492, "cost2_mean": -74.98701416250366}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 38.02330422401428, "episode_reward_max": 920.5358883764995, "episodes_this_iter": 62, "hostname": "flow-main", "episodes_total": 1593, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75358>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a751d0>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 676.951898297837, "timesteps_this_iter": 109833, "pid": 2793, "iterations_since_restore": 28, "done": false, "info": {"update_time_ms": 11.378, "default": {"entropy": 1.1139317750930786, "vf_explained_var": 0.610994279384613, "cur_kl_coeff": 0.01250000111758709, "policy_loss": -0.0009453491074964404, "kl": 0.007471256423741579, "total_loss": 38.28605651855469, "cur_lr": 0.0005000000237487257, "vf_loss": 38.286903381347656}, "num_steps_sampled": 3150818, "load_time_ms": 8.265, "num_steps_trained": 3150818, "sample_time_ms": 15033.329, "grad_time_ms": 20861.457}, "timesteps_total": 3150818, "training_iteration": 28, "episode_len_mean": 700.0, "episode_reward_mean": 809.7918492676383, "timestamp": 1556415480, "time_total_s": 1049.9284839630127, "date": "2019-04-28_01-38-00", "timesteps_since_restore": 3150818, "time_since_restore": 1049.9284839630127, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -35.99110125326988, "system_level_velocity_mean": 14.210680262094689, "outflow_rate_max": 1114.0490991318986, "cost1_min": 274.39478402431484, "cost1_mean": 373.19424255942505, "outflow_rate_min": 851.9143065515561, "cost2_min": -135.54486078451978, "system_level_velocity_max": 16.577541884050543, "outflow_rate_mean": 1018.0267958901462, "cost1_max": 434.24934351453913, "system_level_velocity_min": 10.563537666231548, "cost2_mean": -79.8479235804778}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 36.22991466522217, "episode_reward_max": 913.5883514122402, "episodes_this_iter": 60, "hostname": "flow-main", "episodes_total": 1653, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75c50>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75a58>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 676.951898297837, "timesteps_this_iter": 108243, "pid": 2793, "iterations_since_restore": 29, "done": false, "info": {"update_time_ms": 11.722, "default": {"entropy": 1.0974241495132446, "vf_explained_var": 0.6010213494300842, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0006215125322341919, "kl": 0.00844702310860157, "total_loss": 36.992313385009766, "cur_lr": 0.0005000000237487257, "vf_loss": 36.992828369140625}, "num_steps_sampled": 3259061, "load_time_ms": 8.254, "num_steps_trained": 3259061, "sample_time_ms": 15067.463, "grad_time_ms": 20706.76}, "timesteps_total": 3259061, "training_iteration": 29, "episode_len_mean": 700.0, "episode_reward_mean": 823.5521217871704, "timestamp": 1556415516, "time_total_s": 1086.1583986282349, "date": "2019-04-28_01-38-36", "timesteps_since_restore": 3259061, "time_since_restore": 1086.1583986282349, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -35.99110125326988, "system_level_velocity_mean": 14.6665927777074, "outflow_rate_max": 1118.537786261183, "cost1_min": 274.39478402431484, "cost1_mean": 384.38094344085516, "outflow_rate_min": 851.9143065515561, "cost2_min": -151.56926870013817, "system_level_velocity_max": 17.028550436046054, "outflow_rate_mean": 1025.3179351589295, "cost1_max": 443.30710601735825, "system_level_velocity_min": 10.452632559268643, "cost2_mean": -73.69851995024173}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.40687704086304, "episode_reward_max": 921.4675479815735, "episodes_this_iter": 61, "hostname": "flow-main", "episodes_total": 1714, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a751d0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75358>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 54.25647908010118, "timesteps_this_iter": 110119, "pid": 2793, "iterations_since_restore": 30, "done": false, "info": {"update_time_ms": 11.758, "default": {"entropy": 1.096781611442566, "vf_explained_var": 0.6445176005363464, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.000327115849358961, "kl": 0.007504755165427923, "total_loss": 39.88172149658203, "cur_lr": 0.0005000000237487257, "vf_loss": 39.8819580078125}, "num_steps_sampled": 3369180, "load_time_ms": 8.294, "num_steps_trained": 3369180, "sample_time_ms": 15089.595, "grad_time_ms": 20787.758}, "timesteps_total": 3369180, "training_iteration": 30, "episode_len_mean": 693.4, "episode_reward_mean": 816.4660114311118, "timestamp": 1556415553, "time_total_s": 1123.565275669098, "date": "2019-04-28_01-39-13", "timesteps_since_restore": 3369180, "time_since_restore": 1123.565275669098, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -18.419023011441126, "system_level_velocity_mean": 14.82507685517232, "outflow_rate_max": 1134.5199674930145, "cost1_min": 25.0934659032201, "cost1_mean": 383.6327029376646, "outflow_rate_min": 485.0506971894538, "cost2_min": -151.56926870013817, "system_level_velocity_max": 17.626356675379395, "outflow_rate_mean": 1032.2457547533393, "cost1_max": 443.30710601735825, "system_level_velocity_min": 10.452632559268643, "cost2_mean": -75.90984105254394}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 35.900673389434814, "episode_reward_max": 921.4675479815735, "episodes_this_iter": 63, "hostname": "flow-main", "episodes_total": 1777, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a758d0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75a58>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 274.43735306080396, "timesteps_this_iter": 110829, "pid": 2793, "iterations_since_restore": 31, "done": false, "info": {"update_time_ms": 11.863, "default": {"entropy": 1.091607928276062, "vf_explained_var": 0.6511322855949402, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.00029295176500454545, "kl": 0.007376427296549082, "total_loss": 39.19622802734375, "cur_lr": 0.0005000000237487257, "vf_loss": 39.196434020996094}, "num_steps_sampled": 3480009, "load_time_ms": 8.254, "num_steps_trained": 3480009, "sample_time_ms": 15149.777, "grad_time_ms": 20939.349}, "timesteps_total": 3480009, "training_iteration": 31, "episode_len_mean": 692.92, "episode_reward_mean": 811.8109713721575, "timestamp": 1556415589, "time_total_s": 1159.4659490585327, "date": "2019-04-28_01-39-49", "timesteps_since_restore": 3480009, "time_since_restore": 1159.4659490585327, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -28.385013265505137, "system_level_velocity_mean": 14.721638168256941, "outflow_rate_max": 1134.5199674930145, "cost1_min": 130.34505523660516, "cost1_mean": 380.91027024060037, "outflow_rate_min": 780.8523618349682, "cost2_min": -138.8807276981513, "system_level_velocity_max": 16.990437314017754, "outflow_rate_mean": 1036.4187646287216, "cost1_max": 442.518468073655, "system_level_velocity_min": 10.1485437995979, "cost2_mean": -79.5728575353679}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 38.717631578445435, "episode_reward_max": 924.5532084531454, "episodes_this_iter": 61, "hostname": "flow-main", "episodes_total": 1838, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a751d0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75710>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 629.780496351146, "timesteps_this_iter": 109830, "pid": 2793, "iterations_since_restore": 32, "done": false, "info": {"update_time_ms": 11.876, "default": {"entropy": 1.0829408168792725, "vf_explained_var": 0.639090359210968, "cur_kl_coeff": 0.01250000111758709, "policy_loss": -0.000574173463974148, "kl": 0.007625419646501541, "total_loss": 40.54322052001953, "cur_lr": 0.0005000000237487257, "vf_loss": 40.543701171875}, "num_steps_sampled": 3589839, "load_time_ms": 7.978, "num_steps_trained": 3589839, "sample_time_ms": 15118.899, "grad_time_ms": 21286.749}, "timesteps_total": 3589839, "training_iteration": 32, "episode_len_mean": 697.54, "episode_reward_mean": 816.8727319097081, "timestamp": 1556415628, "time_total_s": 1198.1835806369781, "date": "2019-04-28_01-40-28", "timesteps_since_restore": 3589839, "time_since_restore": 1198.1835806369781, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -39.03265081308069, "system_level_velocity_mean": 14.600310059982483, "outflow_rate_max": 1113.274544332881, "cost1_min": 255.92785819271742, "cost1_mean": 380.9258524085921, "outflow_rate_min": 853.0386850646111, "cost2_min": -144.62516445538228, "system_level_velocity_max": 17.181238378554173, "outflow_rate_mean": 1034.2207231752902, "cost1_max": 444.9047911489731, "system_level_velocity_min": 9.702001130949576, "cost2_mean": -80.12318356067279}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.11941623687744, "episode_reward_max": 911.1337289973548, "episodes_this_iter": 62, "hostname": "flow-main", "episodes_total": 1900, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75da0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a757f0>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 672.4681532748373, "timesteps_this_iter": 110183, "pid": 2793, "iterations_since_restore": 33, "done": false, "info": {"update_time_ms": 11.935, "default": {"entropy": 1.0869683027267456, "vf_explained_var": 0.6655263304710388, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0009462949819862843, "kl": 0.006922535132616758, "total_loss": 40.10508728027344, "cur_lr": 0.0005000000237487257, "vf_loss": 40.1059455871582}, "num_steps_sampled": 3700022, "load_time_ms": 7.787, "num_steps_trained": 3700022, "sample_time_ms": 15172.741, "grad_time_ms": 21395.451}, "timesteps_total": 3700022, "training_iteration": 33, "episode_len_mean": 700.0, "episode_reward_mean": 814.9611158757049, "timestamp": 1556415665, "time_total_s": 1235.3029968738556, "date": "2019-04-28_01-41-05", "timesteps_since_restore": 3700022, "time_since_restore": 1235.3029968738556, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -39.03265081308069, "system_level_velocity_mean": 14.562737509996111, "outflow_rate_max": 1112.4831578227381, "cost1_min": 274.60260587370635, "cost1_mean": 381.0214001386935, "outflow_rate_min": 865.3017127176815, "cost2_min": -150.37935107168502, "system_level_velocity_max": 17.181238378554173, "outflow_rate_mean": 1032.3251420233817, "cost1_max": 443.4250562029605, "system_level_velocity_min": 10.566352767160806, "cost2_mean": -81.22118947970063}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 38.45318913459778, "episode_reward_max": 925.4403852347172, "episodes_this_iter": 62, "hostname": "flow-main", "episodes_total": 1962, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75c18>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75828>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 46.78882153397867, "timesteps_this_iter": 111444, "pid": 2793, "iterations_since_restore": 34, "done": false, "info": {"update_time_ms": 12.253, "default": {"entropy": 1.0920554399490356, "vf_explained_var": 0.660738468170166, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0006000336725264788, "kl": 0.007646939717233181, "total_loss": 42.80732727050781, "cur_lr": 0.0005000000237487257, "vf_loss": 42.807830810546875}, "num_steps_sampled": 3811466, "load_time_ms": 7.705, "num_steps_trained": 3811466, "sample_time_ms": 15250.959, "grad_time_ms": 21677.904}, "timesteps_total": 3811466, "training_iteration": 34, "episode_len_mean": 693.35, "episode_reward_mean": 794.395282356139, "timestamp": 1556415704, "time_total_s": 1273.7561860084534, "date": "2019-04-28_01-41-44", "timesteps_since_restore": 3811466, "time_since_restore": 1273.7561860084534, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -16.835602321062794, "system_level_velocity_mean": 14.268916314680304, "outflow_rate_max": 1134.4765943642417, "cost1_min": 22.249574038506488, "cost1_mean": 368.7226432509873, "outflow_rate_min": 501.62470491789117, "cost2_min": -151.07888791711343, "system_level_velocity_max": 17.960298443803026, "outflow_rate_mean": 1021.9501851737814, "cost1_max": 446.7203717664737, "system_level_velocity_min": 10.523121282863086, "cost2_mean": -88.29177165769892}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 36.07914972305298, "episode_reward_max": 909.9182623084201, "episodes_this_iter": 61, "hostname": "flow-main", "episodes_total": 2023, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68748>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68390>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 46.78882153397867, "timesteps_this_iter": 110101, "pid": 2793, "iterations_since_restore": 35, "done": false, "info": {"update_time_ms": 12.29, "default": {"entropy": 1.0767980813980103, "vf_explained_var": 0.635896623134613, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -4.039919804199599e-05, "kl": 0.006054066587239504, "total_loss": 42.11750411987305, "cur_lr": 0.0005000000237487257, "vf_loss": 42.117469787597656}, "num_steps_sampled": 3921567, "load_time_ms": 7.497, "num_steps_trained": 3921567, "sample_time_ms": 15181.296, "grad_time_ms": 21644.191}, "timesteps_total": 3921567, "training_iteration": 35, "episode_len_mean": 686.73, "episode_reward_mean": 799.1987152606987, "timestamp": 1556415740, "time_total_s": 1309.8353357315063, "date": "2019-04-28_01-42-20", "timesteps_since_restore": 3921567, "time_since_restore": 1309.8353357315063, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -16.835602321062794, "system_level_velocity_mean": 14.720435096584945, "outflow_rate_max": 1125.813192291383, "cost1_min": 22.249574038506488, "cost1_mean": 375.6665352686694, "outflow_rate_min": 499.06646409001223, "cost2_min": -153.81846284758166, "system_level_velocity_max": 17.960298443803026, "outflow_rate_mean": 1033.8220577901025, "cost1_max": 442.39826133709886, "system_level_velocity_min": 10.523121282863086, "cost2_mean": -83.90480817854403}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 38.335105657577515, "episode_reward_max": 925.1484991814242, "episodes_this_iter": 64, "hostname": "flow-main", "episodes_total": 2087, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a770f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a757b8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acc940>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 38.31329366464934, "timesteps_this_iter": 110712, "pid": 2793, "iterations_since_restore": 36, "done": false, "info": {"update_time_ms": 12.31, "default": {"entropy": 1.073369026184082, "vf_explained_var": 0.626380205154419, "cur_kl_coeff": 0.01250000111758709, "policy_loss": -0.00035573652712628245, "kl": 0.007155975792557001, "total_loss": 45.244873046875, "cur_lr": 0.0005000000237487257, "vf_loss": 45.24514389038086}, "num_steps_sampled": 4032279, "load_time_ms": 7.39, "num_steps_trained": 4032279, "sample_time_ms": 15176.887, "grad_time_ms": 21893.015}, "timesteps_total": 4032279, "training_iteration": 36, "episode_len_mean": 693.27, "episode_reward_mean": 817.7808440483833, "timestamp": 1556415778, "time_total_s": 1348.1704413890839, "date": "2019-04-28_01-42-58", "timesteps_since_restore": 4032279, "time_since_restore": 1348.1704413890839, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -16.077869472287237, "system_level_velocity_mean": 14.994308395073931, "outflow_rate_max": 1123.268468486648, "cost1_min": 17.563395589957754, "cost1_mean": 387.31129443293196, "outflow_rate_min": 483.934671032216, "cost2_min": -149.98054106026655, "system_level_velocity_max": 17.200923758232776, "outflow_rate_mean": 1050.6848516053972, "cost1_max": 445.7777003054452, "system_level_velocity_min": 11.231586536050102, "cost2_mean": -80.7381825847735}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 36.2957079410553, "episode_reward_max": 925.1484991814242, "episodes_this_iter": 60, "hostname": "flow-main", "episodes_total": 2147, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a755c0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75400>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 38.31329366464934, "timesteps_this_iter": 109694, "pid": 2793, "iterations_since_restore": 37, "done": false, "info": {"update_time_ms": 12.211, "default": {"entropy": 1.0868808031082153, "vf_explained_var": 0.6064280867576599, "cur_kl_coeff": 0.01250000111758709, "policy_loss": -0.0009177277097478509, "kl": 0.007870342582464218, "total_loss": 43.26492691040039, "cur_lr": 0.0005000000237487257, "vf_loss": 43.265743255615234}, "num_steps_sampled": 4141973, "load_time_ms": 7.311, "num_steps_trained": 4141973, "sample_time_ms": 15200.427, "grad_time_ms": 21830.091}, "timesteps_total": 4141973, "training_iteration": 37, "episode_len_mean": 691.04, "episode_reward_mean": 809.8849136635918, "timestamp": 1556415815, "time_total_s": 1384.4661493301392, "date": "2019-04-28_01-43-35", "timesteps_since_restore": 4141973, "time_since_restore": 1384.4661493301392, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -16.077869472287237, "system_level_velocity_mean": 14.883298241594284, "outflow_rate_max": 1128.184724565391, "cost1_min": 17.563395589957754, "cost1_mean": 382.91834092938666, "outflow_rate_min": 483.934671032216, "cost2_min": -149.98054106026655, "system_level_velocity_max": 17.200923758232776, "outflow_rate_mean": 1042.0972092797754, "cost1_max": 442.74549188109904, "system_level_velocity_min": 11.231586536050102, "cost2_mean": -82.3964420903696}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 36.69858431816101, "episode_reward_max": 907.2828139048166, "episodes_this_iter": 60, "hostname": "flow-main", "episodes_total": 2207, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75898>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a755f8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 599.0380718511835, "timesteps_this_iter": 109765, "pid": 2793, "iterations_since_restore": 38, "done": false, "info": {"update_time_ms": 12.584, "default": {"entropy": 1.0806398391723633, "vf_explained_var": 0.6145989298820496, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -5.648065052810125e-05, "kl": 0.006871502846479416, "total_loss": 44.33763122558594, "cur_lr": 0.0005000000237487257, "vf_loss": 44.33760070800781}, "num_steps_sampled": 4251738, "load_time_ms": 7.1, "num_steps_trained": 4251738, "sample_time_ms": 15111.941, "grad_time_ms": 21783.671}, "timesteps_total": 4251738, "training_iteration": 38, "episode_len_mean": 697.77, "episode_reward_mean": 816.3200522568472, "timestamp": 1556415851, "time_total_s": 1421.1647336483002, "date": "2019-04-28_01-44-11", "timesteps_since_restore": 4251738, "time_since_restore": 1421.1647336483002, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -37.919902386422365, "system_level_velocity_mean": 14.927101697451842, "outflow_rate_max": 1133.8806505296393, "cost1_min": 276.01902937883057, "cost1_mean": 388.0968575123417, "outflow_rate_min": 880.8137164609653, "cost2_min": -151.84376734122336, "system_level_velocity_max": 17.27215958838465, "outflow_rate_mean": 1046.726054884467, "cost1_max": 444.59006446544447, "system_level_velocity_min": 10.567808530374167, "cost2_mean": -82.75582092133138}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.01854586601257, "episode_reward_max": 912.3826515396039, "episodes_this_iter": 63, "hostname": "flow-main", "episodes_total": 2270, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68438>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68ac8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 48.018437742719414, "timesteps_this_iter": 110348, "pid": 2793, "iterations_since_restore": 39, "done": false, "info": {"update_time_ms": 12.189, "default": {"entropy": 1.0643190145492554, "vf_explained_var": 0.6314236521720886, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.000919212878216058, "kl": 0.007898930460214615, "total_loss": 45.772911071777344, "cur_lr": 0.0005000000237487257, "vf_loss": 45.77372741699219}, "num_steps_sampled": 4362086, "load_time_ms": 7.076, "num_steps_trained": 4362086, "sample_time_ms": 15115.154, "grad_time_ms": 21855.399}, "timesteps_total": 4362086, "training_iteration": 39, "episode_len_mean": 686.0, "episode_reward_mean": 795.8518099019963, "timestamp": 1556415888, "time_total_s": 1458.1832795143127, "date": "2019-04-28_01-44-48", "timesteps_since_restore": 4362086, "time_since_restore": 1458.1832795143127, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -16.493133547957253, "system_level_velocity_mean": 14.827851524498692, "outflow_rate_max": 1133.8806505296393, "cost1_min": 22.025022844935084, "cost1_mean": 377.29251025690144, "outflow_rate_min": 495.5886028826135, "cost2_min": -151.84376734122336, "system_level_velocity_max": 17.768827363150557, "outflow_rate_mean": 1035.3245379574537, "cost1_max": 444.59006446544447, "system_level_velocity_min": 10.567808530374167, "cost2_mean": -85.97109725489689}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 35.9182665348053, "episode_reward_max": 899.0976781037766, "episodes_this_iter": 60, "hostname": "flow-main", "episodes_total": 2330, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a754a8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75a20>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 48.018437742719414, "timesteps_this_iter": 109111, "pid": 2793, "iterations_since_restore": 40, "done": false, "info": {"update_time_ms": 12.13, "default": {"entropy": 1.0511958599090576, "vf_explained_var": 0.6083135008811951, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0005006633582524955, "kl": 0.00928755197674036, "total_loss": 42.858642578125, "cur_lr": 0.0005000000237487257, "vf_loss": 42.85902786254883}, "num_steps_sampled": 4471197, "load_time_ms": 7.023, "num_steps_trained": 4471197, "sample_time_ms": 15149.44, "grad_time_ms": 21675.725}, "timesteps_total": 4471197, "training_iteration": 40, "episode_len_mean": 686.0, "episode_reward_mean": 794.7440772822807, "timestamp": 1556415924, "time_total_s": 1494.101546049118, "date": "2019-04-28_01-45-24", "timesteps_since_restore": 4471197, "time_since_restore": 1494.101546049118, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -16.493133547957253, "system_level_velocity_mean": 14.73772975431616, "outflow_rate_max": 1133.3821565837259, "cost1_min": 22.025022844935084, "cost1_mean": 374.82684646333, "outflow_rate_min": 495.5886028826135, "cost2_min": -150.58916795671965, "system_level_velocity_max": 17.768827363150557, "outflow_rate_mean": 1032.666866842418, "cost1_max": 446.1507480273672, "system_level_velocity_min": 11.55839296677613, "cost2_mean": -85.82075635091594}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.22967314720154, "episode_reward_max": 923.5706822784487, "episodes_this_iter": 59, "hostname": "flow-main", "episodes_total": 2389, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a753c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75a58>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75cc0>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 685.0988818690837, "timesteps_this_iter": 112103, "pid": 2793, "iterations_since_restore": 41, "done": false, "info": {"update_time_ms": 11.981, "default": {"entropy": 1.0528572797775269, "vf_explained_var": 0.6287530660629272, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0003874055400956422, "kl": 0.007470712997019291, "total_loss": 43.64924240112305, "cur_lr": 0.0005000000237487257, "vf_loss": 43.6495361328125}, "num_steps_sampled": 4583300, "load_time_ms": 7.013, "num_steps_trained": 4583300, "sample_time_ms": 15212.123, "grad_time_ms": 21747.552}, "timesteps_total": 4583300, "training_iteration": 41, "episode_len_mean": 700.0, "episode_reward_mean": 818.758434703624, "timestamp": 1556415962, "time_total_s": 1531.3312191963196, "date": "2019-04-28_01-46-02", "timesteps_since_restore": 4583300, "time_since_restore": 1531.3312191963196, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -39.030710530621825, "system_level_velocity_mean": 14.824332875396863, "outflow_rate_max": 1138.042685532086, "cost1_min": 301.6996697853749, "cost1_mean": 386.4766975246676, "outflow_rate_min": 939.6242030241866, "cost2_min": -136.20698891102347, "system_level_velocity_max": 17.347494030109825, "outflow_rate_mean": 1048.1939209583038, "cost1_max": 444.47920834651217, "system_level_velocity_min": 11.730963467766484, "cost2_mean": -82.66966263703158}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 34.172189235687256, "episode_reward_max": 923.5706822784487, "episodes_this_iter": 61, "hostname": "flow-main", "episodes_total": 2450, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a68be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75518>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a754e0>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 658.8746756352072, "timesteps_this_iter": 110121, "pid": 2793, "iterations_since_restore": 42, "done": false, "info": {"update_time_ms": 11.865, "default": {"entropy": 1.046631097793579, "vf_explained_var": 0.6370429992675781, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0006823807489126921, "kl": 0.008105482906103134, "total_loss": 43.249507904052734, "cur_lr": 0.0005000000237487257, "vf_loss": 43.250091552734375}, "num_steps_sampled": 4693421, "load_time_ms": 7.047, "num_steps_trained": 4693421, "sample_time_ms": 15157.532, "grad_time_ms": 21348.242}, "timesteps_total": 4693421, "training_iteration": 42, "episode_len_mean": 699.57, "episode_reward_mean": 813.2156977815669, "timestamp": 1556415996, "time_total_s": 1565.5034084320068, "date": "2019-04-28_01-46-36", "timesteps_since_restore": 4693421, "time_since_restore": 1565.5034084320068, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -41.85219176441393, "system_level_velocity_mean": 14.631250218594282, "outflow_rate_max": 1138.5810735063055, "cost1_min": 268.05070752669167, "cost1_mean": 381.842769572784, "outflow_rate_min": 866.2356417859743, "cost2_min": -155.78814678863318, "system_level_velocity_max": 17.04320301792483, "outflow_rate_mean": 1046.4581296738504, "cost1_max": 443.13583830457515, "system_level_velocity_min": 10.319763748932353, "cost2_mean": -85.3002439273434}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 36.98790001869202, "episode_reward_max": 908.148130592392, "episodes_this_iter": 62, "hostname": "flow-main", "episodes_total": 2512, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7128>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bac8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 667.2188831588992, "timesteps_this_iter": 109172, "pid": 2793, "iterations_since_restore": 43, "done": false, "info": {"update_time_ms": 11.831, "default": {"entropy": 1.039015531539917, "vf_explained_var": 0.6094414591789246, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0004085450782440603, "kl": 0.007885453291237354, "total_loss": 44.20442581176758, "cur_lr": 0.0005000000237487257, "vf_loss": 44.20473861694336}, "num_steps_sampled": 4802593, "load_time_ms": 7.445, "num_steps_trained": 4802593, "sample_time_ms": 15130.218, "grad_time_ms": 21360.887}, "timesteps_total": 4802593, "training_iteration": 43, "episode_len_mean": 699.14, "episode_reward_mean": 818.4569321587494, "timestamp": 1556416033, "time_total_s": 1602.4913084506989, "date": "2019-04-28_01-47-13", "timesteps_since_restore": 4802593, "time_since_restore": 1602.4913084506989, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -41.14403112054687, "system_level_velocity_mean": 14.8028947145063, "outflow_rate_max": 1138.5810735063055, "cost1_min": 274.102458929668, "cost1_mean": 385.9709619102172, "outflow_rate_min": 880.3860328470353, "cost2_min": -155.78814678863318, "system_level_velocity_max": 17.168860610017674, "outflow_rate_mean": 1051.2573248464846, "cost1_max": 443.8418484021545, "system_level_velocity_min": 10.640709276010272, "cost2_mean": -82.46417699788961}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 35.1743381023407, "episode_reward_max": 908.148130592392, "episodes_this_iter": 61, "hostname": "flow-main", "episodes_total": 2573, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a770f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a75e48>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acc940>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 667.2188831588992, "timesteps_this_iter": 110141, "pid": 2793, "iterations_since_restore": 44, "done": false, "info": {"update_time_ms": 11.633, "default": {"entropy": 1.0405521392822266, "vf_explained_var": 0.6268699765205383, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0004969806177541614, "kl": 0.007053005043417215, "total_loss": 45.112091064453125, "cur_lr": 0.0005000000237487257, "vf_loss": 45.11249923706055}, "num_steps_sampled": 4912734, "load_time_ms": 7.633, "num_steps_trained": 4912734, "sample_time_ms": 15030.365, "grad_time_ms": 21132.633}, "timesteps_total": 4912734, "training_iteration": 44, "episode_len_mean": 698.67, "episode_reward_mean": 813.9792272378654, "timestamp": 1556416068, "time_total_s": 1637.6656465530396, "date": "2019-04-28_01-47-48", "timesteps_since_restore": 4912734, "time_since_restore": 1637.6656465530396, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -41.14403112054687, "system_level_velocity_mean": 14.751096096407545, "outflow_rate_max": 1124.661973513106, "cost1_min": 274.102458929668, "cost1_mean": 384.0054334147571, "outflow_rate_min": 887.8834990566555, "cost2_min": -141.4443642049313, "system_level_velocity_max": 17.168860610017674, "outflow_rate_mean": 1050.0589085050283, "cost1_max": 443.8418484021545, "system_level_velocity_min": 10.640709276010272, "cost2_mean": -85.03896986422689}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 36.13502812385559, "episode_reward_max": 907.1662841699033, "episodes_this_iter": 61, "hostname": "flow-main", "episodes_total": 2634, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77da0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a779e8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 684.7185770807625, "timesteps_this_iter": 110990, "pid": 2793, "iterations_since_restore": 45, "done": false, "info": {"update_time_ms": 11.602, "default": {"entropy": 1.0377469062805176, "vf_explained_var": 0.6386170983314514, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.00041918022907339036, "kl": 0.007474819198250771, "total_loss": 46.547000885009766, "cur_lr": 0.0005000000237487257, "vf_loss": 46.547325134277344}, "num_steps_sampled": 5023724, "load_time_ms": 7.764, "num_steps_trained": 5023724, "sample_time_ms": 15039.067, "grad_time_ms": 21128.935}, "timesteps_total": 5023724, "training_iteration": 45, "episode_len_mean": 698.67, "episode_reward_mean": 811.337243114237, "timestamp": 1556416104, "time_total_s": 1673.8006746768951, "date": "2019-04-28_01-48-24", "timesteps_since_restore": 5023724, "time_since_restore": 1673.8006746768951, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -42.18004515179491, "system_level_velocity_mean": 14.678968542236476, "outflow_rate_max": 1131.2390007315394, "cost1_min": 289.3410978717234, "cost1_mean": 381.9521449292755, "outflow_rate_min": 912.6360728018394, "cost2_min": -160.29835224247353, "system_level_velocity_max": 17.16031658333913, "outflow_rate_mean": 1051.2371435074338, "cost1_max": 441.50236031879024, "system_level_velocity_min": 11.101034067565783, "cost2_mean": -88.71789559311107}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 35.56579661369324, "episode_reward_max": 907.7548938739101, "episodes_this_iter": 60, "hostname": "flow-main", "episodes_total": 2694, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77b38>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77a90>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 644.6602736290422, "timesteps_this_iter": 111299, "pid": 2793, "iterations_since_restore": 46, "done": false, "info": {"update_time_ms": 11.994, "default": {"entropy": 1.0185710191726685, "vf_explained_var": 0.6434488892555237, "cur_kl_coeff": 0.01250000111758709, "policy_loss": -0.0005668923840858042, "kl": 0.007224824745208025, "total_loss": 45.816158294677734, "cur_lr": 0.0005000000237487257, "vf_loss": 45.8166389465332}, "num_steps_sampled": 5135023, "load_time_ms": 7.827, "num_steps_trained": 5135023, "sample_time_ms": 15050.329, "grad_time_ms": 20837.713}, "timesteps_total": 5135023, "training_iteration": 46, "episode_len_mean": 700.0, "episode_reward_mean": 805.4443256757826, "timestamp": 1556416140, "time_total_s": 1709.3664712905884, "date": "2019-04-28_01-49-00", "timesteps_since_restore": 5135023, "time_since_restore": 1709.3664712905884, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -46.01736088617312, "system_level_velocity_mean": 14.491734463139155, "outflow_rate_max": 1141.7077475447707, "cost1_min": 267.53894378950355, "cost1_mean": 377.5896287686281, "outflow_rate_min": 873.7295045885586, "cost2_min": -171.7813870605961, "system_level_velocity_max": 17.32242975117688, "outflow_rate_mean": 1048.9554660504002, "cost1_max": 443.94723634020147, "system_level_velocity_min": 10.319503306658968, "cost2_mean": -94.07610066111965}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 38.321221351623535, "episode_reward_max": 906.7005596797877, "episodes_this_iter": 59, "hostname": "flow-main", "episodes_total": 2753, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77ba8>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a779e8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 50.80382912606947, "timesteps_this_iter": 112304, "pid": 2793, "iterations_since_restore": 47, "done": false, "info": {"update_time_ms": 12.404, "default": {"entropy": 1.017195224761963, "vf_explained_var": 0.6571269631385803, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0005702644702978432, "kl": 0.007837623357772827, "total_loss": 46.23472213745117, "cur_lr": 0.0005000000237487257, "vf_loss": 46.23519515991211}, "num_steps_sampled": 5247327, "load_time_ms": 8.107, "num_steps_trained": 5247327, "sample_time_ms": 15140.207, "grad_time_ms": 20949.311}, "timesteps_total": 5247327, "training_iteration": 47, "episode_len_mean": 687.19, "episode_reward_mean": 793.225192857633, "timestamp": 1556416178, "time_total_s": 1747.687692642212, "date": "2019-04-28_01-49-38", "timesteps_since_restore": 5247327, "time_since_restore": 1747.687692642212, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -16.469407458312688, "system_level_velocity_mean": 14.664827955409905, "outflow_rate_max": 1146.1323199041403, "cost1_min": 23.117773270007817, "cost1_mean": 373.4513574653657, "outflow_rate_min": 496.2871102902245, "cost2_min": -171.7813870605961, "system_level_velocity_max": 17.6518580343004, "outflow_rate_mean": 1049.15057585981, "cost1_max": 443.94765763543955, "system_level_velocity_min": 10.319503306658968, "cost2_mean": -93.90298446586003}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 39.30326557159424, "episode_reward_max": 911.8240204768316, "episodes_this_iter": 56, "hostname": "flow-main", "episodes_total": 2809, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77c50>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77a90>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 50.80382912606947, "timesteps_this_iter": 116540, "pid": 2793, "iterations_since_restore": 48, "done": false, "info": {"update_time_ms": 12.196, "default": {"entropy": 1.0368931293487549, "vf_explained_var": 0.6782394647598267, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0003558492462616414, "kl": 0.007262602914124727, "total_loss": 45.44858932495117, "cur_lr": 0.0005000000237487257, "vf_loss": 45.4488525390625}, "num_steps_sampled": 5363867, "load_time_ms": 8.609, "num_steps_trained": 5363867, "sample_time_ms": 15221.656, "grad_time_ms": 21126.368}, "timesteps_total": 5363867, "training_iteration": 48, "episode_len_mean": 692.04, "episode_reward_mean": 784.0585974941188, "timestamp": 1556416217, "time_total_s": 1786.9909582138062, "date": "2019-04-28_01-50-17", "timesteps_since_restore": 5363867, "time_since_restore": 1786.9909582138062, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -16.469407458312688, "system_level_velocity_mean": 14.218245643698456, "outflow_rate_max": 1157.9942385910097, "cost1_min": 23.117773270007817, "cost1_mean": 364.67217933755944, "outflow_rate_min": 496.2871102902245, "cost2_min": -176.33060497300352, "system_level_velocity_max": 17.6518580343004, "outflow_rate_mean": 1044.2330324629038, "cost1_max": 443.94765763543955, "system_level_velocity_min": 9.834201454917201, "cost2_mean": -105.60182588497669}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.5589280128479, "episode_reward_max": 908.1638294490301, "episodes_this_iter": 55, "hostname": "flow-main", "episodes_total": 2864, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77da0>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a779e8>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 645.230396367227, "timesteps_this_iter": 113833, "pid": 2793, "iterations_since_restore": 49, "done": false, "info": {"update_time_ms": 12.216, "default": {"entropy": 1.0190061330795288, "vf_explained_var": 0.6802687644958496, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0004952519666403532, "kl": 0.007679689209908247, "total_loss": 43.89744567871094, "cur_lr": 0.0005000000237487257, "vf_loss": 43.897850036621094}, "num_steps_sampled": 5477700, "load_time_ms": 8.881, "num_steps_trained": 5477700, "sample_time_ms": 15213.013, "grad_time_ms": 21191.454}, "timesteps_total": 5477700, "training_iteration": 49, "episode_len_mean": 700.0, "episode_reward_mean": 780.3460614270803, "timestamp": 1556416255, "time_total_s": 1824.549886226654, "date": "2019-04-28_01-50-55", "timesteps_since_restore": 5477700, "time_since_restore": 1824.549886226654, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -54.54379973822559, "system_level_velocity_mean": 13.827332912368297, "outflow_rate_max": 1157.9942385910097, "cost1_min": 254.79869610611098, "cost1_mean": 359.6117588733621, "outflow_rate_min": 874.0739429475763, "cost2_min": -176.33060497300352, "system_level_velocity_max": 17.369849315496474, "outflow_rate_mean": 1041.4414423949324, "cost1_max": 444.6653065557688, "system_level_velocity_min": 9.834201454917201, "cost2_mean": -114.1824205066403}}
{"experiment_id": "1c80eedf9f684615a8fa932a4fe881cd", "time_this_iter_s": 37.065210819244385, "episode_reward_max": 919.7065109473849, "episodes_this_iter": 61, "hostname": "flow-main", "episodes_total": 2925, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "vf_clip_param": 1000000.0, "clip_actions": false, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a770f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77b38>", "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a77a90>", "on_sample_end": null}, "use_gae": true, "custom_resources_per_worker": {}, "num_gpus_per_worker": 0, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "train_batch_size": 90000, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "free_log_std": false, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "framestack": true, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "batch_mode": "truncate_episodes", "simple_optimizer": false, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "sample_async": false, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "synchronize_filters": true, "log_level": "INFO", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "straggler_mitigation": false, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 653.4408126207671, "timesteps_this_iter": 113272, "pid": 2793, "iterations_since_restore": 50, "done": true, "info": {"update_time_ms": 12.373, "default": {"entropy": 1.0049489736557007, "vf_explained_var": 0.6504895687103271, "cur_kl_coeff": 0.012500002048909664, "policy_loss": -0.0008592512458562851, "kl": 0.010053477250039577, "total_loss": 47.01386642456055, "cur_lr": 0.0005000000237487257, "vf_loss": 47.01459884643555}, "num_steps_sampled": 5590972, "load_time_ms": 9.041, "num_steps_trained": 5590972, "sample_time_ms": 15237.815, "grad_time_ms": 21280.251}, "timesteps_total": 5590972, "training_iteration": 50, "episode_len_mean": 700.0, "episode_reward_mean": 795.1175956058065, "timestamp": 1556416292, "time_total_s": 1861.6150970458984, "date": "2019-04-28_01-51-32", "timesteps_since_restore": 5590972, "time_since_restore": 1861.6150970458984, "policy_reward_mean": {}, "custom_metrics": {"cost2_max": -54.54379973822559, "system_level_velocity_mean": 14.223528160055091, "outflow_rate_max": 1157.7566332957667, "cost1_min": 261.1608148041439, "cost1_mean": 369.98509176514614, "outflow_rate_min": 885.6326837625821, "cost2_min": -172.6375156935188, "system_level_velocity_max": 17.369849315496474, "outflow_rate_mean": 1056.96097627383, "cost1_max": 447.8691251826999, "system_level_velocity_min": 10.038203862691965, "cost2_mean": -109.940429541453}}
