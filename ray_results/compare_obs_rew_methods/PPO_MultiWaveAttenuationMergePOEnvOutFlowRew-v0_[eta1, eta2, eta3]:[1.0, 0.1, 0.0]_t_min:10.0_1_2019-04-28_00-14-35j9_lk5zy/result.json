{"policy_reward_mean": {}, "time_this_iter_s": 75.80686855316162, "episode_reward_max": 422.61074466515834, "episodes_this_iter": 23, "hostname": "flow-main", "episode_reward_mean": 264.48224563062684, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acc9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acc8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acc128>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 175.02854282464156, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 117784, "pid": 33404, "iterations_since_restore": 1, "done": false, "info": {"update_time_ms": 2375.636, "default": {"entropy": 1.4187650680541992, "vf_explained_var": 0.8994176983833313, "cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.0003142621135339141, "cur_lr": 0.0005000000237487257, "total_loss": 1.0554372072219849, "kl": 0.0011009962763637304, "vf_loss": 1.0555312633514404}, "num_steps_sampled": 117784, "load_time_ms": 56.14, "num_steps_trained": 117784, "sample_time_ms": 47714.733, "grad_time_ms": 25414.17}, "timesteps_total": 117784, "training_iteration": 1, "date": "2019-04-28_00-16-11", "episodes_total": 23, "timestamp": 1556410571, "time_total_s": 75.80686855316162, "episode_len_mean": 700.0, "timesteps_since_restore": 117784, "time_since_restore": 75.80686855316162, "custom_metrics": {"cost2_max": -33.80878758396367, "system_level_velocity_mean": 7.768823039590183, "outflow_rate_mean": 606.1128187762926, "cost1_min": 153.7192981829969, "outflow_rate_min": 468.6757228693758, "cost1_mean": 200.85627186737787, "cost1_max": 249.551581966147, "cost2_min": -78.95976189443279, "system_level_velocity_max": 9.632223488236162, "outflow_rate_max": 742.0468088278191, "system_level_velocity_min": 5.790726357681515, "cost2_mean": -52.71685570532401}}
{"policy_reward_mean": {}, "time_this_iter_s": 40.36665892601013, "episode_reward_max": 422.61074466515834, "episodes_this_iter": 60, "hostname": "flow-main", "episode_reward_mean": 287.49337526000573, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad71d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7d30>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 171.34436078635298, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 119208, "pid": 33404, "iterations_since_restore": 2, "done": false, "info": {"update_time_ms": 1193.416, "default": {"entropy": 1.416637659072876, "vf_explained_var": 0.9137303233146667, "cur_kl_coeff": 0.10000002384185791, "policy_loss": -0.0028777169063687325, "cur_lr": 0.0005000000237487257, "total_loss": 1.354692816734314, "kl": 0.00663355877622962, "vf_loss": 1.3569071292877197}, "num_steps_sampled": 236992, "load_time_ms": 34.323, "num_steps_trained": 236992, "sample_time_ms": 31712.522, "grad_time_ms": 24908.321}, "timesteps_total": 236992, "training_iteration": 2, "date": "2019-04-28_00-16-52", "episodes_total": 83, "timestamp": 1556410612, "time_total_s": 116.17352747917175, "episode_len_mean": 700.0, "timesteps_since_restore": 236992, "time_since_restore": 116.17352747917175, "custom_metrics": {"cost2_max": -33.50891092949083, "system_level_velocity_mean": 7.762434382358058, "outflow_rate_mean": 610.9372118336343, "cost1_min": 153.7192981829969, "outflow_rate_min": 442.83365926945675, "cost1_mean": 200.9732460371171, "cost1_max": 249.551581966147, "cost2_min": -100.56458672526317, "system_level_velocity_max": 9.632223488236162, "outflow_rate_max": 742.3393099332477, "system_level_velocity_min": 5.790726357681515, "cost2_mean": -56.218646558960224}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.849350452423096, "episode_reward_max": 575.2564649899253, "episodes_this_iter": 55, "hostname": "flow-main", "episode_reward_mean": 359.25273203921176, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9b4a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9bcc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9bcf8>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 171.34436078635298, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 116207, "pid": 33404, "iterations_since_restore": 3, "done": false, "info": {"update_time_ms": 799.748, "default": {"entropy": 1.413916826248169, "vf_explained_var": 0.889001727104187, "cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.005801485851407051, "cur_lr": 0.0005000000237487257, "total_loss": 3.2504804134368896, "kl": 0.010177303105592728, "vf_loss": 3.2552642822265625}, "num_steps_sampled": 353199, "load_time_ms": 25.69, "num_steps_trained": 353199, "sample_time_ms": 26106.924, "grad_time_ms": 24509.005}, "timesteps_total": 353199, "training_iteration": 3, "date": "2019-04-28_00-17-31", "episodes_total": 138, "timestamp": 1556410651, "time_total_s": 155.02287793159485, "episode_len_mean": 700.0, "timesteps_since_restore": 353199, "time_since_restore": 155.02287793159485, "custom_metrics": {"cost2_max": -33.50891092949083, "system_level_velocity_mean": 8.281866409947508, "outflow_rate_mean": 661.1476974180619, "cost1_min": 162.27433789395616, "outflow_rate_min": 446.7721303676844, "cost1_mean": 215.3233687980305, "cost1_max": 286.71225648178586, "cost2_min": -102.43728868456049, "system_level_velocity_max": 11.000598657970157, "outflow_rate_max": 870.860158665509, "system_level_velocity_min": 6.25013821629004, "cost2_mean": -62.23752752717838}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.31087279319763, "episode_reward_max": 757.0614000078267, "episodes_this_iter": 52, "hostname": "flow-main", "episode_reward_mean": 523.6707052564558, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad78d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7080>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 262.55818107608445, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 118724, "pid": 33404, "iterations_since_restore": 4, "done": false, "info": {"update_time_ms": 602.563, "default": {"entropy": 1.3989368677139282, "vf_explained_var": 0.7945973873138428, "cur_kl_coeff": 0.10000001639127731, "policy_loss": -0.0015271971933543682, "cur_lr": 0.0005000000237487257, "total_loss": 6.978394985198975, "kl": 0.0046224831603467464, "vf_loss": 6.979459762573242}, "num_steps_sampled": 471923, "load_time_ms": 23.116, "num_steps_trained": 471923, "sample_time_ms": 23374.087, "grad_time_ms": 24104.545}, "timesteps_total": 471923, "training_iteration": 4, "date": "2019-04-28_00-18-09", "episodes_total": 190, "timestamp": 1556410689, "time_total_s": 193.33375072479248, "episode_len_mean": 700.0, "timesteps_since_restore": 471923, "time_since_restore": 193.33375072479248, "custom_metrics": {"cost2_max": -42.69598881218516, "system_level_velocity_mean": 9.690582921502788, "outflow_rate_mean": 782.9443045706142, "cost1_min": 162.27433789395616, "outflow_rate_min": 446.7721303676844, "cost1_mean": 254.7615236552773, "cost1_max": 323.327800093893, "cost2_min": -123.63920939510923, "system_level_velocity_max": 12.198144742318343, "outflow_rate_max": 980.2012932194187, "system_level_velocity_min": 6.25013821629004, "cost2_mean": -76.9958929874801}}
{"policy_reward_mean": {}, "time_this_iter_s": 40.18283820152283, "episode_reward_max": 822.3819998704123, "episodes_this_iter": 52, "hostname": "flow-main", "episode_reward_mean": 668.9277452375841, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab0710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acc198>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 388.7774646176025, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 120064, "pid": 33404, "iterations_since_restore": 5, "done": false, "info": {"update_time_ms": 484.328, "default": {"entropy": 1.3936020135879517, "vf_explained_var": 0.7847557663917542, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0013460812624543905, "cur_lr": 0.0005000000237487257, "total_loss": 7.620583534240723, "kl": 0.005514014977961779, "vf_loss": 7.621654033660889}, "num_steps_sampled": 591987, "load_time_ms": 20.048, "num_steps_trained": 591987, "sample_time_ms": 21753.491, "grad_time_ms": 24215.444}, "timesteps_total": 591987, "training_iteration": 5, "date": "2019-04-28_00-18-49", "episodes_total": 242, "timestamp": 1556410729, "time_total_s": 233.5165889263153, "episode_len_mean": 700.0, "timesteps_since_restore": 591987, "time_since_restore": 233.5165889263153, "custom_metrics": {"cost2_max": -52.94271511086479, "system_level_velocity_mean": 10.829750484786398, "outflow_rate_mean": 898.2974122106115, "cost1_min": 189.96494672903688, "outflow_rate_min": 625.3501803982535, "cost1_mean": 287.4740634544746, "cost1_max": 345.133742863777, "cost2_min": -139.15723806528445, "system_level_velocity_max": 13.022473155258108, "outflow_rate_max": 1058.7524155813287, "system_level_velocity_min": 7.347236561939374, "cost2_mean": -98.09362477254332}}
{"policy_reward_mean": {}, "time_this_iter_s": 40.99787354469299, "episode_reward_max": 822.3819998704123, "episodes_this_iter": 39, "hostname": "flow-main", "episode_reward_mean": 703.6976215064464, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad74a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863accbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7278>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 39.2636139540314, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 123426, "pid": 33404, "iterations_since_restore": 6, "done": false, "info": {"update_time_ms": 405.408, "default": {"entropy": 1.386792778968811, "vf_explained_var": 0.8119694590568542, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0015382482670247555, "cur_lr": 0.0005000000237487257, "total_loss": 7.352989673614502, "kl": 0.005442827939987183, "vf_loss": 7.354255199432373}, "num_steps_sampled": 715413, "load_time_ms": 19.507, "num_steps_trained": 715413, "sample_time_ms": 20666.356, "grad_time_ms": 24429.698}, "timesteps_total": 715413, "training_iteration": 6, "date": "2019-04-28_00-19-30", "episodes_total": 281, "timestamp": 1556410770, "time_total_s": 274.5144624710083, "episode_len_mean": 686.62, "timesteps_since_restore": 715413, "time_since_restore": 274.5144624710083, "custom_metrics": {"cost2_max": -16.959726730616765, "system_level_velocity_mean": 11.35323866345054, "outflow_rate_mean": 937.0405878617661, "cost1_min": 17.754221237613567, "outflow_rate_min": 482.0722371697821, "cost1_mean": 293.58310629510123, "cost1_max": 345.133742863777, "cost2_min": -155.50808439189828, "system_level_velocity_max": 18.0954079732703, "outflow_rate_max": 1058.7524155813287, "system_level_velocity_min": 8.719003758972919, "cost2_mean": -108.04847553771718}}
{"policy_reward_mean": {}, "time_this_iter_s": 40.56481981277466, "episode_reward_max": 816.1871361703242, "episodes_this_iter": 56, "hostname": "flow-main", "episode_reward_mean": 717.2111739708495, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9b160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab0710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9b438>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 39.2636139540314, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 119689, "pid": 33404, "iterations_since_restore": 7, "done": false, "info": {"update_time_ms": 349.133, "default": {"entropy": 1.3694947957992554, "vf_explained_var": 0.8233470320701599, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0012478175340220332, "cur_lr": 0.0005000000237487257, "total_loss": 7.796594619750977, "kl": 0.005454550497233868, "vf_loss": 7.797569751739502}, "num_steps_sampled": 835102, "load_time_ms": 17.569, "num_steps_trained": 835102, "sample_time_ms": 19870.513, "grad_time_ms": 24548.453}, "timesteps_total": 835102, "training_iteration": 7, "date": "2019-04-28_00-20-11", "episodes_total": 337, "timestamp": 1556410811, "time_total_s": 315.07928228378296, "episode_len_mean": 686.62, "timesteps_since_restore": 835102, "time_since_restore": 315.07928228378296, "custom_metrics": {"cost2_max": -16.959726730616765, "system_level_velocity_mean": 11.498727653471747, "outflow_rate_mean": 964.7533531211521, "cost1_min": 17.754221237613567, "outflow_rate_min": 482.0722371697821, "cost1_mean": 298.4816615566013, "cost1_max": 341.5537364785273, "cost2_min": -160.8644613869377, "system_level_velocity_max": 18.0954079732703, "outflow_rate_max": 1056.2822259181864, "system_level_velocity_min": 8.781722897852879, "cost2_mean": -119.11830256908478}}
{"policy_reward_mean": {}, "time_this_iter_s": 36.03574347496033, "episode_reward_max": 816.1871361703242, "episodes_this_iter": 46, "hostname": "flow-main", "episode_reward_mean": 738.8727859504434, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863accfd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7e48>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 574.2746551222151, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 117268, "pid": 33404, "iterations_since_restore": 8, "done": false, "info": {"update_time_ms": 306.817, "default": {"entropy": 1.36310875415802, "vf_explained_var": 0.8085585832595825, "cur_kl_coeff": 0.05000000819563866, "policy_loss": -0.0007230227929539979, "cur_lr": 0.0005000000237487257, "total_loss": 7.738279342651367, "kl": 0.004712498746812344, "vf_loss": 7.738766193389893}, "num_steps_sampled": 952370, "load_time_ms": 18.428, "num_steps_trained": 952370, "sample_time_ms": 19212.183, "grad_time_ms": 24125.764}, "timesteps_total": 952370, "training_iteration": 8, "date": "2019-04-28_00-20-47", "episodes_total": 383, "timestamp": 1556410847, "time_total_s": 351.1150257587433, "episode_len_mean": 700.0, "timesteps_since_restore": 952370, "time_since_restore": 351.1150257587433, "custom_metrics": {"cost2_max": -81.08480903264669, "system_level_velocity_mean": 11.45775529827117, "outflow_rate_mean": 984.5419574789235, "cost1_min": 231.21956243641324, "outflow_rate_min": 813.3352948838659, "cost1_mean": 306.66624749020497, "cost1_max": 341.9775499240791, "cost2_min": -160.8644613869377, "system_level_velocity_max": 12.770122010518868, "outflow_rate_max": 1056.2822259181864, "system_level_velocity_min": 8.781722897852879, "cost2_mean": -115.46184596845856}}
{"policy_reward_mean": {}, "time_this_iter_s": 36.9203360080719, "episode_reward_max": 814.4588957920118, "episodes_this_iter": 57, "hostname": "flow-main", "episode_reward_mean": 750.0454739459352, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab0710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab0ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab02e8>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 613.2201545360318, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 117738, "pid": 33404, "iterations_since_restore": 9, "done": false, "info": {"update_time_ms": 273.906, "default": {"entropy": 1.3466719388961792, "vf_explained_var": 0.7491222620010376, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0009868224151432514, "cur_lr": 0.0005000000237487257, "total_loss": 9.437240600585938, "kl": 0.005802202504128218, "vf_loss": 9.438082695007324}, "num_steps_sampled": 1070108, "load_time_ms": 17.213, "num_steps_trained": 1070108, "sample_time_ms": 18599.046, "grad_time_ms": 24001.21}, "timesteps_total": 1070108, "training_iteration": 9, "date": "2019-04-28_00-21-24", "episodes_total": 440, "timestamp": 1556410884, "time_total_s": 388.0353617668152, "episode_len_mean": 700.0, "timesteps_since_restore": 1070108, "time_since_restore": 388.0353617668152, "custom_metrics": {"cost2_max": -81.08480903264669, "system_level_velocity_mean": 11.448175545379398, "outflow_rate_mean": 980.2709556005367, "cost1_min": 227.80362806578665, "outflow_rate_min": 819.4633837790205, "cost1_mean": 306.56521109546145, "cost1_max": 344.38311067041286, "cost2_min": -134.3737851824655, "system_level_velocity_max": 12.844631617463545, "outflow_rate_max": 1054.7015741069283, "system_level_velocity_min": 8.388227170425706, "cost2_mean": -103.09539993701271}}
{"policy_reward_mean": {}, "time_this_iter_s": 36.50545835494995, "episode_reward_max": 844.9666401147553, "episodes_this_iter": 55, "hostname": "flow-main", "episode_reward_mean": 746.460580351697, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7128>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 625.0495055258465, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 117280, "pid": 33404, "iterations_since_restore": 10, "done": false, "info": {"update_time_ms": 247.594, "default": {"entropy": 1.332491397857666, "vf_explained_var": 0.7553725838661194, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0008042005356401205, "cur_lr": 0.0005000000237487257, "total_loss": 9.540535926818848, "kl": 0.005530683323740959, "vf_loss": 9.541202545166016}, "num_steps_sampled": 1187388, "load_time_ms": 16.312, "num_steps_trained": 1187388, "sample_time_ms": 18159.793, "grad_time_ms": 23810.214}, "timesteps_total": 1187388, "training_iteration": 10, "date": "2019-04-28_00-22-00", "episodes_total": 495, "timestamp": 1556410920, "time_total_s": 424.54082012176514, "episode_len_mean": 700.0, "timesteps_since_restore": 1187388, "time_since_restore": 424.54082012176514, "custom_metrics": {"cost2_max": -88.15519375145215, "system_level_velocity_mean": 11.294013105614875, "outflow_rate_mean": 972.428553964847, "cost1_min": 227.80362806578665, "outflow_rate_min": 819.4633837790205, "cost1_mean": 302.53105600081, "cost1_max": 347.18877969313667, "cost2_min": -134.3737851824655, "system_level_velocity_max": 13.090217107570094, "outflow_rate_max": 1061.4379870051528, "system_level_velocity_min": 8.388227170425706, "cost2_mean": -106.22089406808965}}
{"policy_reward_mean": {}, "time_this_iter_s": 36.751370906829834, "episode_reward_max": 844.9666401147553, "episodes_this_iter": 51, "hostname": "flow-main", "episode_reward_mean": 754.2039004208262, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5be80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acc160>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 681.7475496853106, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 118710, "pid": 33404, "iterations_since_restore": 11, "done": false, "info": {"update_time_ms": 11.198, "default": {"entropy": 1.314786434173584, "vf_explained_var": 0.7385813593864441, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.00035994756035506725, "cur_lr": 0.0005000000237487257, "total_loss": 9.035804748535156, "kl": 0.005509164184331894, "vf_loss": 9.036027908325195}, "num_steps_sampled": 1306098, "load_time_ms": 11.936, "num_steps_trained": 1306098, "sample_time_ms": 14759.104, "grad_time_ms": 23547.818}, "timesteps_total": 1306098, "training_iteration": 11, "date": "2019-04-28_00-22-37", "episodes_total": 546, "timestamp": 1556410957, "time_total_s": 461.29219102859497, "episode_len_mean": 700.0, "timesteps_since_restore": 1306098, "time_since_restore": 461.29219102859497, "custom_metrics": {"cost2_max": -94.23833120843429, "system_level_velocity_mean": 11.389340261307066, "outflow_rate_mean": 988.5433369663562, "cost1_min": 257.08962416295236, "outflow_rate_min": 877.809999660719, "cost1_mean": 305.45783560906864, "cost1_max": 347.18877969313667, "cost2_min": -137.0343057289311, "system_level_velocity_max": 13.090217107570094, "outflow_rate_max": 1061.4379870051528, "system_level_velocity_min": 9.589766849323851, "cost2_mean": -115.28828354893734}}
{"policy_reward_mean": {}, "time_this_iter_s": 39.075437784194946, "episode_reward_max": 815.9616619648526, "episodes_this_iter": 48, "hostname": "flow-main", "episode_reward_mean": 755.5194564664151, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7ac8>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 681.7475496853106, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 117872, "pid": 33404, "iterations_since_restore": 12, "done": false, "info": {"update_time_ms": 11.342, "default": {"entropy": 1.3158197402954102, "vf_explained_var": 0.707186222076416, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0007330966764129698, "cur_lr": 0.0005000000237487257, "total_loss": 9.559288024902344, "kl": 0.0052452231757342815, "vf_loss": 9.559890747070312}, "num_steps_sampled": 1423970, "load_time_ms": 11.166, "num_steps_trained": 1423970, "sample_time_ms": 14566.75, "grad_time_ms": 23615.013}, "timesteps_total": 1423970, "training_iteration": 12, "date": "2019-04-28_00-23-16", "episodes_total": 594, "timestamp": 1556410996, "time_total_s": 500.3676288127899, "episode_len_mean": 700.0, "timesteps_since_restore": 1423970, "time_since_restore": 500.3676288127899, "custom_metrics": {"cost2_max": -95.34934507055536, "system_level_velocity_mean": 11.395666072185042, "outflow_rate_mean": 995.3647685411347, "cost1_min": 257.08962416295236, "outflow_rate_min": 882.8032900113592, "cost1_mean": 305.6134912427917, "cost1_max": 338.002907869598, "cost2_min": -137.0343057289311, "system_level_velocity_max": 12.704602988863025, "outflow_rate_max": 1067.222477727551, "system_level_velocity_min": 9.589766849323851, "cost2_mean": -116.84026060983122}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.05161094665527, "episode_reward_max": 842.8593408982987, "episodes_this_iter": 46, "hostname": "flow-main", "episode_reward_mean": 761.3024658509415, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b128>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 684.0926923781493, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 116254, "pid": 33404, "iterations_since_restore": 13, "done": false, "info": {"update_time_ms": 11.197, "default": {"entropy": 1.2957205772399902, "vf_explained_var": 0.6768812537193298, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0003601806820370257, "cur_lr": 0.0005000000237487257, "total_loss": 10.936464309692383, "kl": 0.006336954887956381, "vf_loss": 10.936665534973145}, "num_steps_sampled": 1540224, "load_time_ms": 10.998, "num_steps_trained": 1540224, "sample_time_ms": 14600.897, "grad_time_ms": 23504.522}, "timesteps_total": 1540224, "training_iteration": 13, "date": "2019-04-28_00-23-54", "episodes_total": 640, "timestamp": 1556411034, "time_total_s": 538.4192397594452, "episode_len_mean": 700.0, "timesteps_since_restore": 1540224, "time_since_restore": 538.4192397594452, "custom_metrics": {"cost2_max": -95.55180208422877, "system_level_velocity_mean": 11.502393330819393, "outflow_rate_mean": 996.373590308635, "cost1_min": 253.9890524144722, "outflow_rate_min": 876.1177774242221, "cost1_mean": 307.80387550886314, "cost1_max": 344.6629212565174, "cost2_min": -132.4184674864542, "system_level_velocity_max": 13.023524869797903, "outflow_rate_max": 1082.1226021476618, "system_level_velocity_min": 9.43846692729468, "cost2_mean": -112.71550922363214}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.41447973251343, "episode_reward_max": 851.9224217976699, "episodes_this_iter": 60, "hostname": "flow-main", "episode_reward_mean": 778.3829558214467, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab0198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ab0710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9b080>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 684.0926923781493, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 118327, "pid": 33404, "iterations_since_restore": 14, "done": false, "info": {"update_time_ms": 11.23, "default": {"entropy": 1.2730302810668945, "vf_explained_var": 0.6150517463684082, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -1.1459573215688579e-05, "cur_lr": 0.0005000000237487257, "total_loss": 14.034273147583008, "kl": 0.0058014788664877415, "vf_loss": 14.034138679504395}, "num_steps_sampled": 1658551, "load_time_ms": 11.126, "num_steps_trained": 1658551, "sample_time_ms": 14580.445, "grad_time_ms": 23533.115}, "timesteps_total": 1658551, "training_iteration": 14, "date": "2019-04-28_00-24-33", "episodes_total": 700, "timestamp": 1556411073, "time_total_s": 576.8337194919586, "episode_len_mean": 700.0, "timesteps_since_restore": 1658551, "time_since_restore": 576.8337194919586, "custom_metrics": {"cost2_max": -95.55180208422877, "system_level_velocity_mean": 11.796439597663154, "outflow_rate_mean": 1014.3156938774702, "cost1_min": 253.9890524144722, "outflow_rate_min": 876.1177774242221, "cost1_mean": 315.4112992243726, "cost1_max": 355.1357319184444, "cost2_min": -142.25132346095717, "system_level_velocity_max": 13.44758242775203, "outflow_rate_max": 1099.233586225714, "system_level_velocity_min": 9.43846692729468, "cost2_mean": -115.8066489834052}}
{"policy_reward_mean": {}, "time_this_iter_s": 41.089611291885376, "episode_reward_max": 855.8670339957548, "episodes_this_iter": 44, "hostname": "flow-main", "episode_reward_mean": 782.2322698194846, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bcf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b978>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 687.3667028981009, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 117743, "pid": 33404, "iterations_since_restore": 15, "done": false, "info": {"update_time_ms": 11.205, "default": {"entropy": 1.2628916501998901, "vf_explained_var": 0.7153481841087341, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0004218356334604323, "cur_lr": 0.0005000000237487257, "total_loss": 11.422282218933105, "kl": 0.005597200244665146, "vf_loss": 11.422563552856445}, "num_steps_sampled": 1776294, "load_time_ms": 11.112, "num_steps_trained": 1776294, "sample_time_ms": 14581.191, "grad_time_ms": 23623.476}, "timesteps_total": 1776294, "training_iteration": 15, "date": "2019-04-28_00-25-14", "episodes_total": 744, "timestamp": 1556411114, "time_total_s": 617.923330783844, "episode_len_mean": 700.0, "timesteps_since_restore": 1776294, "time_since_restore": 617.923330783844, "custom_metrics": {"cost2_max": -104.26391055377266, "system_level_velocity_mean": 11.835157489932346, "outflow_rate_mean": 1020.5798009090702, "cost1_min": 263.8765501849243, "outflow_rate_min": 884.9205320946688, "cost1_mean": 316.5417607089741, "cost1_max": 360.00242303278327, "cost2_min": -152.33932021163392, "system_level_velocity_max": 13.590924790351611, "outflow_rate_max": 1111.2375228228113, "system_level_velocity_min": 9.84185870731994, "cost2_mean": -123.10932082917614}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.33246088027954, "episode_reward_max": 871.9680252292908, "episodes_this_iter": 58, "hostname": "flow-main", "episode_reward_mean": 775.7213491296382, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bd68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863accd68>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 666.8836887350262, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 116847, "pid": 33404, "iterations_since_restore": 16, "done": false, "info": {"update_time_ms": 11.213, "default": {"entropy": 1.2657513618469238, "vf_explained_var": 0.7136490345001221, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0008512995555065572, "cur_lr": 0.0005000000237487257, "total_loss": 13.710176467895508, "kl": 0.0061985100619494915, "vf_loss": 13.710870742797852}, "num_steps_sampled": 1893141, "load_time_ms": 10.633, "num_steps_trained": 1893141, "sample_time_ms": 14521.979, "grad_time_ms": 23317.997}, "timesteps_total": 1893141, "training_iteration": 16, "date": "2019-04-28_00-25-51", "episodes_total": 802, "timestamp": 1556411151, "time_total_s": 655.2557916641235, "episode_len_mean": 700.0, "timesteps_since_restore": 1893141, "time_since_restore": 655.2557916641235, "custom_metrics": {"cost2_max": -113.36678182609047, "system_level_velocity_mean": 11.918389121085049, "outflow_rate_mean": 1030.8402656583976, "cost1_min": 263.8765501849243, "outflow_rate_min": 884.9205320946688, "cost1_mean": 318.6118606082941, "cost1_max": 361.4735121378772, "cost2_min": -166.12973799747226, "system_level_velocity_max": 13.755555522365087, "outflow_rate_max": 1126.141808713286, "system_level_velocity_min": 9.866027837743557, "cost2_mean": -136.81973133316018}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.9536337852478, "episode_reward_max": 871.9680252292908, "episodes_this_iter": 52, "hostname": "flow-main", "episode_reward_mean": 777.1224180807689, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b5c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b898>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 681.7278913911005, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 117771, "pid": 33404, "iterations_since_restore": 17, "done": false, "info": {"update_time_ms": 11.148, "default": {"entropy": 1.2570594549179077, "vf_explained_var": 0.721844494342804, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.00010188481246586889, "cur_lr": 0.0005000000237487257, "total_loss": 12.91259765625, "kl": 0.006029347889125347, "vf_loss": 12.912549018859863}, "num_steps_sampled": 2010912, "load_time_ms": 10.643, "num_steps_trained": 2010912, "sample_time_ms": 14519.48, "grad_time_ms": 23155.854}, "timesteps_total": 2010912, "training_iteration": 17, "date": "2019-04-28_00-26-30", "episodes_total": 854, "timestamp": 1556411190, "time_total_s": 694.2094254493713, "episode_len_mean": 700.0, "timesteps_since_restore": 2010912, "time_since_restore": 694.2094254493713, "custom_metrics": {"cost2_max": -115.15845245240585, "system_level_velocity_mean": 12.033777368855281, "outflow_rate_mean": 1042.315039239132, "cost1_min": 265.7338538220622, "outflow_rate_min": 927.5035239212857, "cost1_mean": 321.67378098468185, "cost1_max": 364.91238212129156, "cost2_min": -161.54205377119513, "system_level_velocity_max": 13.83132062258417, "outflow_rate_max": 1126.141808713286, "system_level_velocity_min": 9.869324607440745, "cost2_mean": -140.50528470573127}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.41995143890381, "episode_reward_max": 871.9005323265496, "episodes_this_iter": 47, "hostname": "flow-main", "episode_reward_mean": 782.6687385752255, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b5f8>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 662.6695259930383, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 119411, "pid": 33404, "iterations_since_restore": 18, "done": false, "info": {"update_time_ms": 11.188, "default": {"entropy": 1.258914589881897, "vf_explained_var": 0.7496611475944519, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0009306110441684723, "cur_lr": 0.0005000000237487257, "total_loss": 12.250393867492676, "kl": 0.006377068813890219, "vf_loss": 12.251165390014648}, "num_steps_sampled": 2130323, "load_time_ms": 9.286, "num_steps_trained": 2130323, "sample_time_ms": 14472.062, "grad_time_ms": 23345.267}, "timesteps_total": 2130323, "training_iteration": 18, "date": "2019-04-28_00-27-08", "episodes_total": 901, "timestamp": 1556411228, "time_total_s": 731.6293768882751, "episode_len_mean": 700.0, "timesteps_since_restore": 2130323, "time_since_restore": 731.6293768882751, "custom_metrics": {"cost2_max": -118.6915015682815, "system_level_velocity_mean": 12.047078662464955, "outflow_rate_mean": 1045.625464000115, "cost1_min": 258.43832826048833, "outflow_rate_min": 903.0040483448496, "cost1_mean": 322.124646639998, "cost1_max": 364.91238212129156, "cost2_min": -174.1384920237011, "system_level_velocity_max": 13.83132062258417, "outflow_rate_max": 1123.273717323474, "system_level_velocity_min": 9.750722210375619, "cost2_mean": -141.82739867671552}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.76988768577576, "episode_reward_max": 856.9484209437355, "episodes_this_iter": 50, "hostname": "flow-main", "episode_reward_mean": 779.7304592408301, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b9e8>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 662.6695259930383, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 121605, "pid": 33404, "iterations_since_restore": 19, "done": false, "info": {"update_time_ms": 11.27, "default": {"entropy": 1.2528250217437744, "vf_explained_var": 0.7674780488014221, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0004779794835485518, "cur_lr": 0.0005000000237487257, "total_loss": 12.549379348754883, "kl": 0.005846648011356592, "vf_loss": 12.549710273742676}, "num_steps_sampled": 2251928, "load_time_ms": 9.223, "num_steps_trained": 2251928, "sample_time_ms": 14550.221, "grad_time_ms": 23452.729}, "timesteps_total": 2251928, "training_iteration": 19, "date": "2019-04-28_00-27-46", "episodes_total": 951, "timestamp": 1556411266, "time_total_s": 770.3992645740509, "episode_len_mean": 700.0, "timesteps_since_restore": 2251928, "time_since_restore": 770.3992645740509, "custom_metrics": {"cost2_max": -122.05984309313422, "system_level_velocity_mean": 11.961536628874644, "outflow_rate_mean": 1048.6060481148388, "cost1_min": 258.43832826048833, "outflow_rate_min": 903.0040483448496, "cost1_mean": 320.35096529262665, "cost1_max": 352.2484447717135, "cost2_min": -174.1384920237011, "system_level_velocity_max": 13.279773384776009, "outflow_rate_max": 1113.669917778866, "system_level_velocity_min": 9.750722210375619, "cost2_mean": -149.6796948186899}}
{"policy_reward_mean": {}, "time_this_iter_s": 35.54570150375366, "episode_reward_max": 880.2112969418723, "episodes_this_iter": 44, "hostname": "flow-main", "episode_reward_mean": 769.104642234729, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bf98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bef0>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 663.0948212486093, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 120507, "pid": 33404, "iterations_since_restore": 20, "done": false, "info": {"update_time_ms": 11.419, "default": {"entropy": 1.2383676767349243, "vf_explained_var": 0.7983057498931885, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0006552563863806427, "cur_lr": 0.0005000000237487257, "total_loss": 11.615435600280762, "kl": 0.006065763998776674, "vf_loss": 11.615939140319824}, "num_steps_sampled": 2372435, "load_time_ms": 9.213, "num_steps_trained": 2372435, "sample_time_ms": 14529.886, "grad_time_ms": 23375.374}, "timesteps_total": 2372435, "training_iteration": 20, "date": "2019-04-28_00-28-22", "episodes_total": 995, "timestamp": 1556411302, "time_total_s": 805.9449660778046, "episode_len_mean": 700.0, "timesteps_since_restore": 2372435, "time_since_restore": 805.9449660778046, "custom_metrics": {"cost2_max": -130.21424182902874, "system_level_velocity_mean": 11.91062446485033, "outflow_rate_mean": 1049.489118479916, "cost1_min": 257.60889569533936, "outflow_rate_min": 921.4854290922565, "cost1_mean": 318.78216649454845, "cost1_max": 370.42644413129165, "cost2_min": -181.1107445610378, "system_level_velocity_max": 13.980756902020314, "outflow_rate_max": 1153.182353504621, "system_level_velocity_min": 9.592627617875525, "cost2_mean": -156.0959359618314}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.50787663459778, "episode_reward_max": 880.2112969418723, "episodes_this_iter": 60, "hostname": "flow-main", "episode_reward_mean": 758.529424755687, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b0f0>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 51.666622337899895, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 120640, "pid": 33404, "iterations_since_restore": 21, "done": false, "info": {"update_time_ms": 11.259, "default": {"entropy": 1.2355786561965942, "vf_explained_var": 0.7434314489364624, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0006877447012811899, "cur_lr": 0.0005000000237487257, "total_loss": 15.792670249938965, "kl": 0.00674952520057559, "vf_loss": 15.793188095092773}, "num_steps_sampled": 2493075, "load_time_ms": 8.79, "num_steps_trained": 2493075, "sample_time_ms": 14642.528, "grad_time_ms": 23437.685}, "timesteps_total": 2493075, "training_iteration": 21, "date": "2019-04-28_00-29-01", "episodes_total": 1055, "timestamp": 1556411341, "time_total_s": 844.4528427124023, "episode_len_mean": 693.37, "timesteps_since_restore": 2493075, "time_since_restore": 844.4528427124023, "custom_metrics": {"cost2_max": -20.939927069084085, "system_level_velocity_mean": 12.000683559816924, "outflow_rate_mean": 1047.6071205933752, "cost1_min": 24.005099411570928, "outflow_rate_min": 494.38181336260607, "cost1_mean": 316.224862728983, "cost1_max": 370.42644413129165, "cost2_min": -185.25091448156928, "system_level_velocity_max": 18.221034252079974, "outflow_rate_max": 1153.182353504621, "system_level_velocity_min": 9.592627617875525, "cost2_mean": -158.2548705211323}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.66460561752319, "episode_reward_max": 864.4635364876226, "episodes_this_iter": 45, "hostname": "flow-main", "episode_reward_mean": 752.2374745070109, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9be10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9b748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9b160>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 51.666622337899895, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 121613, "pid": 33404, "iterations_since_restore": 22, "done": false, "info": {"update_time_ms": 11.145, "default": {"entropy": 1.23090398311615, "vf_explained_var": 0.7993119955062866, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0004931961302645504, "cur_lr": 0.0005000000237487257, "total_loss": 12.982353210449219, "kl": 0.005637657828629017, "vf_loss": 12.982705116271973}, "num_steps_sampled": 2614688, "load_time_ms": 8.845, "num_steps_trained": 2614688, "sample_time_ms": 14709.15, "grad_time_ms": 23228.225}, "timesteps_total": 2614688, "training_iteration": 22, "date": "2019-04-28_00-29-38", "episodes_total": 1100, "timestamp": 1556411378, "time_total_s": 882.1174483299255, "episode_len_mean": 693.37, "timesteps_since_restore": 2614688, "time_since_restore": 882.1174483299255, "custom_metrics": {"cost2_max": -20.939927069084085, "system_level_velocity_mean": 11.924152539666714, "outflow_rate_mean": 1045.271943999201, "cost1_min": 24.005099411570928, "outflow_rate_min": 494.38181336260607, "cost1_mean": 314.1757989915738, "cost1_max": 358.53281075763334, "cost2_min": -189.33935980964463, "system_level_velocity_max": 18.221034252079974, "outflow_rate_max": 1131.9516595880732, "system_level_velocity_min": 9.8586110725496, "cost2_mean": -162.1541078014481}}
{"policy_reward_mean": {}, "time_this_iter_s": 39.69138765335083, "episode_reward_max": 878.3927925449075, "episodes_this_iter": 49, "hostname": "flow-main", "episode_reward_mean": 739.263410880515, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bd30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b5c0>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 36.394318359323734, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 121258, "pid": 33404, "iterations_since_restore": 23, "done": false, "info": {"update_time_ms": 11.475, "default": {"entropy": 1.2392609119415283, "vf_explained_var": 0.812852144241333, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0008056830847635865, "cur_lr": 0.0005000000237487257, "total_loss": 13.176490783691406, "kl": 0.007025510538369417, "vf_loss": 13.17712116241455}, "num_steps_sampled": 2735946, "load_time_ms": 8.779, "num_steps_trained": 2735946, "sample_time_ms": 14702.534, "grad_time_ms": 23394.732}, "timesteps_total": 2735946, "training_iteration": 23, "date": "2019-04-28_00-30-18", "episodes_total": 1149, "timestamp": 1556411418, "time_total_s": 921.8088359832764, "episode_len_mean": 693.27, "timesteps_since_restore": 2735946, "time_since_restore": 921.8088359832764, "custom_metrics": {"cost2_max": -17.380648427506618, "system_level_velocity_mean": 11.841403422516537, "outflow_rate_mean": 1044.979542199314, "cost1_min": 17.45171967464116, "outflow_rate_min": 487.8590816741719, "cost1_mean": 311.8070482465516, "cost1_max": 364.5820788842781, "cost2_min": -198.48164661892747, "system_level_velocity_max": 17.165234310166554, "outflow_rate_max": 1160.2910595715111, "system_level_velocity_min": 9.996578384557493, "cost2_mean": -165.89695436762048}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.968228340148926, "episode_reward_max": 889.6966513719522, "episodes_this_iter": 49, "hostname": "flow-main", "episode_reward_mean": 739.0849009892532, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9be10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9b4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9b748>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 36.394318359323734, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 122460, "pid": 33404, "iterations_since_restore": 24, "done": false, "info": {"update_time_ms": 11.413, "default": {"entropy": 1.230476975440979, "vf_explained_var": 0.8332652449607849, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0010500825010240078, "cur_lr": 0.0005000000237487257, "total_loss": 12.553016662597656, "kl": 0.007712397258728743, "vf_loss": 12.553873062133789}, "num_steps_sampled": 2858406, "load_time_ms": 8.243, "num_steps_trained": 2858406, "sample_time_ms": 14666.002, "grad_time_ms": 23391.417}, "timesteps_total": 2858406, "training_iteration": 24, "date": "2019-04-28_00-30-56", "episodes_total": 1198, "timestamp": 1556411456, "time_total_s": 959.7770643234253, "episode_len_mean": 693.27, "timesteps_since_restore": 2858406, "time_since_restore": 959.7770643234253, "custom_metrics": {"cost2_max": -17.380648427506618, "system_level_velocity_mean": 11.903867220260567, "outflow_rate_mean": 1049.927432101202, "cost1_min": 17.45171967464116, "outflow_rate_min": 487.8590816741719, "cost1_mean": 313.1674437021093, "cost1_max": 374.6812436056882, "cost2_min": -198.48164661892747, "system_level_velocity_max": 17.165234310166554, "outflow_rate_max": 1164.607892526763, "system_level_velocity_min": 9.64836713257429, "cost2_mean": -166.5123418874496}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.765454053878784, "episode_reward_max": 889.6966513719522, "episodes_this_iter": 52, "hostname": "flow-main", "episode_reward_mean": 742.9822370343605, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b9e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b940>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 649.2287934377581, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 121067, "pid": 33404, "iterations_since_restore": 25, "done": false, "info": {"update_time_ms": 11.528, "default": {"entropy": 1.2255100011825562, "vf_explained_var": 0.8203778266906738, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0004787780635524541, "cur_lr": 0.0005000000237487257, "total_loss": 14.150559425354004, "kl": 0.006447247229516506, "vf_loss": 14.15087604522705}, "num_steps_sampled": 2979473, "load_time_ms": 8.156, "num_steps_trained": 2979473, "sample_time_ms": 14594.35, "grad_time_ms": 23132.996}, "timesteps_total": 2979473, "training_iteration": 25, "date": "2019-04-28_00-31-34", "episodes_total": 1250, "timestamp": 1556411494, "time_total_s": 997.5425183773041, "episode_len_mean": 700.0, "timesteps_since_restore": 2979473, "time_since_restore": 997.5425183773041, "custom_metrics": {"cost2_max": -135.82984915859265, "system_level_velocity_mean": 11.895859604774499, "outflow_rate_mean": 1055.1169989319972, "cost1_min": 258.21168014984994, "outflow_rate_min": 901.8784966406632, "cost1_mean": 316.8415791197945, "cost1_max": 374.6812436056882, "cost2_min": -197.625858114586, "system_level_velocity_max": 14.210839378197504, "outflow_rate_max": 1164.607892526763, "system_level_velocity_min": 9.64836713257429, "cost2_mean": -168.78665383667604}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.09949231147766, "episode_reward_max": 885.0011533685173, "episodes_this_iter": 56, "hostname": "flow-main", "episode_reward_mean": 739.0937733362857, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863accd68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863acc160>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 646.9413950147607, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 121854, "pid": 33404, "iterations_since_restore": 26, "done": false, "info": {"update_time_ms": 11.702, "default": {"entropy": 1.218603491783142, "vf_explained_var": 0.8219202756881714, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0005851458990946412, "cur_lr": 0.0005000000237487257, "total_loss": 14.780595779418945, "kl": 0.006541210226714611, "vf_loss": 14.781017303466797}, "num_steps_sampled": 3101327, "load_time_ms": 8.191, "num_steps_trained": 3101327, "sample_time_ms": 14605.19, "grad_time_ms": 23097.818}, "timesteps_total": 3101327, "training_iteration": 26, "date": "2019-04-28_00-32-11", "episodes_total": 1306, "timestamp": 1556411531, "time_total_s": 1034.6420106887817, "episode_len_mean": 700.0, "timesteps_since_restore": 3101327, "time_since_restore": 1034.6420106887817, "custom_metrics": {"cost2_max": -145.00173272942877, "system_level_velocity_mean": 11.934764090950393, "outflow_rate_mean": 1059.6605597999794, "cost1_min": 263.5743658031772, "outflow_rate_min": 936.3780837790791, "cost1_mean": 317.4004124534992, "cost1_max": 368.34092720396563, "cost2_min": -201.49390098062796, "system_level_velocity_max": 13.954706874448215, "outflow_rate_max": 1164.8150291794987, "system_level_velocity_min": 9.892449948835212, "cost2_mean": -168.65302419678494}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.74159789085388, "episode_reward_max": 902.4119439679022, "episodes_this_iter": 37, "hostname": "flow-main", "episode_reward_mean": 743.7821381217354, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a670b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67048>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 646.9413950147607, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 122678, "pid": 33404, "iterations_since_restore": 27, "done": false, "info": {"update_time_ms": 11.763, "default": {"entropy": 1.2082539796829224, "vf_explained_var": 0.842018187046051, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.001676337094977498, "cur_lr": 0.0005000000237487257, "total_loss": 12.666735649108887, "kl": 0.008683817461133003, "vf_loss": 12.668194770812988}, "num_steps_sampled": 3224005, "load_time_ms": 8.39, "num_steps_trained": 3224005, "sample_time_ms": 14523.473, "grad_time_ms": 23059.897}, "timesteps_total": 3224005, "training_iteration": 27, "date": "2019-04-28_00-32-49", "episodes_total": 1343, "timestamp": 1556411569, "time_total_s": 1072.3836085796356, "episode_len_mean": 700.0, "timesteps_since_restore": 3224005, "time_since_restore": 1072.3836085796356, "custom_metrics": {"cost2_max": -146.30882175746044, "system_level_velocity_mean": 12.050311740794907, "outflow_rate_mean": 1069.6562543632504, "cost1_min": 269.2273866724988, "outflow_rate_min": 955.131407817017, "cost1_mean": 320.42235036696746, "cost1_max": 373.6747828750172, "cost2_min": -201.49390098062796, "system_level_velocity_max": 14.14547401214108, "outflow_rate_max": 1181.464755748358, "system_level_velocity_min": 10.137283579644864, "cost2_mean": -168.8644166914831}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.214874267578125, "episode_reward_max": 902.4119439679022, "episodes_this_iter": 54, "hostname": "flow-main", "episode_reward_mean": 745.3564735513397, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9b438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b358>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 663.616854880541, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 121282, "pid": 33404, "iterations_since_restore": 28, "done": false, "info": {"update_time_ms": 11.759, "default": {"entropy": 1.201939582824707, "vf_explained_var": 0.8159872889518738, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0007908623665571213, "cur_lr": 0.0005000000237487257, "total_loss": 16.41659927368164, "kl": 0.0062720500864088535, "vf_loss": 16.417234420776367}, "num_steps_sampled": 3345287, "load_time_ms": 8.225, "num_steps_trained": 3345287, "sample_time_ms": 14533.714, "grad_time_ms": 23026.272}, "timesteps_total": 3345287, "training_iteration": 28, "date": "2019-04-28_00-33-26", "episodes_total": 1397, "timestamp": 1556411606, "time_total_s": 1109.5984828472137, "episode_len_mean": 700.0, "timesteps_since_restore": 3345287, "time_since_restore": 1109.5984828472137, "custom_metrics": {"cost2_max": -147.8872464541973, "system_level_velocity_mean": 12.002269661492406, "outflow_rate_mean": 1072.3605705777568, "cost1_min": 272.8627508354757, "outflow_rate_min": 977.578564511724, "cost1_mean": 319.3037936372586, "cost1_max": 373.6747828750172, "cost2_min": -202.85961820623342, "system_level_velocity_max": 14.14547401214108, "outflow_rate_max": 1181.464755748358, "system_level_velocity_min": 10.206424396078718, "cost2_mean": -172.5460564874606}}
{"policy_reward_mean": {}, "time_this_iter_s": 39.582557678222656, "episode_reward_max": 913.3394294140643, "episodes_this_iter": 53, "hostname": "flow-main", "episode_reward_mean": 745.6004456935948, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67208>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 39.316184054479315, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 121592, "pid": 33404, "iterations_since_restore": 29, "done": false, "info": {"update_time_ms": 11.705, "default": {"entropy": 1.1979962587356567, "vf_explained_var": 0.7965315580368042, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0006388362962752581, "cur_lr": 0.0005000000237487257, "total_loss": 18.784488677978516, "kl": 0.007475025020539761, "vf_loss": 18.784942626953125}, "num_steps_sampled": 3466879, "load_time_ms": 9.724, "num_steps_trained": 3466879, "sample_time_ms": 14582.04, "grad_time_ms": 23057.923}, "timesteps_total": 3466879, "training_iteration": 29, "date": "2019-04-28_00-34-06", "episodes_total": 1450, "timestamp": 1556411646, "time_total_s": 1149.1810405254364, "episode_len_mean": 693.27, "timesteps_since_restore": 3466879, "time_since_restore": 1149.1810405254364, "custom_metrics": {"cost2_max": -16.382687323337635, "system_level_velocity_mean": 12.126621319954587, "outflow_rate_mean": 1073.298102279049, "cost1_min": 17.508966235565527, "outflow_rate_min": 477.24354782665716, "cost1_mean": 318.55741409717643, "cost1_max": 369.07743401007644, "cost2_min": -202.85961820623342, "system_level_velocity_max": 16.8708675671779, "outflow_rate_max": 1187.5287267223214, "system_level_velocity_min": 10.002533279343178, "cost2_mean": -175.0131245360935}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.81331253051758, "episode_reward_max": 913.3394294140643, "episodes_this_iter": 49, "hostname": "flow-main", "episode_reward_mean": 753.0926879380377, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bfd0>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 39.316184054479315, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 122351, "pid": 33404, "iterations_since_restore": 30, "done": false, "info": {"update_time_ms": 11.559, "default": {"entropy": 1.2003393173217773, "vf_explained_var": 0.8118515610694885, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0010452974820509553, "cur_lr": 0.0005000000237487257, "total_loss": 17.499792098999023, "kl": 0.008099399507045746, "vf_loss": 17.500635147094727}, "num_steps_sampled": 3589230, "load_time_ms": 10.261, "num_steps_trained": 3589230, "sample_time_ms": 14623.748, "grad_time_ms": 23239.278}, "timesteps_total": 3589230, "training_iteration": 30, "date": "2019-04-28_00-34-43", "episodes_total": 1499, "timestamp": 1556411683, "time_total_s": 1186.994353055954, "episode_len_mean": 693.27, "timesteps_since_restore": 3589230, "time_since_restore": 1186.994353055954, "custom_metrics": {"cost2_max": -16.382687323337635, "system_level_velocity_mean": 12.27345831186593, "outflow_rate_mean": 1085.2818956965177, "cost1_min": 17.508966235565527, "outflow_rate_min": 477.24354782665716, "cost1_mean": 322.6121010636058, "cost1_max": 375.03693898988206, "cost2_min": -203.34800574199437, "system_level_velocity_max": 16.8708675671779, "outflow_rate_max": 1196.0106810553173, "system_level_velocity_min": 10.002533279343178, "cost2_mean": -178.47828592245955}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.446099042892456, "episode_reward_max": 907.679792218172, "episodes_this_iter": 51, "hostname": "flow-main", "episode_reward_mean": 748.2988543546323, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a670f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67048>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 651.8692007478276, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 122297, "pid": 33404, "iterations_since_restore": 31, "done": false, "info": {"update_time_ms": 11.743, "default": {"entropy": 1.199183464050293, "vf_explained_var": 0.801612377166748, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0005979996640235186, "cur_lr": 0.0005000000237487257, "total_loss": 17.8543643951416, "kl": 0.007601652294397354, "vf_loss": 17.854772567749023}, "num_steps_sampled": 3711527, "load_time_ms": 10.466, "num_steps_trained": 3711527, "sample_time_ms": 14612.586, "grad_time_ms": 23148.099}, "timesteps_total": 3711527, "training_iteration": 31, "date": "2019-04-28_00-35-21", "episodes_total": 1550, "timestamp": 1556411721, "time_total_s": 1224.4404520988464, "episode_len_mean": 700.0, "timesteps_since_restore": 3711527, "time_since_restore": 1224.4404520988464, "custom_metrics": {"cost2_max": -155.56394179640535, "system_level_velocity_mean": 12.08509618661733, "outflow_rate_mean": 1085.3814311942483, "cost1_min": 262.2666863255722, "outflow_rate_min": 942.576860714814, "cost1_mean": 322.10556224499095, "cost1_max": 375.03693898988206, "cost2_min": -211.36398984244846, "system_level_velocity_max": 14.138857189629382, "outflow_rate_max": 1196.0106810553173, "system_level_velocity_min": 9.877875820899215, "cost2_mean": -182.90854344299748}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.19852423667908, "episode_reward_max": 896.3669955467304, "episodes_this_iter": 43, "hostname": "flow-main", "episode_reward_mean": 743.8044628743629, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad72b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7278>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 625.1410487110015, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 122769, "pid": 33404, "iterations_since_restore": 32, "done": false, "info": {"update_time_ms": 11.733, "default": {"entropy": 1.1904724836349487, "vf_explained_var": 0.827976405620575, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0007941240328364074, "cur_lr": 0.0005000000237487257, "total_loss": 16.60138702392578, "kl": 0.008892787620425224, "vf_loss": 16.601959228515625}, "num_steps_sampled": 3834296, "load_time_ms": 11.354, "num_steps_trained": 3834296, "sample_time_ms": 14646.887, "grad_time_ms": 23162.909}, "timesteps_total": 3834296, "training_iteration": 32, "date": "2019-04-28_00-35-59", "episodes_total": 1593, "timestamp": 1556411759, "time_total_s": 1262.6389763355255, "episode_len_mean": 700.0, "timesteps_since_restore": 3834296, "time_since_restore": 1262.6389763355255, "custom_metrics": {"cost2_max": -164.831715336236, "system_level_velocity_mean": 11.983510744784619, "outflow_rate_mean": 1079.5078664107048, "cost1_min": 262.2666863255722, "outflow_rate_min": 942.576860714814, "cost1_mean": 319.5400660900859, "cost1_max": 369.9574021657636, "cost2_min": -211.36398984244846, "system_level_velocity_max": 13.9340932015238, "outflow_rate_max": 1191.4597362016816, "system_level_velocity_min": 9.86755306225806, "cost2_mean": -182.8727044005752}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.552263498306274, "episode_reward_max": 896.3669955467304, "episodes_this_iter": 56, "hostname": "flow-main", "episode_reward_mean": 746.5923741675329, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a674a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a671d0>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 625.1410487110015, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 123749, "pid": 33404, "iterations_since_restore": 33, "done": false, "info": {"update_time_ms": 11.49, "default": {"entropy": 1.1953003406524658, "vf_explained_var": 0.7833889722824097, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0009706615237519145, "cur_lr": 0.0005000000237487257, "total_loss": 20.181344985961914, "kl": 0.006792115047574043, "vf_loss": 20.182147979736328}, "num_steps_sampled": 3958045, "load_time_ms": 12.488, "num_steps_trained": 3958045, "sample_time_ms": 14623.435, "grad_time_ms": 23070.228}, "timesteps_total": 3958045, "training_iteration": 33, "date": "2019-04-28_00-36-38", "episodes_total": 1649, "timestamp": 1556411798, "time_total_s": 1301.1912398338318, "episode_len_mean": 700.0, "timesteps_since_restore": 3958045, "time_since_restore": 1301.1912398338318, "custom_metrics": {"cost2_max": -158.95369763332968, "system_level_velocity_mean": 11.993158717941379, "outflow_rate_mean": 1078.4310470658263, "cost1_min": 254.11243494588888, "outflow_rate_min": 948.4226399463081, "cost1_mean": 319.590408843886, "cost1_max": 367.5243074288279, "cost2_min": -206.55094804474447, "system_level_velocity_max": 13.846979658245894, "outflow_rate_max": 1187.2386624863493, "system_level_velocity_min": 9.578716125535752, "cost2_mean": -180.75159294802725}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.668779373168945, "episode_reward_max": 890.9101573475778, "episodes_this_iter": 43, "hostname": "flow-main", "episode_reward_mean": 743.667597663818, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b198>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 626.7034330401233, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 123339, "pid": 33404, "iterations_since_restore": 34, "done": false, "info": {"update_time_ms": 11.522, "default": {"entropy": 1.1875243186950684, "vf_explained_var": 0.8175308108329773, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0002864072739612311, "cur_lr": 0.0005000000237487257, "total_loss": 17.51177215576172, "kl": 0.007539089769124985, "vf_loss": 17.511871337890625}, "num_steps_sampled": 4081384, "load_time_ms": 13.347, "num_steps_trained": 4081384, "sample_time_ms": 14633.148, "grad_time_ms": 23124.923}, "timesteps_total": 4081384, "training_iteration": 34, "date": "2019-04-28_00-37-16", "episodes_total": 1692, "timestamp": 1556411836, "time_total_s": 1339.8600192070007, "episode_len_mean": 700.0, "timesteps_since_restore": 4081384, "time_since_restore": 1339.8600192070007, "custom_metrics": {"cost2_max": -158.95369763332968, "system_level_velocity_mean": 12.018066413555287, "outflow_rate_mean": 1080.477745939165, "cost1_min": 254.11243494588888, "outflow_rate_min": 938.8110986227149, "cost1_mean": 320.24976687482996, "cost1_max": 365.06750463963556, "cost2_min": -200.39828091951642, "system_level_velocity_max": 13.733444633925968, "outflow_rate_max": 1179.3017210549565, "system_level_velocity_min": 9.578716125535752, "cost2_mean": -181.71779604962367}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.53705096244812, "episode_reward_max": 877.6714959990517, "episodes_this_iter": 51, "hostname": "flow-main", "episode_reward_mean": 749.8165957576973, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67240>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 655.3837107425423, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 121534, "pid": 33404, "iterations_since_restore": 35, "done": false, "info": {"update_time_ms": 11.489, "default": {"entropy": 1.182317852973938, "vf_explained_var": 0.7926518321037292, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0006521691684611142, "cur_lr": 0.0005000000237487257, "total_loss": 20.35589599609375, "kl": 0.008379931561648846, "vf_loss": 20.35633659362793}, "num_steps_sampled": 4202918, "load_time_ms": 13.291, "num_steps_trained": 4202918, "sample_time_ms": 14627.273, "grad_time_ms": 23207.346}, "timesteps_total": 4202918, "training_iteration": 35, "date": "2019-04-28_00-37-55", "episodes_total": 1743, "timestamp": 1556411875, "time_total_s": 1378.3970701694489, "episode_len_mean": 700.0, "timesteps_since_restore": 4202918, "time_since_restore": 1378.3970701694489, "custom_metrics": {"cost2_max": -162.12525163321038, "system_level_velocity_mean": 12.104581410908516, "outflow_rate_mean": 1087.1744858438344, "cost1_min": 267.4465427996197, "outflow_rate_min": 938.8110986227149, "cost1_mean": 322.7362346274006, "cost1_max": 367.15281788071513, "cost2_min": -205.51277590461132, "system_level_velocity_max": 13.811916768781009, "outflow_rate_max": 1188.3946272338997, "system_level_velocity_min": 10.209689262637037, "cost2_mean": -183.4383981784387}}
{"policy_reward_mean": {}, "time_this_iter_s": 39.877031326293945, "episode_reward_max": 888.5235922715306, "episodes_this_iter": 57, "hostname": "flow-main", "episode_reward_mean": 753.9416457033075, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b3c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b358>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 672.8193800493468, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 121605, "pid": 33404, "iterations_since_restore": 36, "done": false, "info": {"update_time_ms": 11.507, "default": {"entropy": 1.183396339416504, "vf_explained_var": 0.7809537053108215, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0008688652305863798, "cur_lr": 0.0005000000237487257, "total_loss": 19.836957931518555, "kl": 0.007334619760513306, "vf_loss": 19.83763885498047}, "num_steps_sampled": 4324523, "load_time_ms": 13.199, "num_steps_trained": 4324523, "sample_time_ms": 14617.063, "grad_time_ms": 23492.873}, "timesteps_total": 4324523, "training_iteration": 36, "date": "2019-04-28_00-38-35", "episodes_total": 1800, "timestamp": 1556411915, "time_total_s": 1418.2741014957428, "episode_len_mean": 700.0, "timesteps_since_restore": 4324523, "time_since_restore": 1418.2741014957428, "custom_metrics": {"cost2_max": -161.54504745506574, "system_level_velocity_mean": 12.103691290008285, "outflow_rate_mean": 1088.5810739085105, "cost1_min": 259.3674284608916, "outflow_rate_min": 937.3053710201381, "cost1_mean": 322.86691841932384, "cost1_max": 367.15281788071513, "cost2_min": -209.42399741417273, "system_level_velocity_max": 13.811916768781009, "outflow_rate_max": 1188.3946272338997, "system_level_velocity_min": 9.692448932254475, "cost2_mean": -184.2965868781344}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.29897880554199, "episode_reward_max": 888.5235922715306, "episodes_this_iter": 44, "hostname": "flow-main", "episode_reward_mean": 738.5656350909835, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67198>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 37.17998915416879, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 121865, "pid": 33404, "iterations_since_restore": 37, "done": false, "info": {"update_time_ms": 11.722, "default": {"entropy": 1.1670726537704468, "vf_explained_var": 0.8086618185043335, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0008828717400319874, "cur_lr": 0.0005000000237487257, "total_loss": 18.421842575073242, "kl": 0.00923221092671156, "vf_loss": 18.422496795654297}, "num_steps_sampled": 4446388, "load_time_ms": 13.769, "num_steps_trained": 4446388, "sample_time_ms": 14714.547, "grad_time_ms": 23449.376}, "timesteps_total": 4446388, "training_iteration": 37, "date": "2019-04-28_00-39-13", "episodes_total": 1844, "timestamp": 1556411953, "time_total_s": 1456.5730803012848, "episode_len_mean": 693.27, "timesteps_since_restore": 4446388, "time_since_restore": 1456.5730803012848, "custom_metrics": {"cost2_max": -17.79845222993825, "system_level_velocity_mean": 12.040410841384944, "outflow_rate_mean": 1073.962214580914, "cost1_min": 17.820608433292193, "outflow_rate_min": 487.8590816741719, "cost1_mean": 316.59176534302054, "cost1_max": 370.43139863746734, "cost2_min": -209.42399741417273, "system_level_velocity_max": 17.64724141393822, "outflow_rate_max": 1196.3593175020778, "system_level_velocity_min": 9.692448932254475, "cost2_mean": -182.01237333766647}}
{"policy_reward_mean": {}, "time_this_iter_s": 40.28277039527893, "episode_reward_max": 913.3027033574349, "episodes_this_iter": 49, "hostname": "flow-main", "episode_reward_mean": 734.1990933437928, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b3c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bf28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b7b8>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 37.17998915416879, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 122064, "pid": 33404, "iterations_since_restore": 38, "done": false, "info": {"update_time_ms": 11.785, "default": {"entropy": 1.1622906923294067, "vf_explained_var": 0.7675343155860901, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0006312729674391448, "cur_lr": 0.0005000000237487257, "total_loss": 22.968360900878906, "kl": 0.007448072545230389, "vf_loss": 22.968807220458984}, "num_steps_sampled": 4568452, "load_time_ms": 13.509, "num_steps_trained": 4568452, "sample_time_ms": 14789.044, "grad_time_ms": 23683.042}, "timesteps_total": 4568452, "training_iteration": 38, "date": "2019-04-28_00-39-53", "episodes_total": 1893, "timestamp": 1556411993, "time_total_s": 1496.8558506965637, "episode_len_mean": 693.27, "timesteps_since_restore": 4568452, "time_since_restore": 1496.8558506965637, "custom_metrics": {"cost2_max": -17.79845222993825, "system_level_velocity_mean": 12.041044828525513, "outflow_rate_mean": 1072.1777048105582, "cost1_min": 17.820608433292193, "outflow_rate_min": 487.8590816741719, "cost1_mean": 316.13156640906533, "cost1_max": 379.4845244597594, "cost2_min": -209.42399741417273, "system_level_velocity_max": 17.64724141393822, "outflow_rate_max": 1207.8915132448103, "system_level_velocity_min": 9.129422042812125, "cost2_mean": -182.05859894560928}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.481844425201416, "episode_reward_max": 913.3027033574349, "episodes_this_iter": 46, "hostname": "flow-main", "episode_reward_mean": 744.914476094849, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a674a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a670b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67f98>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 639.5971922987447, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 121949, "pid": 33404, "iterations_since_restore": 39, "done": false, "info": {"update_time_ms": 11.792, "default": {"entropy": 1.1555776596069336, "vf_explained_var": 0.7787602543830872, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0006127371452748775, "cur_lr": 0.0005000000237487257, "total_loss": 23.29527473449707, "kl": 0.008677712641656399, "vf_loss": 23.295669555664062}, "num_steps_sampled": 4690401, "load_time_ms": 12.049, "num_steps_trained": 4690401, "sample_time_ms": 14720.396, "grad_time_ms": 23538.521}, "timesteps_total": 4690401, "training_iteration": 39, "date": "2019-04-28_00-40-31", "episodes_total": 1939, "timestamp": 1556412031, "time_total_s": 1534.3376951217651, "episode_len_mean": 700.0, "timesteps_since_restore": 4690401, "time_since_restore": 1534.3376951217651, "custom_metrics": {"cost2_max": -158.18790197068398, "system_level_velocity_mean": 12.199990972100512, "outflow_rate_mean": 1088.2044546252416, "cost1_min": 240.61378216044483, "outflow_rate_min": 916.0834682654476, "cost1_mean": 323.64026090127425, "cost1_max": 390.8179226151301, "cost2_min": -206.12951759074218, "system_level_velocity_max": 14.663027007847527, "outflow_rate_max": 1232.0160283651928, "system_level_velocity_min": 9.129422042812125, "cost2_mean": -182.15807575950095}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.212352991104126, "episode_reward_max": 918.2340665067167, "episodes_this_iter": 55, "hostname": "flow-main", "episode_reward_mean": 745.0315877402472, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad72b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad71d0>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 639.5971922987447, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 121809, "pid": 33404, "iterations_since_restore": 40, "done": false, "info": {"update_time_ms": 11.929, "default": {"entropy": 1.1581648588180542, "vf_explained_var": 0.7674758434295654, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.001013047993183136, "cur_lr": 0.0005000000237487257, "total_loss": 24.55830955505371, "kl": 0.007937903515994549, "vf_loss": 24.559123992919922}, "num_steps_sampled": 4812210, "load_time_ms": 12.098, "num_steps_trained": 4812210, "sample_time_ms": 14757.453, "grad_time_ms": 23542.719}, "timesteps_total": 4812210, "training_iteration": 40, "date": "2019-04-28_00-41-09", "episodes_total": 1994, "timestamp": 1556412069, "time_total_s": 1572.5500481128693, "episode_len_mean": 700.0, "timesteps_since_restore": 4812210, "time_since_restore": 1572.5500481128693, "custom_metrics": {"cost2_max": -158.69697689047433, "system_level_velocity_mean": 12.360246784728629, "outflow_rate_mean": 1093.3780949976908, "cost1_min": 261.0945333198139, "outflow_rate_min": 939.0491245085983, "cost1_mean": 326.9358500586485, "cost1_max": 394.43555155645333, "cost2_min": -203.90181708521516, "system_level_velocity_max": 14.768708757322228, "outflow_rate_max": 1236.8702963354751, "system_level_velocity_min": 9.986774399538644, "cost2_mean": -180.98774595571217}}
{"policy_reward_mean": {}, "time_this_iter_s": 40.062734842300415, "episode_reward_max": 918.2340665067167, "episodes_this_iter": 53, "hostname": "flow-main", "episode_reward_mean": 734.6965995058819, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a671d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a676d8>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 51.35004721398755, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 120946, "pid": 33404, "iterations_since_restore": 41, "done": false, "info": {"update_time_ms": 11.799, "default": {"entropy": 1.142045497894287, "vf_explained_var": 0.7550846934318542, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0002635858254507184, "cur_lr": 0.0005000000237487257, "total_loss": 26.282846450805664, "kl": 0.007798157166689634, "vf_loss": 26.282917022705078}, "num_steps_sampled": 4933156, "load_time_ms": 12.881, "num_steps_trained": 4933156, "sample_time_ms": 14811.373, "grad_time_ms": 23746.194}, "timesteps_total": 4933156, "training_iteration": 41, "date": "2019-04-28_00-41-49", "episodes_total": 2047, "timestamp": 1556412109, "time_total_s": 1612.6127829551697, "episode_len_mean": 693.37, "timesteps_since_restore": 4933156, "time_since_restore": 1612.6127829551697, "custom_metrics": {"cost2_max": -25.047367373396074, "system_level_velocity_mean": 12.43785866360765, "outflow_rate_mean": 1086.6254274617831, "cost1_min": 24.301537476980368, "outflow_rate_min": 473.39540362267456, "cost1_mean": 323.9898505465467, "cost1_max": 394.43555155645333, "cost2_min": -206.6325604112832, "system_level_velocity_max": 18.369015678543665, "outflow_rate_max": 1236.8702963354751, "system_level_velocity_min": 9.986774399538644, "cost2_mean": -178.63949256344597}}
{"policy_reward_mean": {}, "time_this_iter_s": 36.757359981536865, "episode_reward_max": 823.7289484706001, "episodes_this_iter": 47, "hostname": "flow-main", "episode_reward_mean": 723.1505680597478, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad71d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad72b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863ad7588>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 48.51966157183711, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 119291, "pid": 33404, "iterations_since_restore": 42, "done": false, "info": {"update_time_ms": 11.895, "default": {"entropy": 1.1359813213348389, "vf_explained_var": 0.7695140838623047, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.001197544508613646, "cur_lr": 0.0005000000237487257, "total_loss": 24.320396423339844, "kl": 0.008478567935526371, "vf_loss": 24.321382522583008}, "num_steps_sampled": 5052447, "load_time_ms": 12.883, "num_steps_trained": 5052447, "sample_time_ms": 14751.555, "grad_time_ms": 23666.363}, "timesteps_total": 5052447, "training_iteration": 42, "date": "2019-04-28_00-42-26", "episodes_total": 2094, "timestamp": 1556412146, "time_total_s": 1649.3701429367065, "episode_len_mean": 686.72, "timesteps_since_restore": 5052447, "time_since_restore": 1649.3701429367065, "custom_metrics": {"cost2_max": -24.006906010312914, "system_level_velocity_mean": 12.503337447779764, "outflow_rate_mean": 1077.9659578366775, "cost1_min": 22.79201229995711, "outflow_rate_min": 465.10626898076305, "cost1_mean": 320.4970414712237, "cost1_max": 378.97286355343994, "cost2_min": -206.6325604112832, "system_level_velocity_max": 18.369015678543665, "outflow_rate_max": 1208.7973973349895, "system_level_velocity_min": 10.041914723244188, "cost2_mean": -174.80305345938956}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.575849294662476, "episode_reward_max": 813.1511770466706, "episodes_this_iter": 54, "hostname": "flow-main", "episode_reward_mean": 725.3882401665003, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a670f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67278>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 48.51966157183711, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 119774, "pid": 33404, "iterations_since_restore": 43, "done": false, "info": {"update_time_ms": 11.839, "default": {"entropy": 1.1318506002426147, "vf_explained_var": 0.7372549176216125, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0008223059121519327, "cur_lr": 0.0005000000237487257, "total_loss": 28.791053771972656, "kl": 0.008215322159230709, "vf_loss": 28.791669845581055}, "num_steps_sampled": 5172221, "load_time_ms": 12.259, "num_steps_trained": 5172221, "sample_time_ms": 14705.696, "grad_time_ms": 23615.975}, "timesteps_total": 5172221, "training_iteration": 43, "date": "2019-04-28_00-43-04", "episodes_total": 2148, "timestamp": 1556412184, "time_total_s": 1686.945992231369, "episode_len_mean": 693.35, "timesteps_since_restore": 5172221, "time_since_restore": 1686.945992231369, "custom_metrics": {"cost2_max": -24.006906010312914, "system_level_velocity_mean": 12.45325793745653, "outflow_rate_mean": 1080.5609947388825, "cost1_min": 22.79201229995711, "outflow_rate_min": 465.10626898076305, "cost1_mean": 322.79069341448456, "cost1_max": 379.5952251423618, "cost2_min": -209.89119579195594, "system_level_velocity_max": 18.206278293837887, "outflow_rate_max": 1203.3422470797825, "system_level_velocity_min": 10.170145536641654, "cost2_mean": -176.17935629795286}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.69542384147644, "episode_reward_max": 859.831099423274, "episodes_this_iter": 44, "hostname": "flow-main", "episode_reward_mean": 738.0435891940078, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bf60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5bc50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a5b710>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 616.5656332253129, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 119029, "pid": 33404, "iterations_since_restore": 44, "done": false, "info": {"update_time_ms": 11.805, "default": {"entropy": 1.1225415468215942, "vf_explained_var": 0.7443663477897644, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0006860934663563967, "cur_lr": 0.0005000000237487257, "total_loss": 27.83661460876465, "kl": 0.008320184424519539, "vf_loss": 27.837093353271484}, "num_steps_sampled": 5291250, "load_time_ms": 12.898, "num_steps_trained": 5291250, "sample_time_ms": 14660.64, "grad_time_ms": 23567.848}, "timesteps_total": 5291250, "training_iteration": 44, "date": "2019-04-28_00-43-41", "episodes_total": 2192, "timestamp": 1556412221, "time_total_s": 1724.6414160728455, "episode_len_mean": 700.0, "timesteps_since_restore": 5291250, "time_since_restore": 1724.6414160728455, "custom_metrics": {"cost2_max": -156.40902556846592, "system_level_velocity_mean": 12.538453341319657, "outflow_rate_mean": 1092.9737288956892, "cost1_min": 259.4953742735939, "outflow_rate_min": 940.0312719061214, "cost1_mean": 328.27019561332514, "cost1_max": 399.3732812717828, "cost2_min": -209.89119579195594, "system_level_velocity_max": 14.946582569500825, "outflow_rate_max": 1250.8123055825997, "system_level_velocity_min": 10.20517408052621, "cost2_mean": -177.3222909580171}}
{"policy_reward_mean": {}, "time_this_iter_s": 38.673019886016846, "episode_reward_max": 859.831099423274, "episodes_this_iter": 51, "hostname": "flow-main", "episode_reward_mean": 737.6078811324929, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a672b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67f98>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 612.0215370601791, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 120663, "pid": 33404, "iterations_since_restore": 45, "done": false, "info": {"update_time_ms": 11.803, "default": {"entropy": 1.1152211427688599, "vf_explained_var": 0.7508689165115356, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0010739982826635242, "cur_lr": 0.0005000000237487257, "total_loss": 29.913820266723633, "kl": 0.008564307354390621, "vf_loss": 29.91468048095703}, "num_steps_sampled": 5411913, "load_time_ms": 14.45, "num_steps_trained": 5411913, "sample_time_ms": 14674.524, "grad_time_ms": 23563.733}, "timesteps_total": 5411913, "training_iteration": 45, "date": "2019-04-28_00-44-20", "episodes_total": 2243, "timestamp": 1556412260, "time_total_s": 1763.3144359588623, "episode_len_mean": 700.0, "timesteps_since_restore": 5411913, "time_since_restore": 1763.3144359588623, "custom_metrics": {"cost2_max": -150.98920412791088, "system_level_velocity_mean": 12.611521682856548, "outflow_rate_mean": 1095.5752096804715, "cost1_min": 259.4953742735939, "outflow_rate_min": 936.68352277465, "cost1_mean": 328.80618747760184, "cost1_max": 399.3732812717828, "cost2_min": -205.06345698091513, "system_level_velocity_max": 15.038111289211793, "outflow_rate_max": 1250.8123055825997, "system_level_velocity_min": 10.172914844412562, "cost2_mean": -174.8588272034285}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.18315529823303, "episode_reward_max": 881.6149635619681, "episodes_this_iter": 51, "hostname": "flow-main", "episode_reward_mean": 742.8410968355437, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a9b780>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 584.0684151501692, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 120224, "pid": 33404, "iterations_since_restore": 46, "done": false, "info": {"update_time_ms": 11.53, "default": {"entropy": 1.11378014087677, "vf_explained_var": 0.7537399530410767, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0010292482329532504, "cur_lr": 0.0005000000237487257, "total_loss": 28.843368530273438, "kl": 0.00874465610831976, "vf_loss": 28.844179153442383}, "num_steps_sampled": 5532137, "load_time_ms": 15.213, "num_steps_trained": 5532137, "sample_time_ms": 14647.287, "grad_time_ms": 23323.067}, "timesteps_total": 5532137, "training_iteration": 46, "date": "2019-04-28_00-44-57", "episodes_total": 2294, "timestamp": 1556412297, "time_total_s": 1800.4975912570953, "episode_len_mean": 700.0, "timesteps_since_restore": 5532137, "time_since_restore": 1800.4975912570953, "custom_metrics": {"cost2_max": -147.61060477601382, "system_level_velocity_mean": 12.825623289045051, "outflow_rate_mean": 1108.4664759616185, "cost1_min": 251.0100621153381, "outflow_rate_min": 904.2243885005527, "cost1_mean": 334.71145103929746, "cost1_max": 411.74421025688923, "cost2_min": -210.03397526468223, "system_level_velocity_max": 15.470772503225147, "outflow_rate_max": 1269.8626494999485, "system_level_velocity_min": 9.902298927888381, "cost2_mean": -172.27390807062034}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.46097135543823, "episode_reward_max": 881.6149635619681, "episodes_this_iter": 58, "hostname": "flow-main", "episode_reward_mean": 742.7384361235673, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a674a8>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 44.26081222953901, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 118622, "pid": 33404, "iterations_since_restore": 47, "done": false, "info": {"update_time_ms": 11.305, "default": {"entropy": 1.1056092977523804, "vf_explained_var": 0.7512370347976685, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0008791052387095988, "cur_lr": 0.0005000000237487257, "total_loss": 28.918420791625977, "kl": 0.008128168061375618, "vf_loss": 28.919095993041992}, "num_steps_sampled": 5650759, "load_time_ms": 15.297, "num_steps_trained": 5650759, "sample_time_ms": 14552.509, "grad_time_ms": 23331.318}, "timesteps_total": 5650759, "training_iteration": 47, "date": "2019-04-28_00-45-35", "episodes_total": 2352, "timestamp": 1556412335, "time_total_s": 1837.9585626125336, "episode_len_mean": 693.35, "timesteps_since_restore": 5650759, "time_since_restore": 1837.9585626125336, "custom_metrics": {"cost2_max": -22.698572088753725, "system_level_velocity_mean": 13.031323442152159, "outflow_rate_mean": 1109.9175676412117, "cost1_min": 23.005267735390806, "outflow_rate_min": 514.5009007334598, "cost1_mean": 336.0570653036737, "cost1_max": 411.74421025688923, "cost2_min": -210.03397526468223, "system_level_velocity_max": 18.65000012514271, "outflow_rate_max": 1269.8626494999485, "system_level_velocity_min": 9.902298927888381, "cost2_mean": -168.9303523762606}}
{"policy_reward_mean": {}, "time_this_iter_s": 39.00318670272827, "episode_reward_max": 840.656671048881, "episodes_this_iter": 55, "hostname": "flow-main", "episode_reward_mean": 735.1585534279235, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67550>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 37.750109227164664, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 118993, "pid": 33404, "iterations_since_restore": 48, "done": false, "info": {"update_time_ms": 11.299, "default": {"entropy": 1.105320692062378, "vf_explained_var": 0.741222083568573, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0014371249126270413, "cur_lr": 0.0005000000237487257, "total_loss": 29.274141311645508, "kl": 0.009494793601334095, "vf_loss": 29.275341033935547}, "num_steps_sampled": 5769752, "load_time_ms": 16.32, "num_steps_trained": 5769752, "sample_time_ms": 14578.805, "grad_time_ms": 23175.301}, "timesteps_total": 5769752, "training_iteration": 48, "date": "2019-04-28_00-46-14", "episodes_total": 2407, "timestamp": 1556412374, "time_total_s": 1876.9617493152618, "episode_len_mean": 686.62, "timesteps_since_restore": 5769752, "time_since_restore": 1876.9617493152618, "custom_metrics": {"cost2_max": -18.94142970149933, "system_level_velocity_mean": 13.011821021466535, "outflow_rate_mean": 1101.1779380122666, "cost1_min": 17.882017906143126, "outflow_rate_min": 474.10711434370273, "cost1_mean": 331.86160993512016, "cost1_max": 401.6469209611677, "cost2_min": -201.09033951200334, "system_level_velocity_max": 18.65000012514271, "outflow_rate_max": 1251.3654091901715, "system_level_velocity_min": 9.787701147153168, "cost2_mean": -166.94263170718511}}
{"policy_reward_mean": {}, "time_this_iter_s": 37.42245125770569, "episode_reward_max": 840.4363420830214, "episodes_this_iter": 42, "hostname": "flow-main", "episode_reward_mean": 738.6481419489064, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a676d8>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 37.750109227164664, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 119880, "pid": 33404, "iterations_since_restore": 49, "done": false, "info": {"update_time_ms": 11.225, "default": {"entropy": 1.094253420829773, "vf_explained_var": 0.7697328329086304, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.0011035528732463717, "cur_lr": 0.0005000000237487257, "total_loss": 25.068744659423828, "kl": 0.008919783867895603, "vf_loss": 25.069625854492188}, "num_steps_sampled": 5889632, "load_time_ms": 17.049, "num_steps_trained": 5889632, "sample_time_ms": 14587.025, "grad_time_ms": 23160.953}, "timesteps_total": 5889632, "training_iteration": 49, "date": "2019-04-28_00-46-51", "episodes_total": 2449, "timestamp": 1556412411, "time_total_s": 1914.3842005729675, "episode_len_mean": 693.27, "timesteps_since_restore": 5889632, "time_since_restore": 1914.3842005729675, "custom_metrics": {"cost2_max": -18.94142970149933, "system_level_velocity_mean": 12.876406623939001, "outflow_rate_mean": 1104.3736457995722, "cost1_min": 17.882017906143126, "outflow_rate_min": 474.10711434370273, "cost1_mean": 333.2359329414015, "cost1_max": 396.5326327547368, "cost2_min": -208.92662530444068, "system_level_velocity_max": 17.515925815394393, "outflow_rate_max": 1243.5360174243265, "system_level_velocity_min": 9.787701147153168, "cost2_mean": -169.4585133471217}}
{"policy_reward_mean": {}, "time_this_iter_s": 36.55402851104736, "episode_reward_max": 823.3438841241243, "episodes_this_iter": 52, "hostname": "flow-main", "episode_reward_mean": 734.4561026433337, "num_metric_batches_dropped": 0, "config": {"lr_schedule": null, "train_batch_size": 90000, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "entropy_coeff": 0.0, "vf_loss_coeff": 1.0, "sample_batch_size": 200, "synchronize_filters": true, "output_max_file_size": 67108864, "num_gpus": 0, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a678d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f7863a67780>", "on_train_result": null, "on_sample_end": null}, "use_gae": true, "num_gpus_per_worker": 0, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "vf_share_layers": false, "num_sgd_iter": 10, "num_envs_per_worker": 1, "observation_filter": "NoFilter", "input_evaluation": null, "collect_metrics_timeout": 180, "batch_mode": "truncate_episodes", "simple_optimizer": false, "vf_clip_param": 1000000.0, "num_cpus_per_worker": 1, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "model": {"custom_options": {}, "channel_major": false, "conv_filters": null, "max_seq_len": 20, "lstm_cell_size": 256, "framestack": true, "fcnet_hiddens": [100, 50, 25], "fcnet_activation": "tanh", "dim": 84, "use_lstm": false, "free_log_std": false, "custom_model": null, "zero_mean": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "conv_activation": "relu", "custom_preprocessor": null, "grayscale": false}, "sample_async": false, "kl_coeff": 0.2, "compress_observations": false, "optimizer": {}, "monitor": false, "lambda": 0.97, "num_cpus_for_driver": 1, "clip_rewards": null, "kl_target": 0.01, "horizon": 1500, "clip_param": 0.3, "lr": 0.0005, "output": null, "num_workers": 60, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "input": "sampler", "custom_resources_per_worker": {}, "log_level": "INFO", "straggler_mitigation": false, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind"}, "node_ip": "10.138.0.2", "episode_reward_min": 624.4675633907392, "experiment_id": "04e9d948e3424ebfa1a93f9ad5e603db", "timesteps_this_iter": 120365, "pid": 33404, "iterations_since_restore": 50, "done": true, "info": {"update_time_ms": 11.102, "default": {"entropy": 1.0994285345077515, "vf_explained_var": 0.7507769465446472, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.0010259384289383888, "cur_lr": 0.0005000000237487257, "total_loss": 29.025320053100586, "kl": 0.009628493338823318, "vf_loss": 29.026105880737305}, "num_steps_sampled": 6009997, "load_time_ms": 17.128, "num_steps_trained": 6009997, "sample_time_ms": 14560.828, "grad_time_ms": 23022.874}, "timesteps_total": 6009997, "training_iteration": 50, "date": "2019-04-28_00-47-28", "episodes_total": 2501, "timestamp": 1556412448, "time_total_s": 1950.938229084015, "episode_len_mean": 700.0, "timesteps_since_restore": 6009997, "time_since_restore": 1950.938229084015, "custom_metrics": {"cost2_max": -150.82520945016492, "system_level_velocity_mean": 12.58208785831471, "outflow_rate_mean": 1094.8805460953167, "cost1_min": 256.94201603821875, "outflow_rate_min": 939.0324442213771, "cost1_mean": 328.49834345751094, "cost1_max": 395.6650642760028, "cost2_min": -208.92662530444068, "system_level_velocity_max": 15.026907801517115, "outflow_rate_max": 1257.2407285804156, "system_level_velocity_min": 9.787701147153168, "cost2_mean": -173.00994025709986}}
